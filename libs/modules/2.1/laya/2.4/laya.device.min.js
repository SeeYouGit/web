"use strict";var _set=function e(t,n,o,i){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);null!==r&&e(r,n,o,i)}else if("value"in a&&a.writable)a.value=o;else{var s=a.set;void 0!==s&&s.call(i,o)}return o},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_get=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(o):void 0};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t){var n=function e(){_classCallCheck(this,e)},o=function e(){_classCallCheck(this,e)},i=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.onDeviceOrientationChange=t.onDeviceOrientationChange.bind(t),t}return _inherits(o,t.EventDispatcher),_createClass(o,[{key:"on",value:function(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"on",this).call(this,e,n,i,a),t.ILaya.Browser.window.addEventListener("devicemotion",this.onDeviceOrientationChange),this}},{key:"off",value:function(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.hasListener(e)||t.ILaya.Browser.window.removeEventListener("devicemotion",this.onDeviceOrientationChange),_get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"off",this).call(this,e,n,i,a)}},{key:"onDeviceOrientationChange",value:function(e){var n=e.interval;o.acceleration.x=e.acceleration.x,o.acceleration.y=e.acceleration.y,o.acceleration.z=e.acceleration.z,o.accelerationIncludingGravity.x=e.accelerationIncludingGravity.x,o.accelerationIncludingGravity.y=e.accelerationIncludingGravity.y,o.accelerationIncludingGravity.z=e.accelerationIncludingGravity.z,o.rotationRate.alpha=-1*e.rotationRate.gamma,o.rotationRate.beta=-1*e.rotationRate.alpha,o.rotationRate.gamma=e.rotationRate.beta,t.ILaya.Browser.onAndroid?(t.ILaya.Browser.userAgent.indexOf("Chrome")>-1&&(o.rotationRate.alpha*=180/Math.PI,o.rotationRate.beta*=180/Math.PI,o.rotationRate.gamma*=180/Math.PI),o.acceleration.x*=-1,o.accelerationIncludingGravity.x*=-1):t.ILaya.Browser.onIOS&&(o.acceleration.y*=-1,o.acceleration.z*=-1,o.accelerationIncludingGravity.y*=-1,o.accelerationIncludingGravity.z*=-1,n*=1e3),this.event(t.Event.CHANGE,[o.acceleration,o.accelerationIncludingGravity,o.rotationRate,n])}}],[{key:"getTransformedAcceleration",value:function(e){var i;return o.transformedAcceleration=o.transformedAcceleration||new n,o.transformedAcceleration.z=e.z,90==t.ILaya.Browser.window.orientation?(o.transformedAcceleration.x=e.y,o.transformedAcceleration.y=-e.x):-90==t.ILaya.Browser.window.orientation?(o.transformedAcceleration.x=-e.y,o.transformedAcceleration.y=e.x):t.ILaya.Browser.window.orientation?180==t.ILaya.Browser.window.orientation&&(o.transformedAcceleration.x=-e.x,o.transformedAcceleration.y=-e.y):(o.transformedAcceleration.x=e.x,o.transformedAcceleration.y=e.y),-90==t.ILaya.stage.canvasDegree?(i=o.transformedAcceleration.x,o.transformedAcceleration.x=-o.transformedAcceleration.y,o.transformedAcceleration.y=i):90==t.ILaya.stage.canvasDegree&&(i=o.transformedAcceleration.x,o.transformedAcceleration.x=o.transformedAcceleration.y,o.transformedAcceleration.y=-i),o.transformedAcceleration}},{key:"instance",get:function(){return o._instance=o._instance||new o(0),o._instance}}]),o}();i.acceleration=new n,i.accelerationIncludingGravity=new n,i.rotationRate=new o;var a=function(e){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return _inherits(n,t.EventDispatcher),_createClass(n,[{key:"start",value:function(e,n){this.throushold=e,this.shakeInterval=n,this.lastX=this.lastY=this.lastZ=NaN,i.instance.on(t.Event.CHANGE,this,this.onShake)}},{key:"stop",value:function(){i.instance.off(t.Event.CHANGE,this,this.onShake)}},{key:"onShake",value:function(e,n,o,i){if(isNaN(this.lastX))return this.lastX=n.x,this.lastY=n.y,this.lastZ=n.z,void(this.lastMillSecond=t.ILaya.Browser.now());var a=Math.abs(this.lastX-n.x),r=Math.abs(this.lastY-n.y),s=Math.abs(this.lastZ-n.z);this.isShaked(a,r,s)&&(t.ILaya.Browser.now()-this.lastMillSecond>this.shakeInterval&&(this.event(t.Event.CHANGE),this.lastMillSecond=t.ILaya.Browser.now()));this.lastX=n.x,this.lastY=n.y,this.lastZ=n.z}},{key:"isShaked",value:function(e,t,n){return e>this.throushold&&t>this.throushold||e>this.throushold&&n>this.throushold||t>this.throushold&&n>this.throushold}}],[{key:"instance",get:function(){return n._instance=n._instance||new n,n._instance}}]),n}(),r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setPosition",value:function(e){this.pos=e,this.coords=e.coords}},{key:"latitude",get:function(){return this.coords.latitude}},{key:"longitude",get:function(){return this.coords.longitude}},{key:"altitude",get:function(){return this.coords.altitude}},{key:"accuracy",get:function(){return this.coords.accuracy}},{key:"altitudeAccuracy",get:function(){return this.coords.altitudeAccuracy}},{key:"heading",get:function(){return this.coords.heading}},{key:"speed",get:function(){return this.coords.speed}},{key:"timestamp",get:function(){return this.pos.timestamp}}]),e}(),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getCurrentPosition",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.navigator.geolocation.getCurrentPosition(function(n){e.position.setPosition(n),t.runWith(e.position)},function(e){n.runWith(e)},{enableHighAccuracy:e.enableHighAccuracy,timeout:e.timeout,maximumAge:e.maximumAge})}},{key:"watchPosition",value:function(t,n){return e.navigator.geolocation.watchPosition(function(n){e.position.setPosition(n),t.runWith(e.position)},function(e){n.runWith(e)},{enableHighAccuracy:e.enableHighAccuracy,timeout:e.timeout,maximumAge:e.maximumAge})}},{key:"clearWatch",value:function(t){e.navigator.geolocation.clearWatch(t)}}]),e}();s.navigator=t.ILaya.Browser.window.navigator,s.position=new r,s.PERMISSION_DENIED=1,s.POSITION_UNAVAILABLE=2,s.TIMEOUT=3,s.supported=!!s.navigator.geolocation,s.enableHighAccuracy=!1,s.timeout=1e10,s.maximumAge=0;var l=function(e){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._w=0,e._h=0,e._width=1,e._height=1,e.createDomElement(),e}return _inherits(n,t.Bitmap),_createClass(n,[{key:"createDomElement",value:function(){var e=this;this._source=this.video=t.ILaya.Browser.createElement("video");var n=this.video.style;n.position="absolute",n.top="0px",n.left="0px",this.video.addEventListener("loadedmetadata",function(){e._w=e.video.videoWidth,e._h=e.video.videoHeight})}},{key:"setSource",value:function(e,t){for(;this.video.childElementCount;)this.video.firstChild.remove();1&t&&this.appendSource(e,"video/mp4"),2&t&&this.appendSource(e+".ogg","video/ogg")}},{key:"appendSource",value:function(e,n){var o=t.ILaya.Browser.createElement("source");o.src=e,o.type=n,this.video.appendChild(o)}},{key:"getVideo",value:function(){return this.video}},{key:"_getSource",value:function(){return this._source}},{key:"destroy",value:function(){_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),t.ILaya.Render.isConchApp&&this.video._destroy()}}]),n}();l.create=function(){return new l};var c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"supported",value:function(){return!!t.ILaya.Browser.window.navigator.getUserMedia}},{key:"getMedia",value:function(e,n,o){t.ILaya.Browser.window.navigator.getUserMedia&&t.ILaya.Browser.window.navigator.getUserMedia(e,function(e){n.runWith(t.ILaya.Browser.window.URL.createObjectURL(e))},function(e){o.runWith(e)})}}]),e}(),u=function(e){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=t.LayaGL.instance;return!t.ILaya.Render.isConchApp&&t.ILaya.Browser.onIPhone?_possibleConstructorReturn(e):(e.gl=t.ILaya.Render.isConchApp?window.LayaGLContext.instance:t.WebGLContext.mainContext,e._source=e.gl.createTexture(),t.WebGLContext.bindTexture(e.gl,o.TEXTURE_2D,e._source),e.gl.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),e.gl.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),e.gl.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),e.gl.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),t.WebGLContext.bindTexture(e.gl,o.TEXTURE_2D,null),e)}return _inherits(n,l),_createClass(n,[{key:"updateTexture",value:function(){if(t.ILaya.Render.isConchApp||!t.ILaya.Browser.onIPhone){var e=t.LayaGL.instance;t.WebGLContext.bindTexture(this.gl,e.TEXTURE_2D,this._source),this.gl.texImage2D(e.TEXTURE_2D,0,e.RGB,e.RGB,e.UNSIGNED_BYTE,this.video),n.curBindSource=this._source}}},{key:"destroy",value:function(){this._source&&(this.gl=t.ILaya.Render.isConchApp?window.LayaGLContext.instance:t.WebGLContext.mainContext,n.curBindSource==this._source&&(t.WebGLContext.bindTexture(this.gl,this.gl.TEXTURE_2D,null),n.curBindSource=null),this.gl.deleteTexture(this._source)),_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"_glTexture",get:function(){return this._source}}]),n}(),d=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:320,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:240;_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.htmlVideo=new u,i.videoElement=i.htmlVideo.getVideo(),i.videoElement.layaTarget=i,i.internalTexture=new t.Texture(i.htmlVideo),i.videoElement.addEventListener("abort",n.onAbort),i.videoElement.addEventListener("canplay",n.onCanplay),i.videoElement.addEventListener("canplaythrough",n.onCanplaythrough),i.videoElement.addEventListener("durationchange",n.onDurationchange),i.videoElement.addEventListener("emptied",n.onEmptied),i.videoElement.addEventListener("error",n.onError),i.videoElement.addEventListener("loadeddata",n.onLoadeddata),i.videoElement.addEventListener("loadedmetadata",n.onLoadedmetadata),i.videoElement.addEventListener("loadstart",n.onLoadstart),i.videoElement.addEventListener("pause",n.onPause),i.videoElement.addEventListener("play",n.onPlay),i.videoElement.addEventListener("playing",n.onPlaying),i.videoElement.addEventListener("progress",n.onProgress),i.videoElement.addEventListener("ratechange",n.onRatechange),i.videoElement.addEventListener("seeked",n.onSeeked),i.videoElement.addEventListener("seeking",n.onSeeking),i.videoElement.addEventListener("stalled",n.onStalled),i.videoElement.addEventListener("suspend",n.onSuspend),i.videoElement.addEventListener("timeupdate",n.onTimeupdate),i.videoElement.addEventListener("volumechange",n.onVolumechange),i.videoElement.addEventListener("waiting",n.onWaiting),i.videoElement.addEventListener("ended",i.onPlayComplete.bind(i)),i.size(e,o),t.ILaya.Browser.onMobile&&(i.onDocumentClick=i.onDocumentClick.bind(i),t.ILaya.Browser.document.addEventListener("touchend",i.onDocumentClick)),i}return _inherits(n,t.Sprite),_createClass(n,[{key:"onPlayComplete",value:function(e){t.ILaya.Render.isConchApp&&this.videoElement&&this.videoElement.loop||t.ILaya.timer.clear(this,this.renderCanvas),this.event("ended")}},{key:"load",value:function(e){0==e.indexOf("blob:")?this.videoElement.src=e:this.htmlVideo.setSource(e,1)}},{key:"play",value:function(){this.videoElement.play(),t.ILaya.timer.frameLoop(1,this,this.renderCanvas)}},{key:"pause",value:function(){this.videoElement.pause(),t.ILaya.timer.clear(this,this.renderCanvas)}},{key:"reload",value:function(){this.videoElement.load()}},{key:"canPlayType",value:function(e){var t;switch(e){case 1:t="video/mp4";break;case 2:t="video/ogg";break;case 8:t="video/webm"}return this.videoElement.canPlayType(t)}},{key:"renderCanvas",value:function(){0!==this.readyState&&(this.htmlVideo.updateTexture(),this.graphics.clear(),this.graphics.drawTexture(this.internalTexture,0,0,this.width,this.height))}},{key:"onDocumentClick",value:function(){this.videoElement.play(),this.videoElement.pause(),t.ILaya.Browser.document.removeEventListener("touchend",this.onDocumentClick)}},{key:"size",value:function(e,o){if(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"size",this).call(this,e,o),t.ILaya.Render.isConchApp){var i=t.ILaya.Utils.getTransformRelativeToWindow(this,0,0);this.videoElement.width=e*i.scaleX}else this.videoElement.width=e/t.ILaya.Browser.pixelRatio;return this.paused&&this.renderCanvas(),this}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this,e),this.videoElement.removeEventListener("abort",n.onAbort),this.videoElement.removeEventListener("canplay",n.onCanplay),this.videoElement.removeEventListener("canplaythrough",n.onCanplaythrough),this.videoElement.removeEventListener("durationchange",n.onDurationchange),this.videoElement.removeEventListener("emptied",n.onEmptied),this.videoElement.removeEventListener("error",n.onError),this.videoElement.removeEventListener("loadeddata",n.onLoadeddata),this.videoElement.removeEventListener("loadedmetadata",n.onLoadedmetadata),this.videoElement.removeEventListener("loadstart",n.onLoadstart),this.videoElement.removeEventListener("pause",n.onPause),this.videoElement.removeEventListener("play",n.onPlay),this.videoElement.removeEventListener("playing",n.onPlaying),this.videoElement.removeEventListener("progress",n.onProgress),this.videoElement.removeEventListener("ratechange",n.onRatechange),this.videoElement.removeEventListener("seeked",n.onSeeked),this.videoElement.removeEventListener("seeking",n.onSeeking),this.videoElement.removeEventListener("stalled",n.onStalled),this.videoElement.removeEventListener("suspend",n.onSuspend),this.videoElement.removeEventListener("timeupdate",n.onTimeupdate),this.videoElement.removeEventListener("volumechange",n.onVolumechange),this.videoElement.removeEventListener("waiting",n.onWaiting),this.videoElement.removeEventListener("ended",this.onPlayComplete),this.pause(),this.videoElement.layaTarget=null,this.videoElement=null,this.htmlVideo.destroy()}},{key:"syncVideoPosition",value:function(){var e,n=t.ILaya.stage;e=t.ILaya.Utils.getGlobalPosAndScale(this);var o=n._canvasTransform.a,i=n._canvasTransform.d,a=e.x*n.clientScaleX*o+n.offset.x,r=e.y*n.clientScaleY*i+n.offset.y;this.videoElement.style.left=a+"px",this.videoElement.style.top=r+"px",this.videoElement.width=this.width/t.ILaya.Browser.pixelRatio,this.videoElement.height=this.height/t.ILaya.Browser.pixelRatio}},{key:"buffered",get:function(){return this.videoElement.buffered}},{key:"currentSrc",get:function(){return this.videoElement.currentSrc}},{key:"currentTime",get:function(){return this.videoElement.currentTime},set:function(e){this.videoElement.currentTime=e,this.renderCanvas()}},{key:"volume",set:function(e){this.videoElement.volume=e},get:function(){return this.videoElement.volume}},{key:"readyState",get:function(){return this.videoElement.readyState}},{key:"videoWidth",get:function(){return this.videoElement.videoWidth}},{key:"videoHeight",get:function(){return this.videoElement.videoHeight}},{key:"duration",get:function(){return this.videoElement.duration}},{key:"ended",get:function(){return this.videoElement.ended}},{key:"error",get:function(){return this.videoElement.error}},{key:"loop",get:function(){return this.videoElement.loop},set:function(e){this.videoElement.loop=e}},{key:"x",set:function(e){if(_set(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"x",e,this),t.ILaya.Render.isConchApp){var o=t.ILaya.Utils.getTransformRelativeToWindow(this,0,0);this.videoElement.style.left=o.x}},get:function(){return _get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"x",this)}},{key:"y",set:function(e){if(_set(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"y",e,this),t.ILaya.Render.isConchApp){var o=t.ILaya.Utils.getTransformRelativeToWindow(this,0,0);this.videoElement.style.top=o.y}},get:function(){return _get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"y",this)}},{key:"playbackRate",get:function(){return this.videoElement.playbackRate},set:function(e){this.videoElement.playbackRate=e}},{key:"muted",get:function(){return this.videoElement.muted},set:function(e){this.videoElement.muted=e}},{key:"paused",get:function(){return this.videoElement.paused}},{key:"preload",get:function(){return this.videoElement.preload},set:function(e){this.videoElement.preload=e}},{key:"seekable",get:function(){return this.videoElement.seekable}},{key:"seeking",get:function(){return this.videoElement.seeking}},{key:"width",set:function(e){if(t.ILaya.Render.isConchApp){var o=t.ILaya.Utils.getTransformRelativeToWindow(this,0,0);this.videoElement.width=e*o.scaleX}else this.videoElement.width=this.width/t.ILaya.Browser.pixelRatio;_set(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"width",e,this),this.paused&&this.renderCanvas()},get:function(){return _get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"width",this)}},{key:"height",set:function(e){if(t.ILaya.Render.isConchApp){var o=t.ILaya.Utils.getTransformRelativeToWindow(this,0,0);this.videoElement.height=e*o.scaleY}else this.videoElement.height=this.height/t.ILaya.Browser.pixelRatio;_set(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"height",e,this)},get:function(){return _get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"height",this)}}],[{key:"onAbort",value:function(e){e.target.layaTarget.event("abort")}},{key:"onCanplay",value:function(e){e.target.layaTarget.event("canplay")}},{key:"onCanplaythrough",value:function(e){e.target.layaTarget.event("canplaythrough")}},{key:"onDurationchange",value:function(e){e.target.layaTarget.event("durationchange")}},{key:"onEmptied",value:function(e){e.target.layaTarget.event("emptied")}},{key:"onError",value:function(e){e.target.layaTarget.event("error")}},{key:"onLoadeddata",value:function(e){e.target.layaTarget.event("loadeddata")}},{key:"onLoadedmetadata",value:function(e){e.target.layaTarget.event("loadedmetadata")}},{key:"onLoadstart",value:function(e){e.target.layaTarget.event("loadstart")}},{key:"onPause",value:function(e){e.target.layaTarget.event("pause")}},{key:"onPlay",value:function(e){e.target.layaTarget.event("play")}},{key:"onPlaying",value:function(e){e.target.layaTarget.event("playing")}},{key:"onProgress",value:function(e){e.target.layaTarget.event("progress")}},{key:"onRatechange",value:function(e){e.target.layaTarget.event("ratechange")}},{key:"onSeeked",value:function(e){e.target.layaTarget.event("seeked")}},{key:"onSeeking",value:function(e){e.target.layaTarget.event("seeking")}},{key:"onStalled",value:function(e){e.target.layaTarget.event("stalled")}},{key:"onSuspend",value:function(e){e.target.layaTarget.event("suspend")}},{key:"onTimeupdate",value:function(e){e.target.layaTarget.event("timeupdate")}},{key:"onVolumechange",value:function(e){e.target.layaTarget.event("volumechange")}},{key:"onWaiting",value:function(e){e.target.layaTarget.event("waiting")}}]),n}();d.MP4=1,d.OGG=2,d.CAMERA=4,d.WEBM=8,d.SUPPORT_PROBABLY="probably",d.SUPPORT_MAYBY="maybe",d.SUPPORT_NO="";var h=function(e){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.onDeviceOrientationChange=t.onDeviceOrientationChange.bind(t),t}return _inherits(n,t.EventDispatcher),_createClass(n,[{key:"on",value:function(e,o,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"on",this).call(this,e,o,i,a),t.ILaya.Browser.window.addEventListener("deviceorientation",this.onDeviceOrientationChange),this}},{key:"off",value:function(e,o,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.hasListener(e)||t.ILaya.Browser.window.removeEventListener("deviceorientation",this.onDeviceOrientationChange),_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"off",this).call(this,e,o,i,a)}},{key:"onDeviceOrientationChange",value:function(e){n.info.alpha=e.alpha,n.info.beta=e.beta,n.info.gamma=e.gamma,e.webkitCompassHeading&&(n.info.alpha=-1*e.webkitCompassHeading,n.info.compassAccuracy=e.webkitCompassAccuracy),this.event(t.Event.CHANGE,[e.absolute,n.info])}}],[{key:"instance",get:function(){return n._instance=n._instance||new n(0),n._instance}}]),n}();h.info=new o,e.AccelerationInfo=n,e.Accelerator=i,e.Geolocation=s,e.GeolocationInfo=r,e.Gyroscope=h,e.HtmlVideo=l,e.Media=c,e.RotationInfo=o,e.Shake=a,e.Video=d,e.WebGLVideo=u}(window.Laya=window.Laya||{},Laya);