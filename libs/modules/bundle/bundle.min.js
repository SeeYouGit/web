!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=43)}([function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i,o,r=window.wx?window.wx.config:window.config;!function(t){t.LAYA="laya",t.EGRET="egret"}(i||(i={})),function(t){t.WEB="web",t.WECHAT="wechat",t.QQ="qq",t.BAIDU="baidu",t.OPPO="oppo",t.BYTEDANCE="bytedance"}(o||(o={}));var a=function(){function e(){}return e.init=function(){for(var t in r)this[t]=r[t];switch("undefined"!=typeof Laya?this.backend_engine=i.LAYA:"undefined"!=typeof egret&&(this.backend_engine=i.EGRET),this.backend_engine){case i.LAYA:this.start_laya();break;case i.EGRET:this.start_egret();break;default:throw new Error("未找到受支持的游戏引擎"+this.backend_engine+"， 请检查 game.js 中是否引入引擎库")}},e.start_laya=function(){"undefined"==typeof Laya3D?Laya.init(this.width,this.height):Laya3D.init(this.width,this.height),void 0!==Laya.Physics&&Laya.Physics.enable(),(this.inspector||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),this.physics_debug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),Laya.stage.bgColor=this.canvas_color,Laya.stage.scaleMode="showall",Laya.stage.screenMode=this.screen_mode,Laya.stage.useRetinalCanvas=this.retinal_mode,this.base_resource_url&&(Laya.URL.basePath=this.base_resource_url),console.log("使用资源路径",Laya.URL.basePath),this.backend_stage=Laya.stage,console.log("Laya引擎启动成功")},e.start_egret=function(){t.Main=egret.DisplayObjectContainer,egret.runEgret({renderMode:"webgl",scaleMode:egret.StageScaleMode.FIXED_WIDTH,frameRate:60,contentWidth:this.width,contentHeight:this.height,orientation:"portrait",maxTouches:10}),egret_stages&&egret_stages.length?(this.backend_stage=egret_stages[0],console.log("Egret 引擎启动成功")):console.error("Egret 引擎启动失败")},e.project="laya-start-kit",e.appid="9d92fffa-1176-4d37-8c73-5f6280f233a6",e.appkey="b9b84e6a-3104-469c-971d-641a5dcdf973",e.version="1.0.6",e.server="https://api.geequlim.com/api/",e.width=750,e.height=1334,e.scale_mode="fixedwidth",e.screen_mode="vertical",e.canvas_color="#232323",e.retinal_mode=!0,e.platform="web",e.debug=!0,e.stat=!0,e.inspector=!1,e.physics_debug=!1,e.backend_stage=null,e.base_resource_url="",e.res_version="",e.adVersion="1.0.16",e}();e.c=a}).call(this,n(29))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i,o=n(5),r=n(4),a=n(28),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},l={GRAVITY:.6,WIDTH:300,HEIGHT:300,WIDTH_DUCK:59,HEIGHT_DUCK:25,MAX_JUMP_HEIGHT:300,MIN_JUMP_HEIGHT:300,SPRITE_WIDTH:262,DROP_VELOCITY:-5,INITIAL_JUMP_VELOCITY:-30,SPEED_DROP_COEFFICIENT:3,INTRO_DURATION:1500,START_X_POS:50,BLINK_TIMING:7e3,MAX_OBSTACLE_DUPLICATION:2,GAP_COEFFICIENT:.6,ARCADE_MODE_INITIAL_TOP_POSITION:35,ARCADE_MODE_TOP_POSITION_PERCENT:.1,CLEAR_TIME:3e3,DEFAULT_WIDTH:750,DEFAULT_HEIGH:1334,MOBILE_SPEED_COEFFICIENT:1.2,SPEED:6,MAX_SPEED:13,ACCELERATION:.002,GAMEOVER_CLEAR_TIME:750},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.initialize=function(){this.staticData=r.c.inst.get_module(a.a)},e.prototype.update=function(t){},e.prototype.start=function(){},e.prototype.load=function(t){},e.prototype.save=function(){},e=u([Object(o.b)("DinoModule")],e)}(o.a);e.b=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i,o=n(23),r=n(12),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.hasListener=function(t){return!!(this._events&&this._events[t])},e.prototype.event=function(t,e){if(void 0===e&&(e=null),!this._events||!this._events[t])return!1;var n=this._events[t];if(n.run)n.once&&delete this._events[t],null!=e?n.runWith(e):n.run();else{for(var i=0,o=n.length;i<o;i++){var r=n[i];r&&(null!=e?r.runWith(e):r.run()),r&&!r.once||(n.splice(i,1),i--,o--)}0===n.length&&this._events&&delete this._events[t]}return!0},e.prototype.on=function(t,e,n,i){return void 0===i&&(i=null),this._createListener(t,e,n,i,!1)},e.prototype.once=function(t,e,n,i){return void 0===i&&(i=null),this._createListener(t,e,n,i,!0)},e.prototype._createListener=function(t,e,n,i,o,r){void 0===r&&(r=!0),r&&this.off(t,e,n,o);var a=u.create(e||this,n,i,o);this._events||(this._events={});var s=this._events;return s[t]?s[t].run?s[t]=[s[t],a]:s[t].push(a):s[t]=a,this},e.prototype.off=function(t,e,n,i){if(void 0===i&&(i=!1),!this._events||!this._events[t])return this;var o=this._events[t];if(null!=o)if(o.run)e&&o.caller!==e||null!=n&&o.method!==n||i&&!o.once||(delete this._events[t],o.recover());else{for(var r=0,a=0,s=o.length;a<s;a++){var u=o[a];u?!u||e&&u.caller!==e||null!=n&&u.method!==n||i&&!u.once||(r++,o[a]=null,u.recover()):r++}r===s&&delete this._events[t]}return this},e.prototype.offAll=function(t){void 0===t&&(t=null);var e=this._events;if(!e)return this;if(t)this._recoverHandlers(e[t]),delete e[t];else{for(var n in e)this._recoverHandlers(e[n]);this._events=null}return this},e.prototype.offAllCaller=function(t){if(t&&this._events)for(var e in this._events)this.off(e,t,null);return this},e.prototype._recoverHandlers=function(t){if(t)if(t.run)t.recover();else for(var e=t.length-1;e>-1;e--)t[e]&&(t[e].recover(),t[e]=null)},e}(r.a),u=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return a(e,t),e.prototype.recover=function(){this._id>0&&(this._id=0,e._pool.push(this.clear()))},e.create=function(t,n,i,o){return void 0===i&&(i=null),void 0===o&&(o=!0),e._pool.length?e._pool.pop().setTo(t,n,i,o):new e(t,n,i,o)},e._pool=[],e}(o.a)},function(t,e,n){"use strict";var i,o=n(5),r=n(7),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},u=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},l=function(t){function e(){var e=t.call(this)||this;return e.banner=null,e.banner=new c,e}return a(e,t),e.prototype.initialize=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.banner.instance()];case 1:return t.sent(),[2]}}))}))},e.prototype.show_banner=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.banner.show(),[2]}))}))},e.prototype.hide_banner=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.banner.hide(),[2]}))}))},e}(r.b),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return a(e,t),e.prototype.instance=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return this.native_ad=document.createElement("div"),(t=document.createElement("h1")).innerText="原生广告",this.native_ad.appendChild(t),this.native_ad.setAttribute("style","\nmin-height: 120px;\nposition: absolute;\nbottom: 0;\nwidth: 100%;\nbackground-color: greenyellow;\ntext-align: center;\nmargin: 0px auto;\n"),document.getElementById("layaContainer").appendChild(this.native_ad),[4,this.hide()];case 1:return e.sent(),[2]}}))}))},e.prototype.show=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.native_ad&&(this.native_ad.style.visibility="visible"),[2]}))}))},e.prototype.hide=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return this.native_ad&&(this.native_ad.style.visibility="hidden"),[2]}))}))},e}(r.a);n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p}));var h,p,f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},y=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},_=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};!function(t){t[t.CONFIGURATION_ERROR=0]="CONFIGURATION_ERROR",t[t.SHARE_CANCELD=-1]="SHARE_CANCELD",t[t.NOT_SHARED_TO_GROUP=-2]="NOT_SHARED_TO_GROUP",t[t.NOT_SHARED_TO_DIFFRENT_GROUP=-3]="NOT_SHARED_TO_DIFFRENT_GROUP"}(h||(h={})),function(t){t[t.CONFIGURATION_ERROR=0]="CONFIGURATION_ERROR",t[t.NO_VIDEO_FILLED=-1]="NO_VIDEO_FILLED",t[t.WATCH_CANCELED=-2]="WATCH_CANCELED"}(p||(p={}));var m=function(t){function e(){var e=t.call(this)||this;return e.ad_manager=null,n.inst=e,e.ad_manager=new l,e}var n;return f(e,t),n=e,Object.defineProperty(e.prototype,"admanager",{get:function(){return this.ad_manager},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.ad_manager.initialize(),console.log("初始化平台",this.ad_manager)},e.prototype.login=function(){return y(this,void 0,void 0,(function(){return _(this,(function(t){return[2,{uuid:"82d7268b-2707-412b-b4c4-65baf63e9b43",name:"Hero",avatar:"",location:"China"}]}))}))},e.prototype.get_info=function(){return y(this,void 0,void 0,(function(){return _(this,(function(t){return[2,{uuid:"82d7268b-2707-412b-b4c4-65baf63e9b43",platform:"web",device:"chrome"}]}))}))},e.prototype.get_user_info=function(){return y(this,void 0,void 0,(function(){return _(this,(function(t){return[2,{uuid:"82d7268b-2707-412b-b4c4-65baf63e9b43",name:"Hero",avatar:"",location:"China"}]}))}))},e.prototype.navigate_to_app=function(t,e,n){return new Promise((function(t,e){t?t():e&&e()}))},e.prototype.share=function(){return new Promise((function(t,e){t()}))},e.prototype.play_reward_video=function(){return this.admanager.show_reward_video()},e.prototype.dump_loaded_resources=function(){if(Laya.loaded_res_pathes)return JSON.stringify(Object.keys(Laya.loaded_res_pathes),void 0,"\t")},e.prototype.alert=function(t){window.alert(t)},e.inst=null,e=n=d([Object(o.b)("platform")],e)}(o.a);e.c=m},function(t,e,n){"use strict";var i,o=n(2),r=n(24),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.liseners=[],e}return a(e,t),e.prototype.event=function(e,n){var i,o;try{for(var r=s(this.liseners),a=r.next();!a.done;a=r.next()){if((0,a.value)(e,n))return!0}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return t.prototype.event.call(this,e,n)},e.prototype.add_lisener=function(t){t&&this.liseners.push(t)},e.prototype.remove_lisener=function(t){var e=this.liseners.indexOf(t);-1!=e&&this.liseners.splice(e,1)},e}(o.a);n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return h}));var l,c,h,p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},d=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.LOGIC_INITIALIZED="LOGIC_INITIALIZED",t.LOGIC_STARTED="LOGIC_STARTED"}(l||(l={})),function(t){t[t.None=0]="None",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(c||(c={})),function(t){t.RESLOADSUC="resLoadSuc"}(h||(h={}));var _=function(t){function e(n){var i,o,a=t.call(this)||this;a.storage=null,a.messenger=null,a.paused=!1,a.logic_run_time=0,a.initialized=!1,a.timer=new r.a,a.modules={},a.modules_list=[],a.modules_type_list=[],a.query_saving=!1,a.load_state=c.None,a.stated=!1,window.game,window.game=a,e.inst=a,a.modules_type_list=n.modules;try{for(var s=y(n.modules),l=s.next();!l.done;l=s.next()){var h=l.value,p=h.prototype.name;!p||p.length;var f=new h(n.options?n.options[p]:void 0);f.name=p,a.modules_list.push(f),a.modules[p]=f}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a.messenger=new u,a.storage=n.storage,a}return p(e,t),e.prototype.get_module=function(t){return this.modules[t.prototype.name]},e.prototype.setupt=function(){var t,e;try{for(var n=y(this.modules_list),i=n.next();!i.done;i=n.next()){i.value.setup()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.initialize=function(){var t,e;console.log("开始初始化逻辑框架"),this.paused=!1,this.logic_run_time=0;try{for(var n=y(this.modules_list),i=n.next();!i.done;i=n.next()){i.value.initialize()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.initialized=!0,this.event(l.LOGIC_INITIALIZED),console.log("逻辑框架初始化完毕")},e.prototype.start=function(){var t,e;console.log("启动各个逻辑模块");try{for(var n=y(this.modules_list),i=n.next();!i.done;i=n.next()){i.value.start()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.stated=!0,this.event(l.LOGIC_STARTED),console.log("逻辑框架启动完毕")},e.prototype.is_ready=function(){var t,e;try{for(var n=y(this.modules_list),i=n.next();!i.done;i=n.next()){if(!i.value.is_ready())return!1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!0},e.prototype.update=function(t){var e,n,i,o,r=this;this.query_saving&&this.save();try{for(var a=y(this.modules_list),s=a.next();!s.done;s=a.next()){s.value.always_update(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}if(!this.paused&&(this.initialized||this.is_ready())&&(this.initialized||(this.initialize(),this.load_state=c.LOADING,this.load().then((function(){r.load_state=c.LOADED})).catch((function(t){console.error(t),r.load_state=c.LOADED}))),this.load_state==c.LOADED)){this.logic_run_time+=t,this.stated||this.start(),this.timer.update(t);try{for(var u=y(this.modules_list),l=u.next();!l.done;l=u.next()){l.value.update(t)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}},e.prototype.query_save=function(){this.query_saving=!0},e.prototype.save=function(){var t={version:(new Date).getTime()};for(var e in this.modules)if(this.modules.hasOwnProperty(e)){var n=this.modules[e];t[e]=n.save()}return this.query_saving=!1,this.storage&&this.storage.set_item("game",t),console.log("存档数据",t),t},e.prototype.load=function(){return f(this,void 0,void 0,(function(){var t,e,n;return d(this,(function(i){switch(i.label){case 0:return this.storage?[4,this.storage.get_item("game")]:[2,void 0];case 1:if(t=i.sent())for(e in console.log("读取数据",t),this.modules)this.modules.hasOwnProperty(e)&&(n=this.modules[e],null!=t[e]&&n.load(t[e]));return[2,t]}}))}))},e.inst=null,e}(o.a);e.c=_},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var i,o=n(2),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this)||this;return n.name="",n}return r(e,t),e.prototype.setup=function(){},e.prototype.initialize=function(){},e.prototype.update=function(t){},e.prototype.start=function(){},e.prototype.always_update=function(t){},e.prototype.load=function(t){},e.prototype.save=function(){},e.prototype.is_ready=function(){return!0},e}(o.a);function s(t){return function(e){e.prototype.name=t}}e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return y})),n.d(e,"c",(function(){return _}));var i,o=n(7),r=n(18),a=n(3),s=n(8),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},h={BANNER_AD_UNIT_ID:"",REWARD_AD_UNIT_ID:"",INTERSTITIAL_AD_UNIT_ID:""},p=function(t){function e(){var e=t.call(this)||this;return e.banner=null,e.video=null,e.interstitial=null,e.create_ads(),e}return u(e,t),e.prototype.create_ads=function(){h.BANNER_AD_UNIT_ID&&(this.banner=new d(h.BANNER_AD_UNIT_ID)),h.REWARD_AD_UNIT_ID&&(this.video=new y(h.REWARD_AD_UNIT_ID)),h.INTERSTITIAL_AD_UNIT_ID&&(this.interstitial=new _(h.INTERSTITIAL_AD_UNIT_ID))},e.prototype.initialize=function(){return l(this,void 0,void 0,(function(){var t,e,n;return c(this,(function(i){switch(i.label){case 0:if(!this.banner)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.banner.instance()];case 2:return i.sent(),[3,4];case 3:return t=i.sent(),console.error("微信广告:","创建Banner广告失败",t),[3,4];case 4:if(!this.video)return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.video.instance()];case 6:return i.sent(),[3,8];case 7:return e=i.sent(),console.error("微信广告:","创建视频广告失败",e),[3,8];case 8:if(!this.interstitial)return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.interstitial.instance()];case 10:return i.sent(),[3,12];case 11:return n=i.sent(),console.error("微信广告:","创建插页广告失败",n),[3,12];case 12:return[2]}}))}))},e.prototype.show_banner=function(t){var e=this;return console.log("微信广告: 尝试展示Banner"),new Promise((function(n,i){e.banner?e.banner.show(t).then((function(){return n()})).catch((function(){return i()})):i()}))},e.prototype.hide_banner=function(){var t=this;return console.log("微信广告: 尝试隐藏Banner"),new Promise((function(e,n){t.banner?(t.banner.hide(),e()):n()}))},e.prototype.show_reward_video=function(){var t=this;return new Promise((function(e,n){t.video?t.video.show().then((function(){return e()})).catch((function(t){return n(t)})):n(a.b.CONFIGURATION_ERROR)}))},e.prototype.show_intersitial=function(){var t=this;return new Promise((function(e,n){t.interstitial?t.banner.show().then((function(){return e()})).catch((function(){return n()})):n()}))},e}(o.b);e.e=p;var f,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refresh_interval=30,e.native_ad=null,e.screen_size=null,e}return u(e,t),e.prototype.instance=function(){var t=this;return new Promise((function(e,n){if(t.native_ad)e();else{var i=wx.getSystemInfoSync();t.screen_size=new r.a(i.screenWidth,i.screenHeight);var o=wx.createBannerAd({adUnitId:t.id,adIntervals:t.refresh_interval,style:{left:(i.windowWidth-300)/2,top:0,width:300}}),a=function(){Laya.timer.once(1e3,null,(function(){o.style.top=i.windowHeight-(o.style.realHeight||o.style.height),o.style.left=(i.windowWidth-(o.style.realWidth||o.style.width))/2})),o.offResize(a)};o.onResize(a),o.onLoad((function(){console.log("微信广告:","Banner加载成功",t.id),t.native_ad=o,e()})),o.onError((function(e){console.log("微信广告:","Banner加载失败",t.id,e),o.offResize(a),n()}))}}))},e.prototype.destrory=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){return this.native_ad&&(this.native_ad.destroy(),this.native_ad=null),[2]}))}))},e.prototype.show=function(t){return l(this,void 0,void 0,(function(){return c(this,(function(e){return this.native_ad&&(this.set_position(t),this.native_ad.show()),[2]}))}))},e.prototype.hide=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){return this.native_ad&&this.native_ad.hide(),[2]}))}))},e.prototype.set_position=function(t){if(this.native_ad)if(t){var e=s.a.inst.stage.size,n=this.screen_size.divide(e);this.native_ad.style.left=n.x*t.x,this.native_ad.style.top=n.y*t.y}else{var i=wx.getSystemInfoSync(),o=this.native_ad.style.realHeight||this.native_ad.style.height||72;this.native_ad.style.top=i.screenHeight-o}},e}(o.a);!function(t){t.VIDEO_PLAY_DONE="VIDEO_PLAY_DONE",t.VIDEO_PLAY_CANCLED="VIDEO_PLAY_CANCLED"}(f||(f={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return u(e,t),e.prototype.instance=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){return this.native_ad||(this.native_ad=this.create_reward_video()),[2]}))}))},e.prototype.destrory=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){return this.native_ad&&(this.native_ad.destroy(),this.native_ad=null),[2]}))}))},e.prototype.show=function(t){var e=this;return new Promise((function(t,n){e.native_ad?(wx.showLoading({title:"加载中",mask:!0}),Laya.timer.once(2e3,null,(function(){wx.hideLoading()})),e.offAll(f.VIDEO_PLAY_DONE),e.offAll(f.VIDEO_PLAY_CANCLED),e.on(f.VIDEO_PLAY_DONE,null,(function(){return t()})),e.on(f.VIDEO_PLAY_CANCLED,null,(function(){return n(a.b.WATCH_CANCELED)})),e.native_ad.show().catch((function(){n(a.b.NO_VIDEO_FILLED)}))):n(a.b.CONFIGURATION_ERROR)}))},e.prototype.hide=function(){return new Promise((function(t,e){e()}))},e.prototype.create_reward_video=function(){var t=this,e=this.id;if(e){var n=wx.createRewardedVideoAd({adUnitId:e});return n.onLoad((function(){console.log("微信广告:","激励视频加载成功",e)})),n.onError((function(t){console.log("微信广告:","激励视频加载失败",e,t)})),n.onClose((function(e){e&&e.isEnded||void 0===e?t.event(f.VIDEO_PLAY_DONE):t.event(f.VIDEO_PLAY_CANCLED),n.load()})),n.load(),n}return null},e}(o.a),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return u(e,t),e.prototype.instance=function(){return l(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){return this.native_ad||(this.native_ad=wx.createInterstitialAd({adUnitId:this.id}),this.native_ad.load(),this.native_ad.onClose((function(){t.native_ad.load()}))),[2]}))}))},e.prototype.show=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.native_ad?[4,this.native_ad.show()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,o=n(2),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},s=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=function(t){function e(e){var n=t.call(this)||this;return n.id=e,n}return r(e,t),e.prototype.instance=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},e.prototype.destrory=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},e.prototype.show=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},e.prototype.hide=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},e}(o.a),l=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initialize=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},e.prototype.show_banner=function(t){return new Promise((function(t,e){t()}))},e.prototype.hide_banner=function(){return new Promise((function(t,e){t()}))},e.prototype.show_intersitial=function(){return new Promise((function(t,e){t()}))},e.prototype.show_reward_video=function(){return new Promise((function(t,e){t()}))},e}(o.a);e.b=l},function(t,e,n){"use strict";(function(t){var i=n(30),o=n(38),r=n(17),a=n(31),s=n(32),u=n(0),l=n(33),c=n(34),h=n(24),p=n(21),f=function(){function e(n){switch(this.fairygui_helper=null,this.stage=null,this.res=null,this.scene_manager=null,this.timer=null,this.last_frame_time=0,t.engine,this.timer=new h.a,this.last_frame_time=this.now,e.inst=this,t.engine=this,this.res=new i.a,t.RES=this.res,this.res.register_loader(new Set(["png","jpg","gif","jpeg","bmp"]),r.a.TextureLoader),this.res.register_loader(new Set(["json"]),r.a.JSONLoader),this.res.register_loader(new Set(["mp3","wav"]),r.a.SoundLoader),this.res.register_loader(new Set(["bin","fui"]),r.a.BinaryLoader),u.c.backend_engine){case u.a.LAYA:this.stage=new a.a(n),"undefined"!=typeof Laya3D&&(this.res.register_loader(new Set(["ls"]),p.LayaScene3DLoader),this.res.register_loader(new Set(["lh"]),p.LayaSprite3DLoader));break;case u.a.EGRET:this.stage=new l.a(n)}this.fairygui_helper=new o.a(this.stage,this.res),this.scene_manager=new s.a(this.stage,this.fairygui_helper)}return e.prototype.start=function(){var t=this;switch(u.c.backend_engine){case u.a.LAYA:Laya.timer.frameLoop(1,this,this.main_loop);break;case u.a.EGRET:egret.startTick((function(e){return t.main_loop(),!1}),null)}},e.prototype.main_loop=function(){var t=this.now,e=Math.min(t-this.last_frame_time,.1);return this.last_frame_time=t,this.timer.update(e),c.update(1e3*this.timer.tick),e},Object.defineProperty(e.prototype,"now",{get:function(){return(new Date).getTime()/1e3},enumerable:!0,configurable:!0}),e.inst=null,e}();e.a=f}).call(this,n(29))},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var i,o=n(2),r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e,n,i){t instanceof o.a||"undefined"!=typeof Laya?t.once(e,n,i):"undefined"!=typeof egret&&t.once(e,i,n)}e.a=(i={ADDED:"ADDED",REMOVED:"REMOVED",RESIZE:"RESIZE"},"undefined"!=typeof Laya?i=r(r({},i),Laya.Event):"undefined"!=typeof egret&&(i=r(r({},i),egret.Event)),i)},function(t,e,n){"use strict";var i,o=n(3),r=n(0),a=n(5),s=n(26),u=n(6),l=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},h=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},p=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},f=function(t){function e(){var e=t.call(this)||this;return e.system_info=null,e.user_info=null,e.share_config=null,e.launch_options=null,e.ad_manager=e.create_ad_manager(),e.system_info=wx.getSystemInfoSync(),console.log("设备信息",e.system_info),Laya.LocalStorage.getItem("res_version")!=r.c.res_version&&(console.log("本地资源缓存与当前版本不一致，清理本地资源缓存"),Laya.MiniAdpter.removeAll(),Laya.LocalStorage.setItem("res_version",r.c.res_version)),Laya.MiniAdpter.nativefiles=s.a,e}return l(e,t),e.prototype.start=function(){},e.prototype.get_info=function(){return h(this,void 0,void 0,(function(){return p(this,(function(t){return[2,{uuid:"82d7268b-2707-412b-b4c4-65baf63e9b43",platform:r.c.platform,device:this.system_info.brand+" "+this.system_info.brand.model,native_platform:this.system_info.platform,data:this.system_info}]}))}))},e.prototype.login=function(){return h(this,void 0,void 0,(function(){var t,e,n,i;return p(this,(function(o){switch(o.label){case 0:!1,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.authorize()];case 2:return o.sent(),!0,console.log("微信授权成功"),[3,4];case 3:return t=o.sent(),console.warn("微信授权失败",t),[3,4];case 4:e="",o.label=5;case 5:return o.trys.push([5,7,,8]),[4,this.wx_login()];case 6:return e=o.sent(),[3,8];case 7:throw n=o.sent(),console.error("微信登陆失败"),n;case 8:return[4,this.get_user_info()];case 9:return(i=o.sent()).uuid=e,[2,i]}}))}))},e.prototype.get_user_info=function(){var e=this;return new Promise((function(n,i){e.user_info?n(e.user_info):(e.user_info={uuid:"",name:"Hero",avatar:"",location:"China"},e.authorize().then((function(){wx.getUserInfo({success:function(t){var i=t.userInfo;e.user_info.name=i.nickName,e.user_info.avatar=i.avatarUrl,e.user_info.location=i.province,n(e.user_info)},fail:function(t){i(t)}})})).catch((function(i){t.prototype.get_user_info.call(e).then((function(t){return n(t)}))})))}))},e.prototype.wx_login=function(){return new Promise((function(t,e){wx.login({success:function(e){t(e.code)},fail:function(t){e(t)},complete:void 0})}))},e.prototype.authorize=function(t){return void 0===t&&(t="scope.userInfo"),new Promise((function(e,n){var i=0,o=function(){wx.authorize({scope:t,success:function(t){e()},fail:function(){(i+=1)<3?o():n()},complete:void 0})};wx.getSetting({success:function(n){n.authSetting[t]?e():o()},fail:function(){o()},complete:void 0})}))},e.prototype.navigate_to_app=function(t,e,n){return new Promise((function(i,o){wx.navigateToMiniProgram({appId:t,path:e,extraData:n,envVersion:"release",success:function(t){i(t)},fail:function(){o()},complete:void 0})}))},e.prototype.set_share_config=function(t){this.share_config=t,wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage((function(){return{title:t.title,imageUrl:t.image_url}}))},e.prototype.set_user_openid=function(t){this.user_info&&(this.user_info.uuid=t)},e.prototype.share=function(){var t=this;return new Promise((function(e,n){t.share_config||(console.error("微信平台:","调起分享失败, 未设置分享配置"),n(o.a.CONFIGURATION_ERROR));var i=!1,r=0,a=function(){if(((new Date).getTime()-r)/1e3>=3)console.log("微信平台:","分享成功"),e();else{console.log("微信平台:","分享失败");var t=Math.random()>.5?o.a.NOT_SHARED_TO_DIFFRENT_GROUP:o.a.NOT_SHARED_TO_GROUP;n(t)}},s=function(){i&&(wx.offShow(s),Laya.timer.once(100,null,a)),i=!1};wx.onShow(s),wx.shareAppMessage({title:t.share_config.title,imageUrl:t.share_config.image_url,query:t.share_config.token,imageUrlId:t.share_config.data.share_id}),i=!0,r=(new Date).getTime()}))},e.prototype.create_ad_manager=function(){return u.a.BANNER_AD_UNIT_ID="adunit-a58d5b5c763bdf57",u.a.REWARD_AD_UNIT_ID="adunit-eab20b4b60d9d71a",new u.e},e.prototype.alert=function(t){wx.showModal({content:t,showCancel:!1})},e.prototype.get_launch_option=function(){return this.launch_options||(this.launch_options=wx.getLaunchOptionsSync()),this.launch_options},e=c([Object(a.b)("platform")],e)}(o.c);e.a=f},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i,o=n(2),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(t){return new Promise((function(e,n){n(new a("Undefined loader for "+t))}))},e.prototype.dispose=function(t){console.warn("Undefined dispose method for resource type",this)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=1,o=function(){function t(){this.$hashCode=i++}return Object.defineProperty(t.prototype,"hashCode",{get:function(){return this.$hashCode},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i,o=n(12),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,i){var o=t.call(this)||this;return o.url=e,o.native_data=n,o.loader=i,o}return r(e,t),e}(o.a)},function(t,e,n){"use strict";var i,o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t){function e(){return t.call(this)||this}return o(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Splash","Splash")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_title=this.getChild("title"),this.m_progress=this.getChild("progress")},e.URL="ui://d5tzyd09m2yw0",e}(fairygui.GComponent);e.a=r},function(t,e,n){"use strict";var i,o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t){function e(){return t.call(this)||this}return o(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Main","gameOverView")},e.prototype.onConstruct=function(){this.m_gameOver=this.getChild("gameOver"),this.m_desc=this.getChild("desc")},e.URL="ui://dyaqtnkv9br4z5g",e}(fgui.GComponent);e.a=r},function(t,e,n){"use strict";var i,o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t){function e(){return t.call(this)||this}return o(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Main","Main")},e.prototype.onConstruct=function(){this.m_bg1=this.getChild("bg1"),this.m_bg2=this.getChild("bg2"),this.m_startBtn=this.getChild("startBtn"),this.m_gradeTxt=this.getChild("gradeTxt"),this.m_t0=this.getTransition("t0")},e.URL="ui://dyaqtnkvptiv0",e}(fgui.GComponent);e.a=r},function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"TextureLoader",(function(){return l})),n.d(i,"BinaryLoader",(function(){return c})),n.d(i,"DefaultResourceLoader",(function(){return h})),n.d(i,"SoundLoader",(function(){return p})),n.d(i,"JSONLoader",(function(){return f}));var o,r=n(21),a=n(11),s=n(13),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.load=function(t){var e=this,n=new egret.ImageLoader,i=new Promise((function(i,o){n.once(egret.Event.COMPLETE,(function(){var o=new egret.Texture;o.bitmapData=n.data,i(new s.a(t,o,e))}),null),n.once(egret.IOErrorEvent.IO_ERROR,(function(){return o()}),null)}));return n.load(t),i},e}(a.a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.load=function(t){var e=this,n=new egret.URLLoader;n.dataFormat=egret.URLLoaderDataFormat.BINARY;var i=new Promise((function(i,o){n.once(egret.Event.COMPLETE,(function(){return i(new s.a(t,n.data,e))}),null),n.once(egret.IOErrorEvent.IO_ERROR,(function(){return o()}),null)}));return n.load(new egret.URLRequest(t)),i},e}(a.a),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(a.a),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(a.a),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(a.a);e.a="undefined"!=typeof Laya?r:"undefined"!=typeof egret?i:void 0},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this._x*this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this._x*this._x+this._y*this._y)},enumerable:!0,configurable:!0}),t.prototype.add_assign=function(t){return this._x+=t._x,this._y+=t._y,this},t.prototype.minus=function(e){return new t(this._x-e._x,this._y-e._y)},t.prototype.nevigate=function(){return new t(-this._x,-this._y)},t.prototype.multiply=function(e){return new t(this._x*e,this._y*e)},t.prototype.divide=function(e){return new t(this._x/e._x,this._y/e._y)},t.prototype.normalize=function(){var t=this._x*this._x+this._y*this._y;return 0!=t&&(t=Math.sqrt(t),this._x/=t,this._y/=t),this},t.prototype.distance_to=function(t){return Math.sqrt((this._x-t._x)*(this._x-t._x)+(this._y-t._y)*(this._y-t._y))},t.prototype.distance_squared_to=function(t){return(this._x-t._x)*(this._x-t._x)+(this._y-t._y)*(this._y-t._y)},t.prototype.cross=function(t){return this._x*t._y-this._y*t._x},t.prototype.dot=function(t){return this._x*t._x+this._y*t._y},t.prototype.angle_to=function(t){return Math.atan2(this.cross(t),this.dot(t))},t.prototype.angle_to_point=function(t){return Math.atan2(this._y-t._y,this._x-t._x)},t.prototype.clone=function(){return new t(this._x,this._y)},t.prototype.toString=function(){return this._x+","+this._y},t}();window.Vector2=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o={normalize:function(t){var e=t.split("/");return e.filter((function(t,n){return!!t||n==e.length-1})).join("/")},res3DUrlByName:function(t,e,n){return void 0===n&&(n=!0),"assets/unity_exported/LayaScene_"+t+"/Conventional/"+e+(n?".ls":".lh")},basename:function(t){return t.substr(t.lastIndexOf("/")+1)},dirname:function(t){return t.substr(0,t.lastIndexOf("/"))},extension:function(t){var e=t.lastIndexOf(".");return e>=0&&e<t.length-1?t.substring(e+1,t.length):""},join:function(t){for(var e,n,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];var a=t;try{for(var s=i(o),u=s.next();!u.done;u=s.next()){var l=u.value;l&&(a+="/"+l)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a}}},function(t,e,n){"use strict";var i,o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t){function e(){return t.call(this)||this}return o(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Main","obstacleCom")},e.prototype.onConstruct=function(){this.m_c1=this.getController("c1"),this.m_eMeng=this.getChild("eMeng")},e.URL="ui://dyaqtnkvf6nyz4u",e}(fgui.GComponent);e.a=r},function(t,e,n){"use strict";n.r(e),n.d(e,"DefaultResourceLoader",(function(){return u})),n.d(e,"BinaryLoader",(function(){return l})),n.d(e,"TextureLoader",(function(){return c})),n.d(e,"SoundLoader",(function(){return h})),n.d(e,"JSONLoader",(function(){return p})),n.d(e,"LayaSpatialLoader",(function(){return f})),n.d(e,"LayaScene3DLoader",(function(){return d})),n.d(e,"LayaSprite3DLoader",(function(){return y})),n.d(e,"LayaTexture2DLoader",(function(){return _}));var i,o=n(11),r=n(13),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load_res=function(t,e){var n=this;return new Promise((function(i,o){Laya.loader.load(t,Laya.Handler.create(null,(function(){i(new r.a(t,Laya.loader.getRes(t),n))})),void 0,e)}))},e.prototype.dispose=function(t){Laya.loader.clearRes(t.url)},e}(o.a),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,void 0)},e}(s),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,Laya.Loader.BUFFER)},e}(s),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,void 0)},e}(s),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,Laya.Loader.SOUND)},e}(s),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,Laya.Loader.JSON)},e}(s),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load_res=function(t,e){var n=this;return new Promise((function(i,o){e.load(t,Laya.Handler.create(null,(function(e){i(new r.a(t,e,n))})))}))},e.prototype.dispose=function(t){Laya.loader.clearRes(t.url)},e}(o.a),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,Laya.Scene3D)},e}(f),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,Laya.Sprite3D)},e}(f),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.load=function(t){return this.load_res(t,Laya.Texture2D)},e}(f)},function(t,e,n){"use strict";var i,o=n(14),r=n(9),a=n(8),s=n(4),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.constructFromResource=function(){t.prototype.constructFromResource.call(this),this.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height,!0),Object(r.b)(this.displayObject,r.a.ADDED,this,this.onReady)},e.prototype.onReady=function(){var t=this;this.m_progress.value=0,this.m_progress.tweenValue(45,1),s.c.inst.stated?this.loadMain():s.c.inst.on(s.b.LOGIC_STARTED,this,(function(){t.loadMain()})),s.c.inst.on(s.a.RESLOADSUC,this,(function(){t.m_progress.value=100,console.log("开始游戏"),a.a.inst.scene_manager.replace("Main")}))},e.prototype.loadMain=function(){this.m_progress.tweenValue(95,2),a.a.inst.scene_manager.push("Main",!0)},e}(o.a);e.a=l},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i,o=n(12),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1);var r=t.call(this)||this;return r.once=!1,r._id=0,r.setTo(e,n,i,o),r}return r(e,t),e.prototype.setTo=function(t,n,i,o){return this._id=e._gid++,this.caller=t,this.method=n,this.args=i,this.once=o,this},e.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,this.args);return this._id===t&&this.once&&this.recover(),e},e.prototype.runWith=function(t){if(null==this.method)return null;var e=this._id;if(null==t)var n=this.method.apply(this.caller,this.args);else n=this.args||t.unshift?this.args?this.method.apply(this.caller,this.args.concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t);return this._id===e&&this.once&&this.recover(),n},e.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},e.prototype.recover=function(){this._id>0&&(this._id=0,e._pool.push(this.clear()))},e.create=function(t,n,i,o){return void 0===i&&(i=null),void 0===o&&(o=!0),e._pool.length?e._pool.pop().setTo(t,n,i,o):new e(t,n,i,o)},e._pool=[],e._gid=1,e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i,o=n(12),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=0,e.timers=[],e}return r(e,t),e.prototype.update=function(t){var e,n;this._time+=t;var i=[];try{for(var o=a(this.timers),r=o.next();!r.done;r=o.next()){var s=r.value;this._time>s.run_time&&(s.callback(),s.run_count=s.run_count?s.run_count+1:1,s.repeat>=0&&s.run_count>=s.repeat?i.push(s):s.run_time=this.tick+s.interval)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}i.length&&(this.timers=this.timers.filter((function(t){return-1==i.indexOf(t)})))},e.prototype.repeat=function(t,e,n){if(n){var i={interval:t,callback:n,repeat:e,run_time:this.tick+t};return this.timers.push(i),i}return null},e.prototype.loop=function(t,e,n){return void 0===n&&(n=-1),this.repeat(t,n,e)},e.prototype.once=function(t,e){return this.repeat(t,0,e)},e.prototype.call_later=function(t){this.once(0,t)},e.prototype.frame_loop=function(t){return this.repeat(0,-1,t)},e.prototype.cancel=function(t){var e=this.timers.indexOf(t);return-1!=e&&(this.timers.splice(e,1),!0)},Object.defineProperty(e.prototype,"tick",{get:function(){return this._time},enumerable:!0,configurable:!0}),e.prototype.wait=function(t){var e=this;return new Promise((function(n,i){e.once(t,(function(){return n()}))}))},e.prototype.clear=function(){this.timers=[]},e}(o.a)},function(t,e,n){"use strict";var i,o=n(2),r=n(18),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.native_stage=null,n._size=new r.a,n.native_stage=e,n}return a(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this._size.width=this.width,this._size.height=this.height,this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.add_child=function(t){return t},e}(o.a);e.a=s},function(t,e,n){"use strict";e.a=[]},function(t,e,n){"use strict";var i,o,r=n(16),a=n(4),s=n(1),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._frame=-1,e}return u(e,t),e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this._movies=this._children,this.opaque=!1},Object.defineProperty(e.prototype,"playing",{get:function(){return this.getNowMovie().playing},set:function(t){this.getNowMovie().playing=t},enumerable:!0,configurable:!0}),e.prototype.play=function(t,e,n,i){var r=this;void 0===t&&(t=o.WAITING),void 0===i&&(i=!0);var a=this.getNowMovie();a&&(a.playing=!0,e?a.setPlaySettings(0,-1,1,-1,Laya.Handler.create(this,(function(t){t&&t.run(),i&&r.dispose()}),[n])):a.setPlaySettings(0,-1,0,-1))},Object.defineProperty(e.prototype,"frame",{get:function(){var t=this.getNowMovie();return t?t.frame:-1},set:function(t){t&&t>=0&&(this._frame=t,this.getNowMovie().frame=t)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._movies=null,this._frame=-1,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"packName",{get:function(){return this.packageItem.owner.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"packItemName",{get:function(){return this.packageItem.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},set:function(t){this._children=t},enumerable:!0,configurable:!0}),e}(fgui.GComponent),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isGlass=!1,e._dire=o.WAITING,e}return c(e,t),e.prototype.getNowMovies=function(){throw new Error("Method not implemented.")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this._state=this.getController("c1")},e.prototype.getNowMovie=function(){var t=this.getChild(this._dire);return t instanceof fgui.GMovieClip?t:null},e.prototype.stop=function(){var t=this.getNowMovie();t&&(t.playing=!1)},e.prototype.playBlink=function(){this.play(o.WAITING,!0)},e.prototype.play=function(e,n,i,r,a){void 0===e&&(e=o.WAITING),void 0===r&&(r=!0),this.stop(),this.updateState(e),t.prototype.play.call(this,e,n,i,r)},e.prototype.updateState=function(t){this._state.selectedPage=t},Object.defineProperty(e.prototype,"dire",{get:function(){return this._dire},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mc",{get:function(){return this._movies},enumerable:!0,configurable:!0}),e}(l),p=function(){function t(t,e,n,i){this.x=parseInt(t),this.y=parseInt(e),this.width=parseInt(n),this.height=parseInt(i)}return t.cloneCollisionBoxes=function(e,n){void 0===n&&(n=1);var i=e.split(";"),o=[];return i.forEach((function(e,i){var r=e.split(",");o[i]=new t(parseInt(r[0]),parseInt(r[1]),parseInt(r[2])*n,parseInt(r[3])*n)})),o},t}();!function(t){t.CRASHED="CRASHED",t.DUCKING="DUCKING",t.JUMPING="JUMPING",t.RUNNING="RUNNING",t.WAITING="WAITING"}(o||(o={}));var f={DUCKING:[new p(1,18,55,25)],RUNNING:[new p(80,80,150,150)]},d=function(){function t(){this._xPos=0,this._yPos=0,this.status=o.WAITING,this.groundYPos=0,this.currentFrame=0,this.currentAnimFrames=[],this.animStartTime=0,this.blinkDelay=0,this.blinkCount=0,this.jumping=!1,this.ducking=!1,this.jumpVelocity=0,this.reachedMinHeight=!1,this.speedDrop=!1,this.jumpCount=0,this.jumpspotX=0,this.minJumpHeight=0,this.timer=0,this.runnerSprite=null,this.animFrames={WAITING:{frames:[44,0],msPerFrame:1e3/3},RUNNING:{frames:[88,132],msPerFrame:1e3/12},CRASHED:{frames:[220],msPerFrame:1e3/60},JUMPING:{frames:[0],msPerFrame:1e3/60},DUCKING:{frames:[262,321],msPerFrame:125}},this.init()}return t.prototype.setData=function(){},t.prototype.updateDrawSprite=function(){var t=this;this.runnerSprite=fgui.UIPackage.createObject("Main","hero",h),D.inst.addChild(this.runnerSprite),f.RUNNING.forEach((function(e){var n=new Laya.Sprite;t.runnerSprite.displayObject.addChild(n),n.graphics.drawRect(e.x,e.y,e.width,e.height,"#f00","#0f0",3)}))},t.prototype.updateState=function(t,e){void 0===e&&(e=null),this.timer+=t,e&&e!=this.status&&(this.status=e,this.currentFrame=0,this.runnerSprite.updateState(e),e==o.WAITING&&(this.animStartTime=this.getTimeStamp(),this.setBlinkDelay())),D.inst.playingIntro&&this.xPos<s.a.START_X_POS&&(this.xPos+=Math.round(s.a.START_X_POS/s.a.INTRO_DURATION*t)),this.status==o.WAITING&&this.blink(this.getTimeStamp()),this.timer>=this.msPerFrame&&(this.currentFrame=this.currentFrame==this.currentAnimFrames.length-1?0:this.currentFrame+1,this.timer=0),this.speedDrop&&this.yPos==this.groundYPos&&(this.speedDrop=!1,this.setDuck(!0))},t.prototype.init=function(){this.updateDrawSprite(),this.setBlinkDelay(),this.groundYPos=s.a.DEFAULT_HEIGH/2,this.yPos=this.groundYPos,this.minJumpHeight=this.groundYPos-s.a.MIN_JUMP_HEIGHT,this.updateState(0,o.WAITING)},Object.defineProperty(t.prototype,"xPos",{get:function(){return this._xPos},set:function(t){this._xPos=t,this.runnerSprite.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yPos",{get:function(){return this._yPos},set:function(t){this._yPos=t,this.runnerSprite.y=t},enumerable:!0,configurable:!0}),t.prototype.blink=function(t){t-this.animStartTime>=this.blinkDelay&&(this.runnerSprite.playBlink(),this.setBlinkDelay(),this.animStartTime=t)},t.prototype.setBlinkDelay=function(){this.blinkDelay=Math.ceil(Math.random()*s.a.BLINK_TIMING)},t.prototype.getTimeStamp=function(){return Date.now()},t.prototype.setDuck=function(t){t&&this.status!=o.DUCKING?(this.updateState(0,o.DUCKING),this.ducking=!0):this.status==o.DUCKING&&(this.updateState(0,o.RUNNING),this.ducking=!1)},t.prototype.updateJump=function(t){var e=t/this.animFrames[this.status].msPerFrame;this.speedDrop?this.yPos+=Math.round(this.jumpVelocity*s.a.SPEED_DROP_COEFFICIENT*e):this.yPos+=Math.round(this.jumpVelocity*e),this.jumpVelocity+=s.a.GRAVITY*e,(this.yPos<this.minJumpHeight||this.speedDrop)&&(this.reachedMinHeight=!0),(this.yPos<s.a.MAX_JUMP_HEIGHT||this.speedDrop)&&this.endJump(),this.yPos>this.groundYPos&&(this.reset(),this.jumpCount++),this.updateState(t)},t.prototype.startJump=function(){this.jumping||(this.updateState(0,o.JUMPING),this.jumpVelocity=s.a.INITIAL_JUMP_VELOCITY-D.inst.speed/10,this.jumping=!0,this.reachedMinHeight=!1,this.speedDrop=!1)},t.prototype.setSpeedDrop=function(){this.speedDrop=!0,this.jumpVelocity=1},t.prototype.endJump=function(){this.reachedMinHeight&&this.jumpVelocity<s.a.DROP_VELOCITY&&(this.jumpVelocity=s.a.DROP_VELOCITY)},t.prototype.reset=function(){this.yPos=this.groundYPos,this.jumpVelocity=0,this.jumping=!1,this.ducking=!1,this.updateState(0,o.RUNNING),this.speedDrop=!1,this.jumpCount=0},t}(),y=n(20);function _(t,e){return Math.floor(Math.random()*(e-t+1))+t}var m,v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t.CACTUS_SMALL="CACTUS_SMALL",t.CACTUS_LARGE="CACTUS_LARGE",t.PTERODACTYL="PTERODACTYL"}(m||(m={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=1,e.gap=0,e.followingObstacleCreated=!1,e.remove=!1,e.sizeMaxM=1,e.speedOffset=0,e.scale=.6,e.MAX_GAP_COEFFICIENT=1.5,e}return v(e,t),e.prototype.constructFromResource=function(){t.prototype.constructFromResource.call(this)},e.prototype.setData=function(t){this.setScale(this.scale,this.scale),this.m_c1.selectedPage=t.type,this.data=t,this.size=_(1,this.sizeMaxM),this.collisionBoxes=p.cloneCollisionBoxes(this.data.collisionBoxes,this.scale),this.drawCollisionBoxes();var e=D.inst.speed;this.size>1&&this.data.multipleSpeed>e&&(this.size=1),this.x=s.a.DEFAULT_WIDTH+this.width,Array.isArray(this.data.yPos)?this.data.yPos[_(0,this.data.yPos.length-1)]:this.data.yPos,this.y=s.a.DEFAULT_HEIGH/2+100,this.size>1&&(this.collisionBoxes[1].width=this.width-this.collisionBoxes[0].width-this.collisionBoxes[2].width,this.collisionBoxes[2].x=this.width-this.collisionBoxes[2].width),this.data.speedOffset&&(this.speedOffset=Math.random()>.5?this.data.speedOffset:-this.data.speedOffset),this.gap=this.getGap(s.a.GAP_COEFFICIENT,e)},e.prototype.drawCollisionBoxes=function(){var t=this;this.collisionBoxes.forEach((function(e){var n=new Laya.Sprite;t.displayObject.addChild(n),n.graphics.drawRect(e.x,e.y,e.width/t.scale,e.height/t.scale,"#f00","#0f0",3)}))},e.prototype.update=function(t){var e=D.inst.speed;this.remove?this._displayObject.destroyed||this.dispose():(this.data.speedOffset&&(e+=this.speedOffset),this.x-=e*D.inst.FPS/1e3*t,this.isVisible()||(this._displayObject.destroyed||this.dispose(),this.remove=!0))},e.prototype.getGap=function(t,e){var n=Math.round(this.data.width*e+this.data.minGap*t);return _(n,Math.round(n*this.MAX_GAP_COEFFICIENT))},e.prototype.isVisible=function(){return this.x+this.width>0},e}(y.a),w=function(){function t(){this.obstacles=[],this.xPos=[0,0],this.obstacleHistory=[],this._width=2048,this._hight=12,this.yPos=0,this._hroizon1=new fgui.GLoader,this._hroizon2=new fgui.GLoader,this._hroizon1.url="assets/ui/plot/hroizon.jpg",this._hroizon2.url="assets/ui/plot/hroizon.jpg",D.inst.addChildAt(this._hroizon1,0),D.inst.addChildAt(this._hroizon2,0)}return t.prototype.update=function(t,e){this.updateHroizon(t),e&&this.updateObstacles(t)},t.prototype.updateHroizon=function(t){var e=D.inst.speed*(D.inst.FPS/1e3)*t;this.xPos[0]<=0?this.updateHroizonXpos(0,e):this.updateHroizonXpos(1,e)},t.prototype.updateHroizonXpos=function(t,e){var n=t,i=0==t?1:0;this.xPos[n]-=e,this.xPos[i]=this.xPos[n]+this._width,this.xPos[n]<=-this._width&&(this.xPos[n]+=2*this._width,this.xPos[i]=this.xPos[n]-this._width),this._hroizon1.x=this.xPos[n],this._hroizon2.x=this.xPos[i],this._hroizon1.y=this._hroizon2.y=this.yPos},t.prototype.updateObstacles=function(t){for(var e=this.obstacles.slice(0),n=0;n<this.obstacles.length;n++){var i=this.obstacles[n];i.update(t),i.remove&&e.shift()}if(this.obstacles=e,this.obstacles.length>0){var o=this.obstacles[this.obstacles.length-1];o&&!o.followingObstacleCreated&&o.isVisible()&&o.x+o.width+o.gap<this._width&&(this.addNewObstacle(),o.followingObstacleCreated=!0)}else this.addNewObstacle()},t.prototype.addNewObstacle=function(){var t=D.inst.dinoModule.staticData.Obstacle_data,e=t[_(0,t.length-1)];if(this.duplicateObstacleCheck(e.type)||D.inst.speed<e.minSpeed)this.addNewObstacle();else{var n=fgui.UIPackage.createObject("Main","obstacleCom",g);D.inst.addChild(n),this.obstacles.push(n),n.setData(e),this.obstacleHistory.unshift(e.type),this.obstacleHistory.length>1&&this.obstacleHistory.splice(s.a.MAX_OBSTACLE_DUPLICATION)}},t.prototype.duplicateObstacleCheck=function(t){for(var e=0,n=0;n<this.obstacleHistory.length;n++)e=this.obstacleHistory[n]==t?e+1:0;return e>=s.a.MAX_OBSTACLE_DUPLICATION},t.prototype.reset=function(){this.obstacles=[],this.xPos[0]=0,this.xPos[1]=this._width},t}(),b=n(15),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Main","GameOverView")},e.prototype.constructFromResource=function(){t.prototype.constructFromResource.call(this)},e.prototype.setData=function(t){this.m_desc.text=t.data.desc},e}(b.a),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},O=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=s.a.SPEED,e.distanceRan=0,e.playingIntro=!1,e.allPanels=[],e.activated=!1,e.started=!1,e.crashed=!1,e.FPS=60,e.msPerFrame=1e3/e.FPS,e.time=0,e.runningTime=0,e.keycodes={JUMP:{38:1,32:1},DUCK:{40:1},RESTART:{13:1}},e}return S(e,t),e.prototype.constructFromResource=function(){t.prototype.constructFromResource.call(this),e.inst=this,this.dinoModule=a.c.inst.get_module(s.b),this.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height,!0),this.m_startBtn.onClick(this,this.startRunGame),this._hero=new d,this._horizon=new w,Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeyDown),Laya.stage.on(Laya.Event.KEY_UP,this,this.onKeyUp),Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onKeyDown),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onKeyUp)},e.prototype.startRunGame=function(){return L(this,void 0,void 0,(function(){return O(this,(function(t){return this.started?[2]:(this.play(),Laya.timer.frameLoop(1,this,this.runGameUpdate),[2])}))}))},e.prototype.runGameUpdate=function(){var t=Laya.Browser.now(),e=t-(this.time||t);if(this.time=t,this.activated){this._hero.jumping&&this._hero.updateJump(e),this.runningTime+=e;var n=this.runningTime>s.a.CLEAR_TIME;0!=this._hero.jumpCount||this.playingIntro||this.playIntro(),this.playingIntro?this._horizon.update(0,n):(e=this.started?e:0,this._horizon.update(e,n)),n&&this.checkForCollision(this._horizon.obstacles[0],this._hero)?this.gameOver():(this.distanceRan+=this.speed*e/this.msPerFrame,this.m_gradeTxt.text=Math.floor(this.distanceRan).toString(),this.speed<s.a.MAX_SPEED&&(this.speed+=s.a.ACCELERATION))}this.crashed||this._hero.updateState(e)},e.prototype.gameOver=function(){this.stop(),this.crashed=!0,this._hero.updateState(100,o.CRASHED),this.showGameOverView(this._horizon.obstacles[0]),this.m_gradeTxt.text=Math.floor(this.distanceRan).toString(),this.distanceRan>this.dinoModule.highestScore&&(this.dinoModule.highestScore=Math.ceil(this.distanceRan)),this.time=Laya.Browser.now()},e.prototype.boxCompare=function(t,e){var n=!1,i=(t.x,t.y,e.x);e.y;return t.x<i+e.width&&t.x+t.width>i&&t.y<e.y+e.height&&t.height+t.y>e.y&&(n=!0),n},e.prototype.checkForCollision=function(t,e,n){void 0===n&&(n=!0);Laya.stage.width,t.x;var i=new p(e.xPos+1,e.yPos+1,s.a.WIDTH-2,s.a.HEIGHT-2),o=new p(t.x+1,t.y+1,t.data.width*t.size-2,t.data.height-2);if(this.boxCompare(i,o))for(var r=t.collisionBoxes,a=e.ducking?f.DUCKING:f.RUNNING,u=0;u<a.length;u++)for(var l=0;l<r.length;l++){var c=this.createAdjustedCollisionBox(a[u],i),h=this.createAdjustedCollisionBox(r[l],o);if(this.boxCompare(c,h))return[c,h]}return!1},e.prototype.createAdjustedCollisionBox=function(t,e){return new p(t.x+e.x,t.y+e.y,t.width,t.height)},e.prototype.playIntro=function(){this.started||this.crashed?this.crashed&&this.restart():(this.playingIntro=!0,this.activated=!0,this.started=!0,this.startGame())},e.prototype.startGame=function(){this.runningTime=0,this.playingIntro=!1,this.playCount++,Laya.stage.on(Laya.Event.FOCUS,this,this.onVisibilityChange,[!0]),Laya.stage.on(Laya.Event.BLUR,this,this.onVisibilityChange,[!1])},e.prototype.onVisibilityChange=function(t){t?this.crashed||(this._hero.reset(),this.play()):this.stop()},e.prototype.stop=function(){this.activated=!1},e.prototype.play=function(){this.crashed||(this.activated=!0,this._hero.updateState(0,o.RUNNING),this.time=Laya.Browser.now(),this.runGameUpdate())},e.prototype.onKeyUp=function(t){if(this.started){var e=String(t.keyCode),n=this.keycodes.JUMP[e]||t.type==Laya.Event.MOUSE_DOWN;if(this.activated&&n)this._hero.endJump();else if(this.keycodes.DUCK[e])this._hero.speedDrop=!1,this._hero.setDuck(!1);else if(this.crashed){var i=Laya.Browser.now()-this.time;(this.keycodes.RESTART[e]||i>=s.a.GAMEOVER_CLEAR_TIME&&this.keycodes.JUMP[e])&&this.restart()}else!this.activated&&n&&(this._hero.reset(),this.play())}},e.prototype.onKeyDown=function(t){this.started&&(this.crashed||!this.keycodes.JUMP[t.keyCode]&&t.type!=Laya.Event.MOUSE_DOWN||(this.activated||(this.activated=!0),this._hero.jumping||this._hero.ducking||this._hero.startJump()),this.activated&&!this.crashed&&this.keycodes.DUCK[t.keyCode]&&(this._hero.jumping?this._hero.setSpeedDrop():this._hero.jumping||this._hero.ducking||this._hero.setDuck(!0)))},e.prototype.restart=function(){this.playCount++,this.runningTime=0,this.activated=!0,this.crashed=!1,this.distanceRan=0,this.setSpeed(s.a.SPEED),this.time=Laya.Browser.now(),this._horizon.reset(),this._hero.reset(),this.runGameUpdate()},e.prototype.setSpeed=function(t){var e=t||this.speed;if(Laya.stage.width<s.a.DEFAULT_WIDTH){var n=e*Laya.stage.width/s.a.DEFAULT_WIDTH*s.a.MOBILE_SPEED_COEFFICIENT;this.speed=n>e?e:n}else t&&(this.speed=t)},e.prototype.showGameOverView=function(t){return this.gameOverView=this.gameOverView||this.createObj(b.a.URL,C),this.gameOverView.setData(t),this.addChild(this.gameOverView),this.removeOtherPanel(this.gameOverView),this.gameOverView},e.prototype.parentRemove=function(t){t&&t.parent&&t.parent.removeChild(t)},e.prototype.removeOtherPanel=function(t){var e=this;this.allPanels.forEach((function(n){n!=t&&e.parentRemove(n)}))},e.prototype.createObj=function(t,e){var n=fairygui.UIPackage.createObjectFromURL(t,e);return this.allPanels.push(n),n},e.inst=null,e}(r.a),D=e.a=x},function(t,e,n){"use strict";var i,o=n(5),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(t){function e(){var e=t.call(this)||this;e._data_depot={},e._config_loaded=!1;var n=Object.keys(e.get_res_member_map());return n.length?(e._config_loaded=!1,Laya.loader.load(n,Laya.Handler.create(e,e.on_config_loaded))):e._config_loaded=!0,e}return r(e,t),e.prototype.on_config_loaded=function(){var t,e,n=this.get_res_member_map();for(var i in n){var o=n[i],r=Laya.loader.getRes(i);if(this[o]=r,r&&r.length)try{for(var a=(t=void 0,s(r)),u=a.next();!u.done;u=a.next()){var l=u.value;l&&l.id&&(this._data_depot[l.id]=l)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}this._config_loaded=!0},e.prototype.get_res_member_map=function(){return{}},e.prototype.get_config_by_id=function(t){return this._data_depot[t]},e.prototype.is_ready=function(){return this._config_loaded},e=a([Object(o.b)("data")],e)}(o.a),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Obstacle_data=[],e.config=null,e.Obstacles_data={},e}return l(e,t),e.prototype.get_res_member_map=function(){return{"assets/data/json/Level.json":"level_data","assets/data/json/Obstacle.json":"Obstacle_data"}},e.prototype.on_config_loaded=function(){var e,n;t.prototype.on_config_loaded.call(this);try{for(var i=h(this.Obstacle_data),o=i.next();!o.done;o=i.next()){var r=o.value;this.Obstacles_data[r.type]=r}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.get_obstacle_data=function(t){return this.Obstacles_data[t]},e=c([Object(o.b)("data")],e)}(u);e.a=p},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i,o=n(19),r=n(2),a=n(13),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},l=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(Error),p=function(t){function e(){var e=t.call(this)||this;return e.cache=new Map,e.loaders=new Map,e._base_url="",e}return s(e,t),Object.defineProperty(e.prototype,"base_url",{get:function(){return this._base_url},set:function(t){t&&!t.endsWith("/")?this._base_url=t+"/":this._base_url=t},enumerable:!0,configurable:!0}),e.prototype.get_url=function(t){return""+this.base_url+t},e.prototype.register_loader=function(t,e){var n,i;try{for(var o=c(t),r=o.next();!r.done;r=o.next()){var a=r.value;this.loaders.set(a,e.prototype)}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.get_resource=function(t){return this.cache.get(this.get_url(t))},e.prototype.load=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),u(this,void 0,void 0,(function(){var i,r,a,s,u;return l(this,(function(l){switch(l.label){case 0:return i=this.get_url(t),r=this.cache.get(i),!n&&r?[2,r]:(a=o.a.extension(i).toLowerCase(),(s=this.loaders.get(a))?[4,s.load(i)]:[3,2]);case 1:if(u=l.sent())return e&&this.cache.set(i,u),[2,u];throw new h("Invalid resouce data for file "+i);case 2:throw new h("No loader found for file extension "+a);case 3:return[2]}}))}))},e.prototype.release=function(t){var e="";return"string"==typeof t?e=this.get_url(t):t instanceof a.a&&(e=t.url),!!this.cache.has(e)&&(this.dispose(this.cache.get(e)),this.cache.delete(e),!0)},e.prototype.dispose=function(t){t&&t.loader&&t.loader.dispose(t)},e.prototype.getRes=function(t){var e,n;try{for(var i=c(this.cache.keys()),r=i.next();!r.done;r=i.next()){var a=r.value,s="."+o.a.extension(a);if(o.a.basename(a).replace(s,"")==t)return this.cache.get(a).native_data}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},e}(r.a)},function(t,e,n){"use strict";var i,o=n(25),r=n(9),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,e)||this;return e.on(r.a.RESIZE,n,n.event,[r.a.RESIZE]),n}return a(e,t),Object.defineProperty(e.prototype,"stage",{get:function(){return this.native_stage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.stage.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.stage.height},enumerable:!0,configurable:!0}),e.prototype.add_child=function(t){return this.stage.addChild(t)},e}(o.a);e.a=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i,o=n(2),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},s=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error),l=function(t){function e(e,n){var i=t.call(this)||this;return i.fairy=null,i.stage=null,i.scenes=new Map,i.scene_stack=[],i.stage=e,i.fairy=n,i}return r(e,t),e.prototype.register_scene=function(t,e,n){var i=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.scenes.set(t.name,t),e&&this.load_scene(t).then((function(e){n&&i.push(t.name)})).catch((function(t){throw t}))},e.prototype.setPackageItemExtension=function(t,e,n){fairygui.UIObjectFactory.setPackageItemExtension(fairygui.UIPackage.getItemURL(t,e),n)},e.prototype.load_scene=function(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:return this.fairy.is_package_loaded(t.package.name)?[3,4]:t.load_dependences?[4,t.load_dependences()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.fairy.load_package(t.package.name,t.package.data_file,t.package.atlas)];case 3:for(n in i.sent(),e=t.package.comToClass)this.setPackageItemExtension(t.package.name,n,e[n]);i.label=4;case 4:return[2]}}))}))},e.prototype.top=function(){return this.scene_stack.length?this.scene_stack[this.scene_stack.length-1]:null},e.prototype.push=function(t,e){return void 0===e&&(e=!0),a(this,void 0,void 0,(function(){var n,i;return s(this,(function(o){switch(o.label){case 0:if(!(n=this.scenes.get(t)))throw new u("尝试跳转到不存在未注册的场景: "+t);return this.scene_stack.length&&this.scene_stack[this.scene_stack.length-1]==n?[2,n]:n.view?[3,3]:this.fairy.is_package_loaded(n.package.name)?[3,2]:[4,this.load_scene(n)];case 1:o.sent(),o.label=2;case 2:n.view=fairygui.UIPackage.createObject(n.package.name,n.res_name||n.name,n.scene_class).asCom,o.label=3;case 3:return i=this.top(),this.scene_stack.push(n),e?[4,this.switch_scene(i,n)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},e.prototype.pop=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return t=this.top(),e=this.scene_stack.length>1?this.scene_stack[this.scene_stack.length-2]:null,this.scene_stack.pop(),[4,this.switch_scene(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.replace=function(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:if(!this.scene_stack.length)return[2,this.push(t)];if(!(e=this.scenes.get(t)))throw new u("尝试跳转到不存在未注册的场景: "+t);return e.view?[3,3]:this.fairy.is_package_loaded(e.package.name)?[3,2]:[4,this.load_scene(e)];case 1:i.sent(),i.label=2;case 2:e.view=fairygui.UIPackage.createObject(e.package.name,e.res_name||e.name,e.scene_class).asCom,i.label=3;case 3:return n=this.top(),this.scene_stack[this.scene_stack.length-1]=e,[4,this.switch_scene(n,e)];case 4:return[2,i.sent()]}}))}))},e.prototype.switch_scene=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){return t&&t.view.removeFromParent(),e&&(fairygui.GRoot.inst.addChild(e.view),e.view.setSize(this.stage.width,this.stage.height),e.view.ensureSizeCorrect()),[2,e]}))}))},e}(o.a)},function(t,e,n){"use strict";var i,o=n(25),r=n(9),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,e)||this;return e.addEventListener(r.a.RESIZE,(function(){n.event(r.a.RESIZE)}),n),n}return a(e,t),Object.defineProperty(e.prototype,"stage",{get:function(){return this.native_stage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.stage.stageHeight},enumerable:!0,configurable:!0}),e.prototype.add_child=function(t){return this.stage.addChild(t)},e}(o.a);e.a=s},function(t,e,n){(function(n){var i,o=function(){this._tweens={},this._tweensAddedDuringUpdate={}};o.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]];o&&!1===o.update(t)&&(o._isPlaying=!1,e||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var r,a=new o;a.Group=o,a._nextId=0,a.nextId=function(){return a._nextId++},"undefined"==typeof self&&void 0!==n&&n.hrtime?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?a.now=self.performance.now.bind(self.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,i;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,i=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var o=this._valuesStart[e]||0,r=this._valuesEnd[e];r instanceof Array?this._object[e]=this._interpolationFunction(r,i):("string"==typeof r&&(r="+"===r.charAt(0)||"-"===r.charAt(0)?o+parseFloat(r):parseFloat(r)),"number"==typeof r&&(this._object[e]=o+(r-o)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),r=a.Interpolation.Utils.Linear;return e<0?r(t[0],t[1],i):e>1?r(t[n],t[n-1],n-i):r(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){for(var n=0,i=t.length-1,o=Math.pow,r=a.Interpolation.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-e,i-s)*o(e,s)*t[s]*r(i,s);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),r=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),r(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(r(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):r(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(r=[1],function(t){var e=1;if(r[t])return r[t];for(var n=t;n>1;n--)e*=n;return r[t]=e,e}),CatmullRom:function(t,e,n,i,o){var r=.5*(n-t),a=.5*(i-e),s=o*o;return(2*e-2*n+r+a)*(o*s)+(-3*e+3*n-2*r-a)*s+r*o+e}}},void 0===(i=function(){return a}.apply(e,[]))||(t.exports=i)}).call(this,n(39))},function(t,e,n){"use strict";(function(t){var i,o=n(10),r=n(6),a=n(36),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return(u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(){if(void 0===window.wx&&void 0!==window.swan){window.wx=window.swan,t.wx=window.swan;var e=wx.createBannerAd;wx.createBannerAd=function(t){var n=u(u({},t),{appSid:"bce75ddc"});return e(n)}.bind(window.swan);var n=wx.createRewardedVideoAd;wx.createRewardedVideoAd=function(t){var e=u(u({},t),{appSid:"bce75ddc"});return n(e)}.bind(window.swan)}}();var l=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.create_ad_manager=function(){return r.a.BANNER_AD_UNIT_ID="6580748",r.a.REWARD_AD_UNIT_ID="6580749",new a.a},e}(o.a);e.a=l}).call(this,n(29))},function(t,e,n){"use strict";var i,o=n(6),r=n(4),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},u=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},l=(new Date).getTime()/1e3,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.create_ads=function(){o.a.BANNER_AD_UNIT_ID&&(this.banner=new h(o.a.BANNER_AD_UNIT_ID)),o.a.REWARD_AD_UNIT_ID&&(this.video=new o.d(o.a.REWARD_AD_UNIT_ID)),o.a.INTERSTITIAL_AD_UNIT_ID&&(this.interstitial=new o.c(o.a.INTERSTITIAL_AD_UNIT_ID))},e}(o.e);e.a=c;var h=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.instance=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return e=Math.max(0,5-(new Date).getTime()/1e3-l),[4,r.c.inst.timer.wait(e)];case 1:return n.sent(),[4,t.prototype.instance.call(this)];case 2:return[2,n.sent()]}}))}))},e.prototype.show=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return this.native_ad?[3,2]:[4,this.instance()];case 1:n.sent(),n.label=2;case 2:return[4,t.prototype.show.call(this,e)];case 3:return n.sent(),[2]}}))}))},e}(o.b)},function(t,e,n){"use strict";const i=n(40),o=n(41),r=n(42);function a(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function s(t,e){return e.decode?o(t):t}function u(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function l(t){const e=(t=u(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function h(t,e){const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=n):i[t]=n};case"bracket":return(t,n,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],n):i[t]=[n]:i[t]=n};case"comma":return(t,e,n)=>{const i="string"==typeof e&&e.split("").indexOf(",")>-1?e.split(","):e;n[t]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},e)),i=Object.create(null);if("string"!=typeof t)return i;if(!(t=t.trim().replace(/^[?#&]/,"")))return i;for(const o of t.split("&")){let[t,a]=r(e.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:s(a,e),n(s(t,e),a,i)}for(const t of Object.keys(i)){const n=i[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=c(n[t],e);else i[t]=c(n,e)}return!1===e.sort?i:(!0===e.sort?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((t,e)=>{const n=i[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=l,e.parse=h,e.stringify=(t,e)=>{if(!t)return"";const n=function(t){switch(t.arrayFormat){case"index":return e=>(n,i)=>{const o=n.length;return void 0===i||t.skipNull&&null===i?n:null===i?[...n,[a(e,t),"[",o,"]"].join("")]:[...n,[a(e,t),"[",a(o,t),"]=",a(i,t)].join("")]};case"bracket":return e=>(n,i)=>void 0===i||t.skipNull&&null===i?n:null===i?[...n,[a(e,t),"[]"].join("")]:[...n,[a(e,t),"[]=",a(i,t)].join("")];case"comma":return e=>(n,i)=>null==i||0===i.length?n:0===n.length?[[a(e,t),"=",a(i,t)].join("")]:[[n,a(i,t)].join(",")];default:return e=>(n,i)=>void 0===i||t.skipNull&&null===i?n:null===i?[...n,a(e,t)]:[...n,[a(e,t),"=",a(i,t)].join("")]}}(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)),i=Object.assign({},t);if(e.skipNull)for(const t of Object.keys(i))void 0!==i[t]&&null!==i[t]||delete i[t];const o=Object.keys(i);return!1!==e.sort&&o.sort(e.sort),o.map(i=>{const o=t[i];return void 0===o?"":null===o?a(i,e):Array.isArray(o)?o.reduce(n(i),[]).join("&"):a(i,e)+"="+a(o,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>({url:u(t).split("?")[0]||"",query:h(l(t),e)})},function(t,e,n){"use strict";var i,o=n(14),r=function(){function t(){}return t.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(o.a.URL,o.a)},t}(),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return t.call(this)||this}return a(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Common","ToastView")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_text=this.getChild("text"),this.m_anim=this.getTransition("anim")},e.URL="ui://dzj5bdmrcjnq5",e}(fairygui.GComponent),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(t){function e(){return t.call(this)||this}return u(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Common","WindowFrame")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_dragArea=this.getChild("dragArea"),this.m_contentArea=this.getChild("contentArea")},e.URL="ui://dzj5bdmrea2a3f",e}(fairygui.GLabel),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t){function e(){return t.call(this)||this}return c(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("Common","Button")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_grayed=this.getController("grayed")},e.URL="ui://dzj5bdmrptiv4",e}(fairygui.GButton),p=function(){function t(){}return t.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(s.URL,s),fairygui.UIObjectFactory.setPackageItemExtension(l.URL,l),fairygui.UIObjectFactory.setPackageItemExtension(h.URL,h)},t}(),f=n(15),d=n(20),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(t){function e(){return t.call(this)||this}return y(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Main","hero")},e.prototype.onConstruct=function(){this.m_c1=this.getController("c1"),this.m_CRASHED=this.getChild("CRASHED"),this.m_WAITING=this.getChild("WAITING"),this.m_RUNNING=this.getChild("RUNNING"),this.m_JUMPING=this.getChild("JUMPING")},e.URL="ui://dyaqtnkvparuz5e",e}(fgui.GComponent),m=n(16),v=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(f.a.URL,f.a),fgui.UIObjectFactory.setExtension(d.a.URL,d.a),fgui.UIObjectFactory.setExtension(_.URL,_),fgui.UIObjectFactory.setExtension(m.a.URL,m.a)},t}(),g=n(17),w=n(19),b=n(9),I=n(0),C=n(2),S=n(8),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(t){function e(e,n,i){var o=t.call(this)||this;o.node_cache={},o.node_usage_cache={},o._pool_size=0,o.node_factory_func=null,o._release_func=null,o.node_factory_func=e;for(var r=0;r<n;r++)o.allocate_node();return o._release_func=i,o}return L(e,t),e.prototype.allocate_node=function(){var t=this.node_factory_func();return this.node_cache[this._pool_size]=t,this.node_usage_cache[this._pool_size]=!0,this._pool_size+=1,t},e.prototype.removeNodeFromParent=function(t){t&&(this._release_func&&this._release_func(t),t.removeFromParent&&t.parent?t.removeFromParent():t.removeSelf&&t.parent&&t.removeSelf())},e.prototype.get_avaliable_index=function(){for(var t=0;t<this._pool_size;t++)if(!0===this.node_usage_cache[t])return t;return-1},e.prototype.get=function(){var t=this.get_avaliable_index();if(-1==t){var e=this.allocate_node();return this.node_usage_cache[this._pool_size-1]=!1,e}return this.node_usage_cache[t]=!1,this.node_cache[t]},e.prototype.release=function(t){for(var e=0;e<this._pool_size;e++)if(t==this.node_cache[e]){this.node_usage_cache[e]=!0,this.removeNodeFromParent(t);break}},e.prototype.release_all=function(){for(var t=0;t<this._pool_size;t++)this.node_usage_cache[t]=!0,this.removeNodeFromParent(this.node_cache[t])},e}(Laya.EventDispatcher),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TV=null,e.pool=null,e}return x(e,t),e.prototype.set_toast_view=function(t){this.TV=t},e.prototype.popup=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.TV)throw"无法创建对话Toast";if(!this.pool&&this.TV&&(this.pool=new O(this.TV.createInstance,5)),this.pool){var o=this.pool.get();o.set_message(t,n),fairygui.GRoot.inst.addChild(o),o.on_popup(),S.a.inst.timer.once(o.popup_duration,(function(){e.pool.release(o)}))}},e}(C.a),A=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},T=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},E=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P=function(){function t(t,e,n,i){void 0===i&&(i="fui"),this.stage=null,this.res=null,this.last_stage_size={width:0,height:0},this.full_screen_cls=[],this.res_dir="",this.loaded_packages=new Set,this.dialog_instances=new Map,this.dialog_classes=new Map,this.toast=null,this.res=e,this.res_dir=n,this.res.register_loader(new Set([i]),g.a.BinaryLoader),fairygui.AssetProxy&&(fairygui.AssetProxy.inst.getRes=this.getRes.bind(this)),this.toast=new D,this.stage=t,this.last_stage_size.width=t.width,this.last_stage_size.height=t.height,t.add_child(fairygui.GRoot.inst.displayObject),this.on_stage_resized(),t.on(b.a.RESIZE,this,this.on_stage_resized),this.bind_views()}return t.prototype.load_package=function(t,e,n){return A(this,void 0,void 0,(function(){var i,o,r,a,s,u,l,c;return T(this,(function(h){switch(h.label){case 0:switch(typeof n){case"string":return[3,1];case"object":return[3,3]}return[3,12];case 1:return[4,this.res.load(n)];case 2:return h.sent(),[3,13];case 3:if(!n.length)return[3,11];h.label=4;case 4:h.trys.push([4,9,10,11]),i=E(n),o=i.next(),h.label=5;case 5:return o.done?[3,8]:(r=o.value,[4,this.res.load(r)]);case 6:h.sent(),h.label=7;case 7:return o=i.next(),[3,5];case 8:return[3,11];case 9:return a=h.sent(),l={error:a},[3,11];case 10:try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}return[7];case 11:case 12:return[3,13];case 13:return[4,this.res.load(e)];case 14:return s=h.sent(),u=fairygui.UIPackage.addPackage(t,s.native_data),this.loaded_packages.add(t),[2,u]}}))}))},t.prototype.getRes=function(t){return this.res.get_resource(w.a.join(this.res_dir,t)).native_data},t.prototype.is_package_loaded=function(t){return this.loaded_packages.has(t)},t.prototype.on_stage_resized=function(){var t,e,n,i;if(this.stage.width!=this.last_stage_size.width||this.stage.height!=this.last_stage_size.height){fairygui.GRoot.inst.setSize(this.stage.width,this.stage.height);try{for(var o=E(fairygui.GRoot.inst._children),r=o.next();!r.done;r=o.next()){var a=r.value;try{for(var s=(n=void 0,E(this.full_screen_cls)),u=s.next();!u.done;u=s.next()){if(a instanceof u.value){a.setSize(this.stage.width,this.stage.height);break}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}a.ensureSizeCorrect()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.last_stage_size.width=this.stage.width,this.last_stage_size.height=this.stage.height}},t.prototype.bind_view=function(t,e,n){void 0===n&&(n=!1),fairygui.UIObjectFactory.setPackageItemExtension(t,e),n&&this.full_screen_cls.push(e)},t.prototype.register_dialog=function(t){this.dialog_classes.set(t.prototype.uid,t)},t.prototype.register_toast_view=function(t){this.bind_view(t.URL,t),this.toast.set_toast_view(t)},t.prototype.hide_all_dialogs=function(){for(var t in this.dialog_instances){var e=this.dialog_instances[t];e&&e.hide()}},t.prototype.show_dialog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i="function"==typeof t?t.prototype.uid:t,o=this.dialog_instances.get(i);if(!o&&this.dialog_classes.get(i)){var r=this.dialog_classes.get(i);o=new r,this.dialog_instances.set(i,o)}return o?(o.params=e,o.show()):console.error("不存在对话框",i),o},t.onClick=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];switch(I.c.backend_engine){case I.a.EGRET:t.addClickListener(null,(function(){n.apply(e,i)}));break;case I.a.LAYA:t.onClick(null,(function(){n.apply(e,i)}))}},t.prototype.bind_views=function(){},t}(),k=n(22),B=n(27),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),Object.defineProperty(e.prototype,"popup_duration",{get:function(){return 3},enumerable:!0,configurable:!0}),e.prototype.constructFromResource=function(){t.prototype.constructFromResource.call(this)},e.prototype.on_popup=function(){this.setXY((S.a.inst.stage.width-this.width)/2,30),this.m_anim.play()},e.prototype.set_message=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.m_text.text=t},e}(s);n.d(e,"a",(function(){return G}));var M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),G=function(t){function e(e,n,i,o){return void 0===i&&(i="assets/ui"),void 0===o&&(o="bin"),t.call(this,e,n,i,o)||this}return M(e,t),e.prototype.bind_views=function(){r.bindAll(),p.bindAll(),v.bindAll(),this.bind_view(o.a.URL,k.a,!0),this.bind_view(m.a.URL,B.a,!0),this.register_toast_view(R)},e}(P)},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,h=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var t=s(p);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},function(t,e,n){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function r(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],r(n),r(i))}function a(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(i),n=1;n<e.length;n++)e=(t=r(e,n).join("")).match(i);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var i=a(n[0]);i!==n[0]&&(e[n[0]]=i)}n=o.exec(t)}e["%C2"]="�";for(var r=Object.keys(e),s=0;s<r.length;s++){var u=r[s];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},function(t,e,n){"use strict";n.r(e);var i,o=n(0),r=n(22),a=n(27),s=n(8),u=n(4),l=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},h=function(){function t(){}return t.prototype.set_item=function(t,e){return l(this,void 0,void 0,(function(){return c(this,(function(t){return[2,!0]}))}))},t.prototype.get_item=function(t){return l(this,void 0,void 0,(function(){return c(this,(function(t){return[2,null]}))}))},t}(),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},d=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.set_item=function(t,e){return f(this,void 0,void 0,(function(){var n;return d(this,(function(i){return n=e,"object"===typeof e&&(n=JSON.stringify(e)),Laya.LocalStorage.setItem(t,JSON.stringify({type:typeof e,data:n})),[2,!0]}))}))},e.prototype.get_item=function(t){return f(this,void 0,void 0,(function(){var e,n,i;return d(this,(function(o){return(e=Laya.LocalStorage.getItem(t))?(n=JSON.parse(e),i=void 0,n&&(i=n.data,"object"===n.type&&(i=JSON.parse(n.data))),[2,i]):[2,void 0]}))}))},e}(h),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},v=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.set_item=function(t,e){return m(this,void 0,void 0,(function(){var n;return v(this,(function(i){return n=e,"object"===typeof e&&(n=JSON.stringify(e)),egret.localStorage.setItem(t,JSON.stringify({type:typeof e,data:n})),[2,!0]}))}))},e.prototype.get_item=function(t){return m(this,void 0,void 0,(function(){var e,n,i;return v(this,(function(o){return e=egret.localStorage.getItem(t),n=JSON.parse(e),i=void 0,n&&(i=n.data,"object"===n.type&&(i=JSON.parse(n.data))),[2,i]}))}))},e}(h),w="undefined"!=typeof Laya?y:"undefined"!=typeof egret?g:void 0,b=n(5),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},S=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(t){function e(e){var n=t.call(this,e)||this;return n.last_run_task_time=0,n.tasks=[],n.records=[],n}return I(e,t),e.prototype.daily_check=function(){var t=new Date(this.last_run_task_time),e=new Date(this.now);return t.getFullYear()!=e.getFullYear()||t.getMonth()!=e.getMonth()||t.getDay()!=e.getDay()},e.prototype.start=function(){var t,e;if(this.daily_check()){try{for(var n=S(this.tasks),i=n.next();!i.done;i=n.next()){i.value.run()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.last_run_task_time=this.now,this.records.push(this.last_run_task_time)}},e.prototype.add_daily_task=function(t){this.tasks.push(t)},e.prototype.get_total_run_count=function(){return this.records.length},e.prototype.get_continuous_run_count=function(){var t=1;if(this.records.length>1)for(var e=this.records[this.records.length-1],n=this.records.length-2;n>=0;n--){var i=this.records[n];if(e-i>864e5)break;t+=1,e=i}return t},Object.defineProperty(e.prototype,"now",{get:function(){return(new Date).getTime()},enumerable:!0,configurable:!0}),e.prototype.save=function(){return{records:this.records}},e.prototype.load=function(t){this.records=t.records,this.records&&this.records.length&&(this.last_run_task_time=this.records[this.records.length-1])},e=C([Object(b.b)("daily")],e)}(b.a),O=n(23),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),D=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},A=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},T=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},E=function(t){function e(){var e=t.call(this)||this;return e._sound_enabled=!0,e.vibrate_enabled=!0,e.frame_audio_count=0,e.frame_vibrate_count=0,e.loaded=!1,e.audio_cache=new Map,e.audio_urls=new Map,e.sound_index={},window.audio=e,e.preload(),e}return x(e,t),Object.defineProperty(e.prototype,"sound_enabled",{get:function(){return this._sound_enabled},set:function(t){this._sound_enabled=t,t?this.play_background_music("背景音乐"):this.stop_background_music()},enumerable:!0,configurable:!0}),e.prototype.preload=function(){return A(this,void 0,void 0,(function(){var t,e,n,i,o,r,a;return T(this,(function(u){switch(u.label){case 0:return[4,s.a.inst.res.load("assets/sounds/index.json")];case 1:if(!(t=u.sent()).native_data)return[3,5];for(n in this.loaded=!0,this.sound_index=t.native_data,e=[],t.native_data)e.push(n);i=0,u.label=2;case 2:return i<e.length?(o=e[i],(r=t.native_data[o])?(this.audio_urls.set(o,"assets/sounds/"+r),[4,s.a.inst.res.load("assets/sounds/"+r)]):[3,4]):[3,5];case 3:a=u.sent(),this.audio_cache.set(o,a.native_data),"背景音乐"===o&&this.play_background_music(o),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))},e.prototype.is_ready=function(){return this.loaded},e.prototype.play_effect=function(t){var e=void 0,n=this.audio_cache.get(t);if(n){if(this.frame_audio_count)return;this.sound_enabled&&("string"==typeof n?e=Laya.SoundManager.playSound(n,1):n&&n.url&&(e=Laya.SoundManager.playSound(n.url,1)))}else this.audio_urls.get(t)&&(e=Laya.SoundManager.playSound(this.audio_urls.get(t),1),console.error("不存在音效",t));return this.frame_audio_count+=1,e},e.prototype.vibrate=function(){if(this.vibrate_enabled){if(this.frame_vibrate_count)return;"undefined"!=typeof wx?wx.vibrateShort({}):"undefined"!=typeof qg&&qg.vibrateShort({})}this.frame_vibrate_count+=1},e.prototype.save=function(){return{sound_enabled:this.sound_enabled,vibrate_enabled:this.vibrate_enabled}},e.prototype.load=function(t){this.sound_enabled=t.sound_enabled,this.vibrate_enabled=t.vibrate_enabled},e.prototype.always_update=function(t){this.frame_audio_count=0,this.frame_vibrate_count=0},e.prototype.play_background_music=function(t){if(this.sound_enabled){Laya.SoundManager.stopMusic();var e=this.audio_cache.get(t);e&&e.url?Laya.SoundManager.playMusic(e.url,0):Laya.SoundManager.playMusic(this.audio_urls.get(t),0)}},e.prototype.stop_background_music=function(){Laya.SoundManager.stopMusic()},e=D([Object(b.b)("audio")],e)}(b.a),P=n(10),k=n(3),B=n(6),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(t){function e(){return t.call(this)||this}return U(e,t),e.prototype.create_ad_manager=function(){return B.a.BANNER_AD_UNIT_ID="186edb4228038cc8b1e15d092c38d5d6",B.a.REWARD_AD_UNIT_ID="ef45628090404778bf0ee0f715ef24e0",new B.e},e}(P.a),M=n(35),G=n(7),j=n(18),N={MATRIX:1,WX:2,GAME:3,SWITCH:4},H=2,z=3,W=1,F=2,Y=3,V=4,q=5,X=6,J=7,K=10,Q=11,Z=9999,$=1,tt=2,et=3,nt=4,it=5,ot=6,rt=7,at=8,st=9,ut=10,lt=1,ct=2,ht=[1002,1002,8001],pt={},ft=1,dt=2,yt=3,_t=4,mt=5,vt=6,gt=7,wt=8,bt=9,It=10,Ct=11,St=12,Lt={SdkVersion:"laya2.0-v6.2.1",resVersion:"1.00.00",debug:!1,appid:"",channelId:1002,miniGamePlatType:0,bannnerDatas:[],itemListDatas:[],hotListDatas:[],moreDatas:[],matrixBannerDatas:[],fullMatrixScreenDatas:[],mainRecDatas:[],buyListDatas:[],gameBannerDatas:[],offlineBannerDatas:[],allBeRecommendGames:{},clickGameYouziUIId:0,_userinfo:{uid:"",gender:0,type:1},_platform:1,_isDataLoaded:!1,_loadedCallBacks:[],_bannerType:N.MATRIX,_banerShowSwitchInterval:10,_bannerCreateInterval:20,_pageOpen:1,_bannerSwitchs:[],_provinceAllow:1,_mainRecAmount:1,_gameIndexArrLength:1,_gameIndexArr:[],init:function(t,e,n){this.isInit||(Laya.Browser.onIOS?this._platform=z:Laya.Browser.onAndroid&&(this._platform=H),console.log("中心化初始化 SdkVersion",this.SdkVersion,t,e,n),console.log("中心化平台：",ht[n]),this.isInit=!0,this.appid=t||"",this.resVersion=e||"1.00.00",this.miniGamePlatType=n||0,this.channelId=ht[n]||1002,this._loadUid(),this._loadData(this._initBannerShow.bind(this)),this.miniGamePlatType==lt&&this._wxLaunch())},_wxLaunch:function(){if(Laya.Browser.window.wx&&Laya.Browser.window.wx.getLaunchOptionsSync){var t=this,e=Laya.Browser.window.wx.getLaunchOptionsSync();this._loadUid(),this.checkUserIsImported(e),e.referrerInfo&&e.referrerInfo.appId&&e.referrerInfo.extraData&&e.referrerInfo.extraData.boxAppid&&e.referrerInfo.extraData.orgAppid?this.sendJumpToOpen(e.referrerInfo.extraData.orgAppid,e.referrerInfo.extraData.boxAppid,e.referrerInfo.extraData.locationIndex?e.referrerInfo.extraData.locationIndex:Z):this.openGameInitLog(),Laya.Browser.window.wx.onShow((function(e){t._wxOnShow(e)}))}},_wxOnShow:function(t){console.log("wx onShow--------------"),this.checkUserIsImported(t),t.referrerInfo&&t.referrerInfo.extraData&&t.referrerInfo.extraData.boxAppid&&t.referrerInfo.extraData.orgAppid&&this.sendJumpToOpen(t.referrerInfo.extraData.orgAppid,t.referrerInfo.extraData.boxAppid,t.referrerInfo.extraData.locationIndex?t.referrerInfo.extraData.locationIndex:Z)},checkUserIsImported:function(t){(t.referrerInfo&&t.referrerInfo.adChannelId&&t.referrerInfo.adSubChannelId||t.query&&t.query.adChannelId&&t.query.adSubChannelId)&&(this._userinfo.type=2),(t.referrerInfo&&t.referrerInfo.leuokShareIn||t.query&&t.query.leuokShareIn)&&(this._userinfo.type=3);var e=!1;t.referrerInfo&&t.referrerInfo.extraData&&(t.referrerInfo.extraData.YouziFixUID&&t.referrerInfo.extraData.YouziFixUID.trim().length>0?(e=!0,this._userinfo.uid=t.referrerInfo.extraData.YouziFixUID):t.referrerInfo.extraData.YouziUID&&t.referrerInfo.extraData.YouziUID.trim().length>0&&(e=!0,this._userinfo.uid=t.referrerInfo.extraData.YouziUID)),t.query&&t.query.extraData&&t.query.extraData.YouziUID&&(e=!0,this._userinfo.uid=t.query.YouziUID),e&&localStorage.setItem("YOUZI_UID",this._userinfo.uid)},_loadData:function(t){var e=this,n={appid:e.appid,channelId:e.channelId,languageType:1,uid:e._userinfo.uid,version:e.resVersion},i=function(n){var i=JSON.parse(JSON.stringify(n));if(console.log("中心化数据OK",i),n&&n.info&&n.info.swith&&1==n.info.swith){e._mainRecAmount=n.info.hasOwnProperty("mainRecAmount")?n.info.mainRecAmount:3,e._pageOpen=n.info.status,e._bannerType=n.info.bannerSwith,e._banerShowSwitchInterval=n.info.bannerAutoInterval,e._bannerCreateInterval=n.info.wxBannerRefresh,e._provinceAllow=n.info.provinceAllow;for(var o=function(t,e){return e.weight-t.weight},r=function(t){return t=t.sort(o),t=e._clearArrIndex(t),t=e._removeItemByTestPeriod(t)},a=0;a<n.info.recommendListBos.length;a++){var s=n.info.recommendListBos[a];switch(s.contentBos.forEach((function(t){e.allBeRecommendGames.hasOwnProperty.call({},t.appid)||(e.allBeRecommendGames[t.appid]=Object.assign({},t))})),console.log("allBeRecommendGames:"+e.allBeRecommendGames),s.type){case $:e.bannnerDatas=r(s.contentBos);break;case tt:e.itemListDatas=r(s.contentBos);break;case et:e.hotListDatas=r(s.contentBos);break;case at:e.moreDatas=r(s.contentBos);break;case st:e.matrixBannerDatas=r(s.contentBos);break;case nt:e.mainRecDatas=r(s.contentBos);break;case it:e.gameBannerDatas=r(s.contentBos);break;case ot:e.offlineBannerDatas=r(s.contentBos);break;case rt:e.buyListDatas=r(s.contentBos);break;case ut:e.fullMatrixScreenDatas=r(s.contentBos);break;default:console.error("中心化数据类型错误",s.type)}}}e._isDataLoaded=!0,t&&t(n);for(a=0;a<e._loadedCallBacks.length;a++){var u=e._loadedCallBacks[a];u&&u()}e._bannerType==N.SWITCH&&(e.refreshBannerSwitch(),setInterval(e.refreshBannerSwitch.bind(e),1e3*e._banerShowSwitchInterval))};e.miniGamePlatType==lt?(console.log("userInfo 调用开始"),e._getWxUserInfo((function(){console.log("请求开始"),e._request("POST",n,e._url(),i)}))):e._request("POST",n,e._url(),i)},_clearArrIndex:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];this._pushData(i.hide)&&e.push(i)}var o=[];for(n=0;n<e.length;n++){i=e[n];this._pushDataBySexual(i.gender)&&o.push(i)}return o},_request:function(t,e,n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400)if(""!=o.responseText){var t=JSON.parse(o.responseText);i&&i(t)}else i&&i({})},o.open(t,n,!0),o.setRequestHeader("content-type","application/json"),o.send(JSON.stringify(e))},_loadUid:function(){try{var t=localStorage.getItem("YOUZI_UID");t&&t.trim().length>0?this._userinfo.uid=t:(this._userinfo.uid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),localStorage.setItem("YOUZI_UID",this._userinfo.uid))}catch(t){this._userinfo.uid="10001"}},_removeItemByTestPeriod:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1!=n.testPeriod&&3!=n.testPeriod||0!=n.showLimit){if(2==n.testPeriod){var i=localStorage.getItem(n.appid);i&&"CPACPS"==i&&(t.splice(e,1),e--)}}else{var o=localStorage.getItem(n.appid);if(o&&"navigated"==o)continue;t.splice(e,1),e--}}return t},_url:function(){return this.debug?"https://test.gw.leuok.com/gl-ms-mini-recommend/recommend/show":"https://gw.lightlygame.com/gl-ms-mini-recommend/recommend/show"},_pushData:function(t){var e=!1;switch(t){case 1:e=!0;break;case 2:this._platform==H&&(e=!0);break;case 3:this._platform==z&&(e=!0);break;default:e=!1}return e},_pushDataBySexual:function(t){var e=!1;switch(t){case 0:e=!0;break;case 1:1==this._userinfo.gender&&(e=!0);break;case 2:2==this._userinfo.gender&&(e=!0);break;default:e=!1}return e},_getWxUserInfo:function(t){var e=this;Laya.Browser.window.wx&&Laya.Browser.window.wx.getUserInfo?(console.log("userInfo 调用 start"),Laya.Browser.window.wx.getUserInfo({success:function(n){e._userinfo.gender=n.userInfo.gender,console.log("userInfo 成功回调请求"),t()},fail:function(e){console.log("userInfo 失败回调请求"),t()}}),console.log("userInfo 调用 end")):t()},_loadTexture:function(t,e){},startOtherGame:function(t,e){switch(this.miniGamePlatType){case lt:1==t.codeJump?this.wxPreviewImage(t.chopencode||t.vopencode||t.hopencode,t,e):this.navigateToOtherGame(t,e);break;case ct:this.navigateToOppoMiniGame(t,e);break;default:e&&e(!1)}},openGameInitLog:function(){var t=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),e={logType:"login",channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,dt:t,sdkVersion:this.SdkVersion};this.logNavigate(e,(function(){console.log("log event send YouziSdk init success")}))},sendExposureLog:function(t,e){if(t){var n=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),i={logType:"exposure",channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,jumpAppid:t.appid,locationIndex:e||Z,recommendType:t.type?t.type:1,screenId:e||1,dt:n,sdkVersion:this.SdkVersion};this.logNavigate(i,(function(t){}))}else console.warn("发送曝光日志时,data不存在",t,e)},navigateToOppoMiniGame:function(t,e){if(this.debug)console.log("oppo小游戏跳转成功");else{var n=this;console.log("---------\x3e1",t.pkgName);var i=t.pkgName.replace(/\s*/g,"");console.log("---------\x3e2",i),Laya.Browser.window.qg.navigateToMiniGame({pkgName:i,success:function(){n.sendGameToGame(t),e&&e(!0),console.log("oppo小游戏跳转成功")},fail:function(t){e&&e(!1),console.log("oppo小游戏跳转失败：",JSON.stringify(t))}})}},navigateToOtherGame:function(t,e){if(Laya.Browser.window.wx&&Laya.Browser.window.wx.navigateToMiniProgram){var n=this,i=t.appid,o=!1,r="leuokNull";t.boxAppId&&""!=t.boxAppId&&(o=!0,r=i=t.boxAppId);var a={togame:t.appid,boxAppid:r,orgAppid:n.appid,YouziUID:n.uid,YouziFixUID:n._userinfo.uid,userType:n._userinfo.type,locationIndex:t.locationIndex?t.locationIndex:Z},s=null;if(t.miniProgramArgs&&""!=t.miniProgramArgs&&(s=t.miniProgramArgs),(t.anChannelId||t.ioChannelId)&&(s=null!=s?s+"&anChannelId="+t.anChannelId+"&ioChannelId="+t.ioChannelId:"?anChannelId="+t.anChannelId+"&ioChannelId="+t.ioChannelId),console.log("mimiProgramPath:"+s),t.miniGameArgs&&""!=t.miniGameArgs){var u=JSON.parse(t.miniGameArgs),l=Object.keys(u)[0];if("togame"==l||"boxAppid"==l||"orgAppid"==l)return void console.log("联运附加key值冲突");a[l]=u[l]}console.log("extraData"+JSON.stringify(a)),Laya.Browser.window.wx.navigateToMiniProgram({appId:i,path:s,extraData:a,success:function(i){o?n.sendGameToBox(t):n.sendGameToGame(t),o=!1,e&&e(!0),console.log("navigateToMiniProgram success"),t.testPeriod&&"1"==t.testPeriod?localStorage.setItem(t.appid,"navigated"):"2"==t.testPeriod&&localStorage.setItem(t.appid,"CPACPS")},fail:function(t){e&&e(!1),n.notifyNavigateFailUIId(),console.log("navigateToMiniProgram fail")}})}},notifyNavigateFailUIId:function(){switch(this.clickGameYouziUIId){case mt:case ft:case yt:case _t:xe.getInstance().notifyNavigateToMini(this.clickGameYouziUIId);break;default:console.log("不需要取消")}},sendJumpToOpen:function(t,e,n){void 0===n&&(n=1);var i="jump2open";"leuokNull"==e&&(i="app2open",e="");var o=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),r={logType:i,userType:this._userinfo.type,channelId:this.channelId,orgAppid:t,boxAppid:e,uid:this._userinfo.uid,languageType:1,jumpAppid:this.appid,locationIndex:n||Z,recommendType:1,screenId:1,dt:o,sdkVersion:this.SdkVersion};console.log(r),this.logNavigate(r,(function(t){console.log("log event sendJumpToOpen success---")}))},sendGameToGame:function(t){var e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),n={logType:"app2app",userType:this._userinfo.type,channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,jumpAppid:t.appid,locationIndex:t.locationIndex?t.locationIndex:Z,recommendType:t.type,screenId:1,dt:e,sdkVersion:this.SdkVersion};console.log(n),this.logNavigate(n,(function(t){console.log("log event success---")}))},sendGameToBox:function(t){var e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),n={logType:"jump2box",userType:this._userinfo.type,channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,boxAppid:t.boxAppId,jumpAppid:t.appid,locationIndex:t.locationIndex?t.locationIndex:Z,recommendType:t.type,screenId:1,dt:e,sdkVersion:this.SdkVersion};console.log(n),this.logNavigate(n,(function(t){console.log("log event success---")}))},wxPreviewImage:function(t,e,n){var i=this;Laya.Browser.window.wx.previewImage({current:t,urls:[t],success:function(){n&&n(!0),i.sendGameByQrcode(e)},fail:function(){n&&n(!1)}})},sendGameByQrcode:function(t){var e=this.YouziDateFtt("yyyy-MM-dd hh:mm:ss",new Date),n={logType:"showcode",userType:this._userinfo.type,channelId:this.channelId,orgAppid:this.appid,uid:this._userinfo.uid,languageType:1,jumpAppid:t.appid,locationIndex:t.locationIndex?t.locationIndex:Z,recommendType:t.type,screenId:1,dt:e,sdkVersion:this.SdkVersion};console.log(n),this.logNavigate(n,(function(t){console.log("log event success---")}))},logNavigate:function(t,e){console.log("send log---\x3e"+t),this.debug||this._request("POST",t,"https://bi.log.lightlygame.com/recommend/",e)},YouziDateFtt:function(t,e){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},getDatasByBIType:function(t){return 1==t?this.mainRecDatas:2==t?this.hotListDatas:3===t||4==t?this.matrixBannerDatas:5===t||10===t?this.moreDatas:6==t?this.gameBannerDatas:7==t?this.offlineBannerDatas:8==t||9==t?this.buyListDatas:(console.error("未找到中心化数据 locationIndex",t),[])},_initBannerShow:function(){if(this._bannerType==N.MATRIX||this._bannerType==N.GAME||this._bannerType==N.WX)for(var t=0;t<this._bannerSwitchs.length;t++){(e=this._bannerSwitchs[t])&&e.bannerType==this._bannerType?e.showBanner():e&&e.hideBanner()}else if(this._bannerType==N.SWITCH)for(t=0;t<this._bannerSwitchs.length;t++){var e;(e=this._bannerSwitchs[t])&&e.bannerType==N.MATRIX?e.showBanner():e&&e.hideBanner()}},getMultiMainAmount:function(t){return t>=this._mainRecAmount?this._mainRecAmount>=this.mainRecDatas.length?[this.mainRecDatas.length,!1]:[this._mainRecAmount,!0]:t>=this.mainRecDatas.length?[this.mainRecDatas.length,!1]:[t,!0]},getGamesIndex:function(t,e){if(0==this._gameIndexArr.length){this._gameIndexArrLength=t;for(var n=0;n<t;n++)this._gameIndexArr.push(n)}else if(t!=this._gameIndexArrLength){this._gameIndexArrLength=t;for(n=0;n<t;n++)this._gameIndexArr.push(n)}if(t<=e)return this._gameIndexArr;for(var i=void 0,o=void 0;t;)o=Math.floor(Math.random()*t--),i=this._gameIndexArr[t],this._gameIndexArr[t]=this._gameIndexArr[o],this._gameIndexArr[o]=i;return this._gameIndexArr.slice(0,e)},getRandomArrayElements:function(t,e){for(var n,i,o=t.length;o;)i=Math.floor(Math.random()*o--),n=t[o],t[o]=t[i],t[i]=n;return t.slice(0,e)},addBanner:function(t){this._destroyUnuseWxBanner(t),this._bannerSwitchs.push(t),this._isDataLoaded&&this._initBannerShow()},refreshBannerSwitch:function(){this.curBannerType||(this.curBannerType=N.WX),this.curBannerType=this.curBannerType==N.WX?N.MATRIX:N.WX;for(var t=0;t<this._bannerSwitchs.length;t++){var e=this._bannerSwitchs[t];e&&e.bannerType==this.curBannerType?e.showBanner():e&&e.hideBanner()}},_destroyUnuseWxBanner:function(t){if(t.bannerType==N.WX)for(var e=0;e<this._bannerSwitchs.length;e++){var n=this._bannerSwitchs[e];if(n&&n.bannerType==N.WX)return n.destroySelf(),void this._bannerSwitchs.splice(e,1)}},_checkExposureInview:function(t,e,n,i,o){},getDataByAppId:function(t){var e=this._getDataByAppid(this.mainRecDatas,t);return e||(e=this._getDataByAppid(this.hotListDatas,t)),e||(e=this._getDataByAppid(this.buyListDatas,t)),e},getDataFromAllGameObj:function(t){return this.allBeRecommendGames[t]},_getDataByAppid:function(t,e){for(var n=0;n<t.length;n++)if(t[n].appid==e)return t[n];return null},scrollviewAction:function(t,e,n){},miscClampf:function(t,e,n){if(e>n){var i=e;e=n,n=i}return t<e?e:t<n?t:n},BI_AppOnce:function(t){var e=this.getBI();e&&e.leuok&&e.leuok.appOnce(t)},BI_Action:function(t){var e=this.getBI();e&&e.leuok&&e.leuok.action(t)},BI_WXBannerError:function(t){var e=this.getBI();e&&e.leuok&&e.leuok.error(t)},getBI:function(){return void 0!==Laya.Browser.window.wx?Laya.Browser.window.wx:void 0!==Laya.Browser.window.BK?Laya.Browser.window.BK:void 0!==Laya.Browser.window.qg?Laya.Browser.window.qg:"undefined"!=typeof window?window:void 0}},Ot=function(){function t(e,n){this.atlasPngUrl=null,this.animaPlaySpeed=100,(e||e>120)&&(t.unitAtlasPngWidth=e),(n||n>120)&&(t.unitAtlasPngHeight=n)}return t.prototype.createAnimation=function(t,e){this.atlasPngUrl=t,pt.hasOwnProperty(this.atlasPngUrl)?e(pt[this.atlasPngUrl]):this.loadAnimaRes(e)},t.prototype.loadAnimaRes=function(t){Laya.loader.load(this.atlasPngUrl,new Laya.Handler(this,this.atlasPngRect,[t]),null,Laya.Loader.IMAGE)},t.prototype.atlasPngRect=function(e,n){for(var i=[],o=0;o<4;o++)for(var r=0;r<4;r++){var a=Laya.Texture.createFromTexture(n,r*t.unitAtlasPngWidth,o*t.unitAtlasPngHeight,t.unitAtlasPngWidth,t.unitAtlasPngHeight),s=new Laya.Graphics;s.drawTexture(a),i.push(s)}var u=new Laya.Animation;u.frames=i,u.interval=this.animaPlaySpeed,pt[this.atlasPngUrl]=u,e(u)},t.unitAtlasPngWidth=120,t.unitAtlasPngHeight=120,t}(),xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dt=(Laya.View,Laya.Dialog,Laya.Scene,Laya.ClassUtils.regClass),At=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_BottomBanner")},e}(Laya.View);Dt("ui.youzi.Youzi_BottomBannerUI",At);var Tt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_FullScreen")},e}(Laya.View);Dt("ui.youzi.Youzi_FullScreenUI",Tt);var Et=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_FullScreenH")},e}(Laya.View);Dt("ui.youzi.Youzi_FullScreenHUI",Et);var Pt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_GameBannerView")},e}(Laya.View);Dt("ui.youzi.Youzi_GameBannerViewUI",Pt);var kt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_GuessLike")},e}(Laya.View);Dt("ui.youzi.Youzi_GuessLikeUI",kt);var Bt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_GuessLikeH")},e}(Laya.View);Dt("ui.youzi.Youzi_GuessLikeHUI",Bt);var Ut=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_MainPush")},e}(Laya.View);Dt("ui.youzi.Youzi_MainPushUI",Ut);var Rt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_MoreGame")},e}(Laya.View);Dt("ui.youzi.Youzi_MoreGameUI",Rt);var Mt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_MoreGameH")},e}(Laya.View);Dt("ui.youzi.Youzi_MoreGameHUI",Mt);var Gt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_OffLine")},e}(Laya.View);Dt("ui.youzi.Youzi_OffLineUI",Gt);var jt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_OffLineH")},e}(Laya.View);Dt("ui.youzi.Youzi_OffLineHUI",jt),Dt("ui.youzi.Youzi_ScreenPageUI",function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_ScreenPage")},e}(Laya.View));var Nt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_SlideWindow")},e}(Laya.View);Dt("ui.youzi.Youzi_SlideWindowUI",Nt);var Ht=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_SlideWindowH")},e}(Laya.View);Dt("ui.youzi.Youzi_SlideWindowHUI",Ht);var zt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_SmallWall")},e}(Laya.View);Dt("ui.youzi.Youzi_SmallWallUI",zt);var Wt=function(t){function e(){return t.call(this)||this}return xt(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.loadScene("assets/youzi/Youzi_SmallWallH")},e}(Laya.View);Dt("ui.youzi.Youzi_SmallWallHUI",Wt);var Ft,Yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vt=function(t){function e(){var e=t.call(this)||this;return e.mainRecDatas=[],e.mainRecItemExposure={},e.angel=0,e.curMainRecIdx=0,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.leftTween=null,e.rightTween=null,e.startTimer=!0,e.visible=!1,e.btnMainRecBg.visible=!1,e}return Yt(e,t),e.prototype.setYouziPosition=function(t,e){this.centerX=NaN,this.centerY=NaN,this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){this.mainRecDatas=Lt.mainRecDatas,this.mainRecDatas.length>0&&(this.btnMainRec.on(Laya.Event.CLICK,this,this.onBtnMainRecClicked),this.visible=!0,this.btnMainRecBg.visible=!0,this.btnMainRecBg.rotation=10,this.addMainAnimaOrImage(),Lt.sendExposureLog(this.mainRecDatas[0],W),this.mainRecItemExposure[this.mainRecDatas[0].appid]=1,this.notifyUIComplete(mt,{complete:!0}),this.startTimerLoop())},e.prototype.startTimerLoop=function(){this.startTimer&&(this.startTimer=!1,this.mainRecDatas.length>1&&Laya.timer.loop(5e3,this,this.updateMainRec),this.mainPushRotationAction())},e.prototype.clearTimerLoop=function(){this.btnMainRecBg.rotation=10,this.startTimer=!0,this.mainRecDatas.length>1&&Laya.timer.clear(this,this.updateMainRec),this.leftTween&&Laya.Tween.clear(this.leftTween),this.rightTween&&Laya.Tween.clear(this.rightTween)},e.prototype.mainPushRotationAction=function(){this.rotatotionRight()},e.prototype.rotatotionRight=function(){this.rightTween=Laya.Tween.to(this.btnMainRecBg,{rotation:-10},2e3,null,new Laya.Handler(this,this.rotationLeft))},e.prototype.rotationLeft=function(t){this.leftTween=Laya.Tween.to(this.btnMainRecBg,{rotation:10},2e3,null,new Laya.Handler(this,this.rotatotionRight))},e.prototype.updateMainRec=function(){this.curMainRecIdx=this.curMainRecIdx+1>=this.mainRecDatas.length?0:this.curMainRecIdx+1,this.btnMainRec.graphics.clear(!0),this.addMainAnimaOrImage(),this.slogan.text=this.mainRecDatas[this.curMainRecIdx].slogan,this.mainRecItemExposure[this.mainRecDatas[this.curMainRecIdx].appid]||(Lt.sendExposureLog(this.mainRecDatas[this.curMainRecIdx],W),this.mainRecItemExposure[this.mainRecDatas[this.curMainRecIdx].appid]=1)},e.prototype.addMainAnimaOrImage=function(){if(1==this.mainRecDatas[this.curMainRecIdx].dynamicType&&this.mainRecDatas[this.curMainRecIdx].dynamicIcon){var t=this;this.mainAnima.scale(.75,.75),(new Ot).createAnimation(this.mainRecDatas[this.curMainRecIdx].dynamicIcon,(function(e){t.mainAnima.frames=e.frames,t.mainAnima.interval=e.interval,t.mainAnima.visible=!0,t.mainAnima.play()}))}else this.btnMainRec.loadImage(this.mainRecDatas[this.curMainRecIdx].iconImg);this.slogan.text=this.mainRecDatas[this.curMainRecIdx].slogan},e.prototype.onBtnMainRecClicked=function(){Lt.clickGameYouziUIId=mt;var t=this.mainRecDatas[this.curMainRecIdx];t.locationIndex=W,Lt.startOtherGame(t,null),this.updateMainRec()},e}(Ut),qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xt=function(t){function e(e){var n=t.call(this)||this;return n.matrixBannerDatas=[],n.bannerType=N.MATRIX,n.bannerBottomItemExposure={},n.isOffSwitch=!1,n.uiCompleteCallCopy=null,n.uiStateCallCopy=null,n.stopAction=!1,n.curFront=!0,n.curBack=!1,n.isClick=!1,n.dur=10,n.pos(Laya.stage.width/2-n.BannerBottomUI.width/2,Laya.stage.height-n.BannerBottomUI.height),n.visible=!1,n.BannerBottomUI.visible=!1,n.bottomList.scrollBar.hide=!0,n.isOffSwitch=e,n}return qt(e,t),e.prototype.setYouziPosition=function(t,e){this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){this.matrixBannerDatas=Lt.matrixBannerDatas,this.matrixBannerDatas.length<=0||(this.loadBottomList(),this.isOffSwitch||Lt.addBanner(this))},e.prototype.loadBottomList=function(){for(var t=[],e=null,n=0;n<this.matrixBannerDatas.length;n++)1==(e=this.matrixBannerDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.bottomList.array=t,this.bottomList.renderHandler=new Laya.Handler(this,this.onListRender),this.bottomList.mouseHandler=new Laya.Handler(this,this.onBannerItemMouseEvent),this.notifyUIComplete(ft,{complete:!0}),this.dur=this.matrixBannerDatas.length?5e3*(this.matrixBannerDatas.length-5):5e3,this.bottomlistAutoScroll()},e.prototype.onListRender=function(t,e){if(1==this.matrixBannerDatas[e].dynamicType&&this.matrixBannerDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(.91,.91),n.visible=!0,(new Ot).createAnimation(this.matrixBannerDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.BannerBottomUI.visible&&(this.bannerBottomItemExposure[this.matrixBannerDatas[t].appid]||(Lt.sendExposureLog(this.matrixBannerDatas[t],Y),this.bannerBottomItemExposure[this.matrixBannerDatas[t].appid]=1))},e.prototype.onBannerItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的bottombanner索引："+e),Lt.clickGameYouziUIId=ft;var n=this.matrixBannerDatas[e];n.locationIndex=Y,Lt.startOtherGame(n,this.startOtherCall.bind(this))}}else t.type},e.prototype.startOtherCall=function(t){this.isClick=!1,this.starBottomBannerAction()},e.prototype.stopBottomBannerAcion=function(){this.stopAction=!0},e.prototype.starBottomBannerAction=function(){this.bottomlistAutoScroll()},e.prototype.bottomlistAutoScroll=function(){this.matrixBannerDatas.length<=5||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart())},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.bottomList.tweenTo(this.matrixBannerDatas.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.bottomList.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.showBanner=function(){this&&(this.visible=!0,this.BannerBottomUI.visible=!0,this.notifyUIState(ft,{uiVisible:!0}),this.stopAction&&this.starBottomBannerAction())},e.prototype.hideBanner=function(){this&&(this.stopBottomBannerAcion(),this.visible=!1,this.BannerBottomUI.visible=!1,this.notifyUIState(ft,{uiVisible:!1}))},e.prototype.destroySelf=function(){this&&this.removeSelf()},e}(At),Jt=2,Kt=function(){function t(t,e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=!1),this.isLoadOk=!1,this.adUnitId=null,this.posType=1,this.offset={x:0,y:0},this.bannerType=N.WX,this.isShowBanner=!1,this.isOffSwitch=!1,this.isOffSwitchSelf=!1,this.bannerAd=null,this.refreshTimer=null,this.adUnitId=t,this.posType=e||1,this.offset=n||{x:0,y:0},this.isOffSwitch=i,this.isOffSwitchSelf=o,this.initShow()}return t.prototype.initShow=function(){this.isLoadOk=Lt._isDataLoaded,this.isLoadOk?this.freshShow():Lt._loadedCallBacks.push(this.freshShow.bind(this))},t.prototype.freshShow=function(){this.createWXBanner(),this.isOffSwitch||(Lt.addBanner(this),this._autoSwitchSelf())},t.prototype.createWXBanner=function(){if(Laya.Browser.window.wx&&Laya.Browser.window.wx.createBannerAd){var t=this,e=Laya.Browser.window.wx.getSystemInfoSync().screenWidth,n=Laya.Browser.window.wx.getSystemInfoSync().screenHeight,i=Laya.stage.designWidth,o=Laya.stage.designHeight,r=e/i*100+(n-e/i*o)/2;t.bannerAd=Laya.Browser.window.wx.createBannerAd({adUnitId:this.adUnitId,style:{left:this.offset.x,top:this.offset.y,width:e}});var a=t.bannerAd,s=!1;t.bannerAd.onResize((function(i){if(!s){if(t.bannerAd.style.realHeight>r){s=!0;var o=e*r/t.bannerAd.style.realHeight;o=Lt.miscClampf(o,300,9999),t.bannerAd.style.width=o,t.bannerAd.style.top=n-t.bannerAd.style.realHeight*(o/t.bannerAd.style.realWidth)+t.offset.y,t.bannerAd.style.left=(e-t.bannerAd.style.width)/2+t.offset.x}else t.bannerAd.style.top=n-t.bannerAd.style.realHeight+t.offset.y,n/e>2&&(t.bannerAd.style.top=t.bannerAd.style.top-34+t.offset.y);t.posType==Jt&&(t.bannerAd.style.left=(e-t.bannerAd.style.width)/2+t.offset.x,t.bannerAd.style.top=t.offset.y,n/e>2?t.bannerAd.style.top+=76:e/n>2&&(t.bannerAd.style.top+=76))}})),t.bannerAd.onLoad((function(e){a&&(a.hide(),a.destroy()),t.isShowBanner?t.bannerAd.show():t.bannerAd.hide()})),t.bannerAd.onError((function(t){console.warn("微信banner广告出错",t)}))}},t.prototype.showBanner=function(){this.isShowBanner=!0,this.bannerAd&&this.bannerAd.show()},t.prototype.hideBanner=function(){this.isShowBanner=!1,this.bannerAd&&this.bannerAd.hide()},t.prototype.destroySelf=function(){this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.isShowBanner=!1},t.prototype.switchBannerNow=function(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.createWXBanner(),this._autoSwitchSelf()},t.prototype._autoSwitchSelf=function(){if(!this.isOffSwitchSelf){var t=this;this.refreshTimer=setInterval((function(){t.createWXBanner()}),1e3*Lt._bannerCreateInterval)}},t}(),Qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zt=function(t){function e(e,n){var i=t.call(this)||this;return i.isOffSwitch=!1,i.bannerType=N.GAME,i.switchTime=5,i.gameBannerItemExposure={},i.startSwitchIndex=0,i.isHide=!1,i.uiCompleteCallCopy=null,i.uiStateCallCopy=null,i.pos(Laya.stage.width/2-i.GameBannerList.width/2,Laya.stage.height-i.GameBannerList.height),i.visible=!1,i.GameBannerList.scrollBar.hide=!0,i.isOffSwitch=e,i.switchTime=n<5?5:n,i.switchTime*=1e3,i}return Qt(e,t),e.prototype.setYouziPosition=function(t,e){this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){Lt.gameBannerDatas.length<=0||(this.loadGameBannerList(),this.creatGameBannerTimerLoop(),this.isOffSwitch||Lt.addBanner(this))},e.prototype.loadGameBannerList=function(){this.GameBannerList.repeatX=Lt.gameBannerDatas.length;for(var t=[],e=0;e<Lt.gameBannerDatas.length;e++)t.push({infoData:Lt.gameBannerDatas[e]});this.GameBannerList.mouseHandler=new Laya.Handler(this,this.onGameBannerItemMouseEvent),this.GameBannerList.dataSource=t;for(var n=0;e<Lt.gameBannerDatas.length;n++){this.GameBannerList.getCell(n).getChildByName("icon").loadImage(Lt.gameBannerDatas[n].bannerImg)}this.notifyUIComplete(dt,{complete:!0})},e.prototype.creatGameBannerTimerLoop=function(){Laya.timer.loop(this.switchTime,this,this.updateGameBaner)},e.prototype.clearGameBannerTimerLoop=function(){Laya.timer.clear(this,this.updateGameBaner)},e.prototype.updateGameBaner=function(t){Lt.gameBannerDatas.length<=1?this.checkExposure():(this.startSwitchIndex=this.GameBannerList.startIndex+1,this.GameBannerList.scrollTo(this.startSwitchIndex>=this.GameBannerList.length?0:this.startSwitchIndex),this.checkExposure())},e.prototype.checkExposure=function(){if(this.visible){var t=Lt.gameBannerDatas[this.startSwitchIndex];this.gameBannerItemExposure[t.appid]||(this.gameBannerItemExposure[t.appid]=1,Lt.sendExposureLog(t,X))}},e.prototype.onGameBannerItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的gamebannerlist索引："+e);var n=Lt.gameBannerDatas[e];n.locationIndex=X,n.type=5,Lt.startOtherGame(n,null)}else t.type},e.prototype.showBanner=function(){this&&(this.visible=!0,this.isHide&&(this.isHide=!1,this.creatGameBannerTimerLoop()),this.notifyUIState(dt,{uiVisible:!0}))},e.prototype.hideBanner=function(){this&&(this.isHide=!0,this.visible=!1,this.clearGameBannerTimerLoop(),this.notifyUIState(dt,{uiVisible:!1}))},e.prototype.destroySelf=function(){this&&this.removeSelf()},e}(Pt),$t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),te=function(t){function e(){var e=t.call(this)||this;return e.morelistDatas=[],e.mainItemExposure={},e.fisrtShow=!1,e.isCreate=!1,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.centerX=0,e.centerY=0,e.visible=!1,e.MoreGameUI.visible=!1,e.moreGameList.scrollBar.hide=!0,e}return $t(e,t),e.prototype.setYouziPosition=function(t,e){this.centerX=NaN,this.centerY=NaN,this.MoreGameUI.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.showMoreGameUI=function(){this.isCreate&&!this.visible&&(this.visible=!0,this.moreGameList.mouseThrough=!1,this.MoreGameUI.visible=!0,this.starMoreGameAction(),this.notifyUIState(vt,{uiVisible:!0}),this.checkExposure())},e.prototype.onBtnCloseClicked=function(){this.stopMoreGameAcion(),this.visible=!1,this.moreGameList.mouseThrough=!0,this.MoreGameUI.visible=!1,this.mainItemExposure={},this.notifyUIState(vt,{uiVisible:!1})},e.prototype.initShow=function(){if(this.moreGameCloseBtn.on(Laya.Event.CLICK,this,this.onBtnCloseClicked),Lt.moreDatas.length>0){this.morelistDatas=Lt.moreDatas;for(var t=[],e=null,n=0;n<this.morelistDatas.length;n++)1==(e=this.morelistDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.moreGameList.array=t,this.moreGameList.renderHandler=new Laya.Handler(this,this.onListRender),this.moreGameList.mouseHandler=new Laya.Handler(this,this.moreGameListMouseEvent),this.isCreate=!0,this.notifyUIComplete(vt,{complete:!0}),this.dur=this.morelistDatas.length>12?5e3*(this.morelistDatas.length-12):5e3}},e.prototype.onListRender=function(t,e){if(1==this.morelistDatas[e].dynamicType&&this.morelistDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(1.16,1.16),n.visible=!0,(new Ot).createAnimation(this.morelistDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.MoreGameUI.visible&&(this.mainItemExposure[this.morelistDatas[t].appid]||(Lt.sendExposureLog(this.morelistDatas[t],q),this.mainItemExposure[this.morelistDatas[t].appid]=1))},e.prototype.stopMoreGameAcion=function(){this.stopAction=!0},e.prototype.starMoreGameAction=function(){this.moreGameListAutoScroll()},e.prototype.moreGameListAutoScroll=function(){this.MoreGameUI.visible&&(this.morelistDatas.length<=12||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.moreGameList.tweenTo(this.morelistDatas.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.moreGameList.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.moreGameListMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的更多游戏索引："+e);var n=this.morelistDatas[e];n.locationIndex=q,Lt.startOtherGame(n,this.startOtherCall.bind(this))}}else t.type},e.prototype.startOtherCall=function(){this.isClick=!1,this.starMoreGameAction()},e.prototype.checkExposure=function(){if(this.MoreGameUI.visible)for(var t=0;t<this.morelistDatas.length;t++){var e=this.morelistDatas[t];if(this.mainItemExposure[e.appid]||(this.mainItemExposure[e.appid]=1,Lt.sendExposureLog(e,q)),t>=11)break}},e}(Rt),ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ne=function(t){function e(e){var n=t.call(this)||this;return n.hotlistDatas=[],n.slideItemExposure={},n.uiCompleteCallCopy=null,n.uiStateCallCopy=null,n.slideButton=null,n.slideMask=null,n.showFirst=!1,n.isLeft=!1,n.isLeft=e,n.centerY=0,n.visible=!1,n.SlideWindowUI.visible=!1,n.slideList.scrollBar.hide=!0,e?n.left=-n.width:(n.right=-n.width,n.slideBg.scaleX=-1,n.slideBg.pos(n.slideBg.width,n.slideBg.y),n.slideList.pos(2*n.slideList.x,n.slideList.y)),n}return ee(e,t),e.prototype.setYouziPosition=function(t){this.centerX=NaN,this.centerY=NaN,this.SlideWindowUI.pos(this.SlideWindowUI.x,t)},e.prototype.setSlideButton=function(t){this.slideButton=t},e.prototype.setSlideMask=function(t){this.slideMask=t},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.showSlideBtnAndHideSlideMask=function(){this.slideButton&&(this.slideButton.visible=!0),this.slideMask&&(this.slideMask.visible=!1)},e.prototype.hideSlideBtnAndShowSlideMask=function(){this.slideButton&&(this.slideButton.visible=!1),this.slideMask&&(this.slideMask.visible=!0)},e.prototype.showSlideWindow=function(){if(this.hotlistDatas.length<=0)console.log("抽屉没有数据");else if(!this.SlideWindowUI.visible){this.visible=!0,this.SlideWindowUI.visible=!0,this.hideSlideBtnAndShowSlideMask();var t=this;this.slideWindowActionShow((function(){t.notifyUIState(It,{uiVisible:!0}),t.showFirst||(t.showFirst=!0,t.checkExposure())}))}},e.prototype.slideWindowActionShow=function(t){this.isLeft?Laya.Tween.to(this,{left:0},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t)):Laya.Tween.to(this,{right:0},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t))},e.prototype.closeSlideWindow=function(){if(this.hotlistDatas.length<=0)console.log("抽屉没有数据");else{var t=this;this.slideWindowActionClose((function(){t.visible=!1,t.SlideWindowUI.visible=!1,t.btnSLideClose.visible=!0,t.showSlideBtnAndHideSlideMask(),t.notifyUIState(It,{uiVisible:!1})})),t.btnSLideClose.visible=!1}},e.prototype.slideWindowActionClose=function(t){this.isLeft?Laya.Tween.to(this,{left:-this.width},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t)):Laya.Tween.to(this,{right:-this.width},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t))},e.prototype.initShow=function(){if(this.hotlistDatas=Lt.hotListDatas,this.btnSLideClose.on(Laya.Event.CLICK,this,this.closeSlideWindow),this.hotlistDatas.length>0){for(var t=[],e=null,n=0;n<this.hotlistDatas.length;n++)1==(e=this.hotlistDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.slideList.array=t,this.slideList.renderHandler=new Laya.Handler(this,this.onListRender),this.slideList.mouseHandler=new Laya.Handler(this,this.onslideListItemMouseEvent),this.notifyUIComplete(It,{complete:!0})}},e.prototype.onListRender=function(t,e){0==this.hotlistDatas[e].hotred&&(t.getChildByName("markImg").visible=!1);if(1==this.hotlistDatas[e].dynamicType&&this.hotlistDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(1.08,1.08),n.visible=!0,(new Ot).createAnimation(this.hotlistDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.SlideWindowUI.visible&&(this.slideItemExposure[this.hotlistDatas[t].appid]||(Lt.sendExposureLog(this.hotlistDatas[t],F),this.slideItemExposure[this.hotlistDatas[t].appid]=1))},e.prototype.onslideListItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的抽屉索引："+e);var n=this.hotlistDatas[e];if(n.locationIndex=F,Lt.startOtherGame(n,null),1==n.hotred)this.slideList.getCell(e).getChildByName("markImg").visible=!1}else t.type},e.prototype.checkExposure=function(){if(this.SlideWindowUI.visible)for(var t=0;t<this.hotlistDatas.length;t++){var e=this.hotlistDatas[t];if(this.slideItemExposure[e.appid]||(this.slideItemExposure[e.appid]=1,Lt.sendExposureLog(e,F)),t>=11)break}},e}(Nt),ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oe=function(t){function e(){var e=t.call(this)||this;return e.matrixBannerDatas=[],e.guessAnyItemExposure={},e.firstShow=!1,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.visible=!1,e.guessUI.visible=!1,e.guesslist.scrollBar.hide=!0,e}return ie(e,t),e.prototype.setYouziPosition=function(t,e){this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){if(this.matrixBannerDatas=Lt.matrixBannerDatas,!(this.matrixBannerDatas.length<=0)){for(var t=[],e=null,n=0;n<this.matrixBannerDatas.length;n++)1==(e=this.matrixBannerDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.guesslist.dataSource=t,this.guesslist.mouseHandler=new Laya.Handler(this,this.onGuessLikeItemMouseEvent),this.guesslist.renderHandler=new Laya.Handler(this,this.onListRender),this.visible=!0,this.guessUI.visible=!0,this.notifyUIComplete(yt,{complete:!0}),this.notifyUIState(yt,{uiVisible:!0}),this.dur=this.matrixBannerDatas.length>5?5e3*(this.matrixBannerDatas.length-5):5e3,this.starGuessLikeAction()}},e.prototype.onListRender=function(t,e){if(1==this.matrixBannerDatas[e].dynamicType&&this.matrixBannerDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(.75,.75),n.visible=!0,(new Ot).createAnimation(this.matrixBannerDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.guessUI.visible&&(this.guessAnyItemExposure[this.matrixBannerDatas[t].appid]||(Lt.sendExposureLog(this.matrixBannerDatas[t],V),this.guessAnyItemExposure[this.matrixBannerDatas[t].appid]=1))},e.prototype.stopGuessLikeAcion=function(){this.stopAction=!0},e.prototype.starGuessLikeAction=function(){this.guessAnylistAutoScroll()},e.prototype.guessAnylistAutoScroll=function(){this.guessUI.visible&&(this.matrixBannerDatas.length<=5||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.guesslist.tweenTo(this.matrixBannerDatas.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.guesslist.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.onGuessLikeItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的guesslike索引："+e),Lt.clickGameYouziUIId=yt;var n=this.matrixBannerDatas[e];n.locationIndex=V,Lt.startOtherGame(n,this.startOtherCall.bind(this))}}else t.type},e.prototype.startOtherCall=function(t){this.isClick=!1,this.starGuessLikeAction()},e}(kt),re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ae=function(t){function e(){var e=t.call(this)||this;return e.smallWallDatas=[],e.redHitHide=[],e.smallWallItemExposure={},e.smallWallItemExposureCount=0,e.uiCompleteCallCopy=null,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.visible=!1,e.SmallWallUI.visible=!1,e.smallWallList.scrollBar.hide=!0,e}return re(e,t),e.prototype.setYouziPosition=function(t,e){this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){if(this.smallWallDatas=Lt.moreDatas,this.smallWallDatas.length>0){for(var t=[],e=null,n=0;n<this.smallWallDatas.length;n++)1==(e=this.smallWallDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.smallWallList.array=t,this.smallWallList.renderHandler=new Laya.Handler(this,this.onListRender),this.smallWallList.mouseHandler=new Laya.Handler(this,this.onSmallWallListItemMouseEvent),this.visible=!0,this.SmallWallUI.visible=!0,this.notifyUIComplete(St,{complete:!0}),this.dur=this.smallWallDatas.length>8?5e3*(this.smallWallDatas.length-8):5e3,this.starSmallWallAction()}},e.prototype.scrollBarListen=function(){this.starSmallWallAction()},e.prototype.onListRender=function(t,e){1==this.smallWallDatas[e].hotred&&(t.getChildByName("redhit").visible=!0);if(1==this.smallWallDatas[e].dynamicType&&this.smallWallDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.visible=!0,(new Ot).createAnimation(this.smallWallDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.SmallWallUI.visible&&(this.smallWallItemExposure[this.smallWallDatas[t].appid]||(Lt.sendExposureLog(this.smallWallDatas[t],K),this.smallWallItemExposure[this.smallWallDatas[t].appid]=1))},e.prototype.stopSmallWallAcion=function(){this.stopAction=!0},e.prototype.starSmallWallAction=function(){this.smallWallListAutoScroll()},e.prototype.smallWallListAutoScroll=function(){this.SmallWallUI.visible&&(this.smallWallDatas.length<=8||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.smallWallList.tweenTo(this.smallWallDatas.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.smallWallList.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.onSmallWallListItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的大家都在玩儿索引："+e);var n=this.smallWallDatas[e];if(n.locationIndex=K,Lt.startOtherGame(n,this.startOtherCall.bind(this)),1==n.hotred)this.smallWallList.getCell(e).getChildByName("redhit").visible=!1}}else t.type},e.prototype.startOtherCall=function(t){this.isClick=!1,this.starSmallWallAction()},e}(zt),se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ue=function(t){function e(){var e=t.call(this)||this;return e.offLineGameShow=[],e.offLineGameDatas=[],e.offLineCreateComplete=!1,e.isSendLog=!0,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.hideOffLineGameTimes=0,Laya.stage.height/Laya.stage.width>=1.9?e.OffLineUI.pos(Laya.stage.width/2-e.OffLineUI.width/2,Laya.stage.height/2-e.OffLineUI.height/2):(e.centerX=0,e.centerY=0),e.visible=!1,e.OffLineUI.visible=!1,e}return se(e,t),e.prototype.setYouziPosition=function(t,e){this.centerX=NaN,this.centerY=NaN,this.OffLineUI.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){this.offLineGameDatas=Lt.offlineBannerDatas,this.wxOnShow(),this.wxOnHide()},e.prototype.wxOnShow=function(){var t=this;Laya.Browser.window.wx&&Laya.Browser.window.wx.onShow((function(e){var n=Math.floor((new Date).getTime()-t.hideOffLineGameTimes);if(Math.floor(n/1e3)>=8&&t.offLineCreateComplete&&(t.visible=!0,t.OffLineUI.visible=!0,t.notifyUIState(wt,{uiVisible:!0}),t.isSendLog))for(var i=0;i<t.offLineGameShow.length;i++)Lt.sendExposureLog(t.offLineGameShow[i],J),i==t.offLineGameShow.length&&(t.isSendLog=!1)}))},e.prototype.wxOnHide=function(){var t=this;Laya.Browser.window.wx&&Laya.Browser.window.wx.onHide((function(){t.hideOffLineGameTimes=(new Date).getTime(),t.offLineGameDatas.length>0&&!t.offLineCreateComplete&&t.createOffLineDialog()}))},e.prototype.createOffLineDialog=function(){if(this.offLineGameDatas.length<=0)console.log("离线推荐没有数据");else{this.OffLineCloseButton.on(Laya.Event.CLICK,this,this.onBtnOffLineClose);for(var t=[],e=0;e<this.offLineGameDatas.length&&!(e>=3);e++){var n=this.offLineGameDatas[e];t.push({namelab:n.title})}switch(t.length){case 1:this.OffLineList.width=140,this.OffLineList.x=194;break;case 2:this.OffLineList.width=305,this.OffLineList.x=111.5}this.OffLineList.mouseHandler=new Laya.Handler(this,this.onOffLinelistItemMouseEvent),this.OffLineList.dataSource=t;for(var i=0;i<this.offLineGameDatas.length;i++){if(1==this.offLineGameDatas[i].dynamicType&&this.offLineGameDatas[i].dynamicIcon){var o=this.OffLineList.getCell(i).getChildByName("iconAnima");o.scale(1.16,1.16),(new Ot).createAnimation(this.offLineGameDatas[i].dynamicIcon,(function(t){o.frames=t.frames,o.interval=t.interval,o.visible=!0,o.play()}))}else{this.OffLineList.getCell(i).getChildByName("icon").loadImage(this.offLineGameDatas[i].iconImg)}if(1==this.offLineGameDatas[i].hotred)this.OffLineList.getCell(i).getChildByName("redhit").visible=!0;if(this.offLineGameShow.push(this.offLineGameDatas[i]),++i>=t.length){this.offLineCreateComplete=!0;break}}this.notifyUIComplete(wt,{complete:!0})}},e.prototype.onBtnOffLineClose=function(){this.visible=!1,this.OffLineUI.visible=!1,this.notifyUIState(wt,{uiVisible:!1})},e.prototype.onOffLinelistItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的hotlist索引："+e);var n=this.offLineGameDatas[e];if(n.locationIndex=J,n.type=3,1==n.hotred)this.OffLineList.getCell(e).getChildByName("icon").getChildByName("redhit").visible=!1;Lt.startOtherGame(n,null)}else"mouseover"==t.type||t.type},e}(Gt),le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ce=function(t){function e(){var e=t.call(this)||this;return e.matrixBannerDatas=[],e.guessAnyItemExposure={},e.firstShow=!1,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.visible=!1,e.guessUI.visible=!1,e.guesslist.scrollBar.hide=!0,e}return le(e,t),e.prototype.setYouziPosition=function(t,e){this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){this.matrixBannerDatas=Lt.matrixBannerDatas;for(var t=[],e=null,n=0;n<this.matrixBannerDatas.length;n++)1==(e=this.matrixBannerDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.guesslist.array=t,this.guesslist.renderHandler=new Laya.Handler(this,this.onListRender),this.guesslist.mouseHandler=new Laya.Handler(this,this.onGuessLikeItemMouseEvent),this.visible=!0,this.guessUI.visible=!0,this.notifyUIComplete(_t,{complete:!0}),this.notifyUIState(_t,{uiVisible:!0}),this.dur=this.matrixBannerDatas.length>5?5e3*(this.matrixBannerDatas.length-5):5e3,this.guessAnylistHAutoScroll()},e.prototype.onListRender=function(t,e){if(1==this.matrixBannerDatas[e].dynamicType&&this.matrixBannerDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(.75,.75),n.visible=!0,(new Ot).createAnimation(this.matrixBannerDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.guessUI.visible&&(this.guessAnyItemExposure[this.matrixBannerDatas[t].appid]||(Lt.sendExposureLog(this.matrixBannerDatas[t],V),this.guessAnyItemExposure[this.matrixBannerDatas[t].appid]=1))},e.prototype.stopGuessLikeHAcion=function(){this.stopAction=!0},e.prototype.starGuessLikeHAction=function(){this.guessAnylistHAutoScroll()},e.prototype.guessAnylistHAutoScroll=function(){this.guessUI.visible&&(this.matrixBannerDatas.length<=5||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){this.curFront=!0,this.curBack=!1;var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.guesslist.tweenTo(this.matrixBannerDatas.length-1,this.dur,t)}},e.prototype.listTweenToStart=function(){if(!this.stopAction){this.curFront=!1,this.curBack=!0;var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.guesslist.tweenTo(0,this.dur,t)}},e.prototype.onGuessLikeItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的guesslikeh索引："+e),Lt.clickGameYouziUIId=_t;var n=this.matrixBannerDatas[e];n.locationIndex=V,Lt.startOtherGame(n,this.startOtherCall.bind(this))}}else t.type},e.prototype.startOtherCall=function(t){this.isClick=!1,this.starGuessLikeHAction()},e}(Bt),he=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pe=function(t){function e(){var e=t.call(this)||this;if(e.morelistHDatas=[],e.mainItemHExposure={},e.fisrtShow=!1,e.isCreate=!1,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,Laya.stage.width/Laya.stage.height>=1.9){e.MoreGameUI.scale(.9,.9);var n=.9*e.MoreGameUI.width,i=.9*e.MoreGameUI.height;e.MoreGameUI.pos(Laya.stage.width/2-n/2,Laya.stage.height/2-i/2)}else e.centerX=0,e.centerY=0;return e.visible=!1,e.MoreGameUI.visible=!1,e.moreGameList.scrollBar.hide=!0,e}return he(e,t),e.prototype.setYouziPosition=function(t,e){this.centerX=NaN,this.centerY=NaN,this.MoreGameUI.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.showMoreGameUI=function(){this.isCreate&&!this.visible&&(this.visible=!0,this.moreGameList.mouseThrough=!1,this.MoreGameUI.visible=!0,this.notifyUIState(gt,{uiVisible:!0}),this.starMoreGameAction(),this.fisrtShow||(this.fisrtShow=!0,this.checkExposure()))},e.prototype.onBtnCloseClicked=function(){this.stopMoreGameAcion(),this.visible=!1,this.moreGameList.mouseThrough=!0,this.MoreGameUI.visible=!1,this.notifyUIState(gt,{uiVisible:!1})},e.prototype.initShow=function(){if(this.moreGameCloseBtn.on(Laya.Event.CLICK,this,this.onBtnCloseClicked),Lt.moreDatas.length>0){this.morelistHDatas=Lt.moreDatas;for(var t=[],e=null,n=0;n<this.morelistHDatas.length;n++)1==(e=this.morelistHDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.moreGameList.array=t,this.moreGameList.renderHandler=new Laya.Handler(this,this.onListRender),this.moreGameList.mouseHandler=new Laya.Handler(this,this.moreGameListMouseEvent),this.isCreate=!0,this.notifyUIComplete(gt,{complete:!0}),this.dur=this.morelistHDatas.length>12?5e3*(this.morelistHDatas.length-12):5e3}},e.prototype.onListRender=function(t,e){if(1==this.morelistHDatas[e].dynamicType&&this.morelistHDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(1.16,1.16),n.visible=!0,(new Ot).createAnimation(this.morelistHDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.MoreGameUI.visible&&(this.mainItemHExposure[this.morelistHDatas[t].appid]||(Lt.sendExposureLog(this.morelistHDatas[t],q),this.mainItemHExposure[this.morelistHDatas[t].appid]=1))},e.prototype.stopMoreGameAcion=function(){this.stopAction=!0},e.prototype.starMoreGameAction=function(){this.moreGameListAutoScroll()},e.prototype.moreGameListAutoScroll=function(){this.MoreGameUI.visible&&(this.morelistHDatas.length<=12||(this.stopAction=!1,this.dur=5e3*(this.morelistHDatas.length-12),this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.moreGameList.tweenTo(this.morelistHDatas.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.moreGameList.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.moreGameListMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的moreGameH索引："+e);var n=this.morelistHDatas[e];n.locationIndex=q,Lt.startOtherGame(n,this.startOtherCall.bind(this))}}else t.type},e.prototype.startOtherCall=function(){this.isClick=!1,this.starMoreGameAction()},e.prototype.checkExposure=function(){if(this.MoreGameUI.visible)for(var t=0;t<this.morelistHDatas.length;t++){var e=this.morelistHDatas[t];if(this.mainItemHExposure[e.appid]||(this.mainItemHExposure[e.appid]=1,Lt.sendExposureLog(e,q)),t>=11)break}},e}(Mt),fe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),de=function(t){function e(){var e=t.call(this)||this;return e.offLineGameShow=[],e.offLineGameDatas=[],e.offLineCreateComplete=!1,e.isSendLog=!0,e.uiCompleteCallCopy=null,e.uiStateCallCopy=null,e.hideOffLineGameTimes=0,Laya.stage.width/Laya.stage.height>=1.9?e.OffLineUI.pos(Laya.stage.width/2-e.OffLineUI.width/2,Laya.stage.height/2-e.OffLineUI.height/2):(e.centerX=0,e.centerY=0),e.visible=!1,e.OffLineUI.visible=!1,e}return fe(e,t),e.prototype.setYouziPosition=function(t,e){this.centerX=NaN,this.centerY=NaN,this.OffLineUI.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){this.offLineGameDatas=Lt.offlineBannerDatas,this.wxOnShow(),this.wxOnHide()},e.prototype.wxOnShow=function(){var t=this;Laya.Browser.window.wx&&Laya.Browser.window.wx.onShow((function(e){var n=Math.floor((new Date).getTime()-t.hideOffLineGameTimes);if(Math.floor(n/1e3)>=8&&t.offLineCreateComplete&&(t.visible=!0,t.OffLineUI.visible=!0,t.notifyUIState(bt,{uiVisible:!0}),t.isSendLog))for(var i=0;i<t.offLineGameShow.length;i++)Lt.sendExposureLog(t.offLineGameShow[i],J),i==t.offLineGameShow.length&&(t.isSendLog=!1)}))},e.prototype.wxOnHide=function(){var t=this;Laya.Browser.window.wx&&Laya.Browser.window.wx.onHide((function(){t.hideOffLineGameTimes=(new Date).getTime(),t.offLineGameDatas.length>0&&!t.offLineCreateComplete&&t.createOffLineDialog()}))},e.prototype.createOffLineDialog=function(){if(this.offLineGameDatas.length<=0)console.log("离线推荐没有数据");else{this.OffLineCloseButton.on(Laya.Event.CLICK,this,this.onBtnOffLineClose);for(var t=[],e=0;e<this.offLineGameDatas.length&&!(e>=3);e++){var n=this.offLineGameDatas[e];t.push({infoData:n,namelab:n.title})}var i=0;switch(t.length){case 1:i=205;break;case 2:i=85,this.OffLineList.spaceX=50;break;default:i=8,this.OffLineList.spaceX=15}this.OffLineList.x=i,this.OffLineList.mouseHandler=new Laya.Handler(this,this.onOffLinelistItemMouseEvent),this.OffLineList.dataSource=t;for(var o=0;o<this.offLineGameDatas.length;o++){if(1==this.offLineGameDatas[o].dynamicType&&this.offLineGameDatas[o].dynamicIcon){var r=this.OffLineList.getCell(o).getChildByName("iconAnima");r.scale(1.16,1.16),(new Ot).createAnimation(this.offLineGameDatas[o].dynamicIcon,(function(t){r.frames=t.frames,r.interval=t.interval,r.visible=!0,r.play()}))}else{this.OffLineList.getCell(o).getChildByName("icon").loadImage(this.offLineGameDatas[o].iconImg)}if(1==this.offLineGameDatas[o].hotred)this.OffLineList.getCell(o).getChildByName("redhit").visible=!0;if(this.offLineGameShow.push(this.offLineGameDatas[o]),++o>=t.length){this.offLineCreateComplete=!0;break}}this.notifyUIComplete(bt,{complete:!0})}},e.prototype.onBtnOffLineClose=function(){this.visible=!1,this.OffLineUI.visible=!1,this.notifyUIState(bt,{uiVisible:!1})},e.prototype.onOffLinelistItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的hotlist索引："+e);var n=this.offLineGameDatas[e];if(n.locationIndex=J,n.type=3,1==n.hotred)this.OffLineList.getCell(e).getChildByName("icon").getChildByName("redhit").visible=!1;Lt.startOtherGame(n,null)}else"mouseover"==t.type||t.type},e}(jt),ye=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_e=function(t){function e(e){var n=t.call(this)||this;if(n.hotlistHDatas=[],n.slideItemExposure={},n.uiCompleteCallCopy=null,n.uiStateCallCopy=null,n.slideButton=null,n.slideMask=null,n.showFirst=!1,n.isFullDevice=!1,n.acitonPianYi=0,n.isLeft=!1,n.isLeft=e,Laya.stage.width/Laya.stage.height>=1.9){n.isFullDevice=!0,n.acitonPianYi=20,n.scale(.9,.9);var i=.9*n.height;n.pos(n.x,Laya.stage.height/2-i/2)}else n.centerY=0;return e?n.left=-n.width:(n.right=-n.width,n.slideBg.scaleX=-1,n.slideBg.pos(n.slideBg.width,n.slideBg.y),n.slideList.pos(n.slideList.x,n.slideList.y)),n.visible=!1,n.SlideWindowUI.visible=!1,n.slideList.scrollBar.hide=!0,n}return ye(e,t),e.prototype.setYouziPosition=function(t){this.centerX=NaN,this.centerY=NaN,this.pos(this.x,t)},e.prototype.setSlideButton=function(t){this.slideButton=t},e.prototype.setSlideMask=function(t){this.slideMask=t},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.showSlideBtnAndHideSlideMask=function(){this.slideButton&&(this.slideButton.visible=!0),this.slideMask&&(this.slideMask.visible=!1)},e.prototype.hideSlideBtnAndShowSlideMask=function(){this.slideButton&&(this.slideButton.visible=!1),this.slideMask&&(this.slideMask.visible=!0)},e.prototype.showSlideWindow=function(){if(this.hotlistHDatas.length<=0)console.log("抽屉没有数据");else if(!this.SlideWindowUI.visible){this.visible=!0,this.SlideWindowUI.visible=!0,this.hideSlideBtnAndShowSlideMask();var t=this;this.slideWindowActionShow((function(){t.notifyUIState(Ct,{uiVisible:!0}),t.showFirst||(t.showFirst=!0,t.checkExposure())}))}},e.prototype.slideWindowActionShow=function(t){this.isLeft?Laya.Tween.to(this,{left:this.acitonPianYi},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t)):Laya.Tween.to(this,{right:this.acitonPianYi},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t))},e.prototype.closeSlideWindow=function(){if(this.hotlistHDatas.length<=0)console.log("抽屉没有数据");else{var t=this;this.slideWindowActionClose((function(){t.notifyUIState(Ct,{uiVisible:!1}),t.visible=!1,t.SlideWindowUI.visible=!1,t.btnSLideClose.visible=!0,t.showSlideBtnAndHideSlideMask()})),t.btnSLideClose.visible=!1}},e.prototype.slideWindowActionClose=function(t){this.isLeft?Laya.Tween.to(this,{left:-this.width},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t)):Laya.Tween.to(this,{right:-this.width},500,Laya.Ease.quadInOut,Laya.Handler.create(this,t))},e.prototype.initShow=function(){this.hotlistHDatas=Lt.hotListDatas,this.btnSLideClose.on(Laya.Event.CLICK,this,this.closeSlideWindow);for(var t=[],e=null,n=0;n<this.hotlistHDatas.length;n++)1==(e=this.hotlistHDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.slideList.array=t,this.slideList.renderHandler=new Laya.Handler(this,this.onListRender),this.slideList.mouseHandler=new Laya.Handler(this,this.onslideListItemMouseEvent),this.notifyUIComplete(Ct,{complete:!0})},e.prototype.onListRender=function(t,e){0==this.hotlistHDatas[e].hotred&&(t.getChildByName("markImg").visible=!1);if(1==this.hotlistHDatas[e].dynamicType&&this.hotlistHDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.scale(1.08,1.08),n.visible=!0,(new Ot).createAnimation(this.hotlistHDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.SlideWindowUI.visible&&(this.slideItemExposure[this.hotlistHDatas[t].appid]||(Lt.sendExposureLog(this.hotlistHDatas[t],F),this.slideItemExposure[this.hotlistHDatas[t].appid]=1))},e.prototype.onslideListItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的slideh索引："+e);var n=this.hotlistHDatas[e];if(n.locationIndex=F,Lt.startOtherGame(n,null),1==n.hotred)this.slideList.getCell(e).getChildByName("markImg").visible=!1}else t.type},e.prototype.checkExposure=function(){if(this.SlideWindowUI.visible)for(var t=0;t<this.hotlistHDatas.length;t++){var e=this.hotlistHDatas[t];if(this.slideItemExposure[e.appid]||(this.slideItemExposure[e.appid]=1,Lt.sendExposureLog(e,F)),t>=11)break}},e}(Ht),me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ve=function(t){function e(){var e=t.call(this)||this;return e.smallWallHDatas=[],e.smallWallHItemExposure={},e.smallWallHItemExposureCount=0,e.uiCompleteCallCopy=null,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.visible=!1,e.SmallWallUIH.visible=!1,e.smallWallListH.scrollBar.hide=!0,e}return me(e,t),e.prototype.setYouziPosition=function(t,e){this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){if(this.smallWallHDatas=Lt.moreDatas,this.smallWallHDatas.length>0){for(var t=[],e=null,n=0;n<this.smallWallHDatas.length;n++)1==(e=this.smallWallHDatas[n]).dynamicType&&e.dynamicIcon?t.push({icon:"",namelab:e.title}):t.push({icon:e.iconImg,namelab:e.title});this.smallWallListH.renderHandler=new Laya.Handler(this,this.onListRender),this.smallWallListH.array=t,this.smallWallListH.mouseHandler=new Laya.Handler(this,this.onSmallWallListItemMouseEvent),this.visible=!0,this.SmallWallUIH.visible=!0,this.notifyUIComplete(St,{complete:!0}),this.dur=this.smallWallHDatas.length>8?5e3*(this.smallWallHDatas.length-8):5e3,this.starSmallWallAction()}},e.prototype.onListRender=function(t,e){1==this.smallWallHDatas[e].hotred&&(t.getChildByName("redhit").visible=!0);if(1==this.smallWallHDatas[e].dynamicType&&this.smallWallHDatas[e].dynamicIcon){var n=t.getChildByName("iconAnima");n.visible=!0,(new Ot).createAnimation(this.smallWallHDatas[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()}))}this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.visible&&this.SmallWallUIH.visible&&(this.smallWallHItemExposure[this.smallWallHDatas[t].appid]||(Lt.sendExposureLog(this.smallWallHDatas[t],K),this.smallWallHItemExposure[this.smallWallHDatas[t].appid]=1))},e.prototype.stopSmallWallAcion=function(){this.stopAction=!0},e.prototype.starSmallWallAction=function(){this.smallWallListAutoScroll()},e.prototype.smallWallListAutoScroll=function(){this.SmallWallUIH.visible&&(this.smallWallHDatas.length<=8||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.smallWallListH.tweenTo(this.smallWallHDatas.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.smallWallListH.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.onSmallWallListItemMouseEvent=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){if(!this.isClick){this.isClick=!0,console.log("当前选择的大家都在玩儿索引："+e);var n=this.smallWallHDatas[e];if(n.locationIndex=K,Lt.startOtherGame(n,this.startOtherCall.bind(this)),1==n.hotred)this.smallWallListH.getCell(e).getChildByName("redhit").visible=!1}}else t.type},e.prototype.startOtherCall=function(t){this.isClick=!1,this.starSmallWallAction()},e}(Wt),ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),we=function(t){function e(e){var n=t.call(this)||this;return n.mainRecData=null,n.mainRecItemExposure={},n.angel=0,n.curMainRecIdx=0,n.uiCompleteCallCopy=null,n.uiStateCallCopy=null,n.leftTween=null,n.rightTween=null,n.startTimer=!0,n.mainRecData=e,n.visible=!1,n.btnMainRecBg.visible=!1,n}return ge(e,t),e.prototype.setYouziPosition=function(t,e){this.centerX=NaN,this.centerY=NaN,this.pos(t,e)},e.prototype.setUICompleteCall=function(t){this.uiCompleteCallCopy=t},e.prototype.notifyUIComplete=function(t,e){this.uiCompleteCallCopy&&this.uiCompleteCallCopy(t,e)},e.prototype.offUICompleteCall=function(){this.uiCompleteCallCopy&&(this.uiCompleteCallCopy=null)},e.prototype.setUIStateCall=function(t){this.uiStateCallCopy=t},e.prototype.notifyUIState=function(t,e){this.uiStateCallCopy&&this.uiStateCallCopy(t,e)},e.prototype.offUIStateCall=function(){this.uiStateCallCopy&&(this.uiStateCallCopy=null)},e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){this.mainRecData&&(this.btnMainRec.on(Laya.Event.CLICK,this,this.onBtnMainRecClicked),this.visible=!0,this.btnMainRecBg.visible=!0,this.btnMainRecBg.rotation=10,this.addMainAnimaOrImage(),Lt.sendExposureLog(this.mainRecData,W),this.mainRecItemExposure[this.mainRecData.appid]=1,this.notifyUIComplete(mt,{complete:!0}),this.startTimerLoop())},e.prototype.startTimerLoop=function(){this.startTimer&&(this.startTimer=!1,this.mainPushRotationAction())},e.prototype.clearTimerLoop=function(){this.btnMainRecBg.rotation=10,this.startTimer=!0,this.leftTween&&Laya.Tween.clear(this.leftTween),this.rightTween&&Laya.Tween.clear(this.rightTween)},e.prototype.mainPushRotationAction=function(){this.rotatotionRight()},e.prototype.rotatotionRight=function(){this.rightTween=Laya.Tween.to(this.btnMainRecBg,{rotation:-10},2e3,null,new Laya.Handler(this,this.rotationLeft))},e.prototype.rotationLeft=function(t){this.leftTween=Laya.Tween.to(this.btnMainRecBg,{rotation:10},2e3,null,new Laya.Handler(this,this.rotatotionRight))},e.prototype.updateMainRecMultiple=function(t){this.mainRecData=t,this.btnMainRec.graphics.clear(!0),this.addMainAnimaOrImage(),this.mainRecItemExposure[t.appid]||(Lt.sendExposureLog(t,W),this.mainRecItemExposure[t.appid]=1)},e.prototype.addMainAnimaOrImage=function(){if(1==this.mainRecData.dynamicType&&this.mainRecData.dynamicIcon){var t=this;t.mainAnima.scale(.75,.75),(new Ot).createAnimation(this.mainRecData.dynamicIcon,(function(e){t.mainAnima=e,t.mainAnima.visible=!0,t.mainAnima.play()}))}else this.btnMainRec.loadImage(this.mainRecData.iconImg);this.slogan.text=this.mainRecData.slogan},e.prototype.onBtnMainRecClicked=function(){Lt.clickGameYouziUIId=mt,this.mainRecData.locationIndex=W,Lt.startOtherGame(this.mainRecData,null)},e}(Ut),be=function(){function t(t){this.multipleAmount=1,this.isUpdateMainPush=!1,this.multipleMainPushObj=[],this.paramsJsonArray=[],this.randomData=[],this.startTimerMulti=!0,this.paramsJsonArray=t,this.initShow()}return t.prototype.initShow=function(){Lt._isDataLoaded?this.creatYouziMultipleMainPush():Lt._loadedCallBacks.push(this.creatYouziMultipleMainPush.bind(this))},t.prototype.creatYouziMultipleMainPush=function(){var t=Lt.getMultiMainAmount(this.paramsJsonArray.length);this.multipleAmount=t[0],this.isUpdateMainPush=t[1],this.randomData=Lt.getGamesIndex(Lt.mainRecDatas.length,this.multipleAmount);for(var e=0;e<this.randomData.length;e++){var n=new we(Lt.mainRecDatas[this.randomData[e]]),i=this.paramsJsonArray[e];this.paramsJsonArray[e]&&(n.setYouziPosition(i.x,i.y),i.parentNode.addChild(n),this.multipleMainPushObj.push(n))}this.startChangeTimeLoop()},t.prototype.startChangeTimeLoop=function(){if(this.startTimerMulti){this.startTimerMulti=!1,this.isUpdateMainPush&&Laya.timer.loop(5e3,this,this.updateMultipleMainPush);for(var t=0;t<this.multipleMainPushObj.length;t++)this.multipleMainPushObj[t].startTimerLoop()}},t.prototype.stopChangeTimeLoop=function(){this.isUpdateMainPush&&Laya.timer.clear(this,this.updateMultipleMainPush);for(var t=0;t<this.multipleMainPushObj.length;t++)this.multipleMainPushObj[t].clearTimerLoop();this.startTimerMulti=!0},t.prototype.updateMultipleMainPush=function(){this.randomData=Lt.getGamesIndex(Lt.mainRecDatas.length,this.multipleAmount);for(var t=0;t<this.multipleMainPushObj.length;t++)this.multipleMainPushObj[t].updateMainRecMultiple(Lt.mainRecDatas[this.randomData[t]])},t}(),Ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ce=function(t){function e(){var e=t.call(this)||this;return e.fullScreenData=[],e.fullScreenExposure={},e.hw=0,e.breaki=15,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.visible=!1,e.FullScreenUI.visible=!1,e.scaleX=0,e.scaleY=0,e.pivotX=e.width/2,e.pivotY=e.height/2,e.FullScreenList.vScrollBarSkin="",Laya.stage.width<Laya.stage.height?e.hw=Laya.Browser.height/Laya.Browser.width:e.hw=Laya.Browser.width/Laya.Browser.height,e.hw>1.9?(e.height=1500,e.FullScreenUI.height=1500,e.FullScreenList.repeatX=3,e.FullScreenList.repeatY=5,e.FullScreenList.height=1280,e.pos(Laya.stage.width/2,Laya.stage.height/2-120),e.breaki=15):e.pos(Laya.stage.width/2,Laya.stage.height/2),e}return Ie(e,t),e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){if(this.fullScreenData=Lt.fullMatrixScreenDatas,this.fullScreenData.length>0){this.dur=this.fullScreenData.length>12?5e3*(this.fullScreenData.length-12):5e3,this.closeFullScreen.on(Laya.Event.CLICK,this,this.onCloseFullScreen);for(var t=[],e=0;e<this.fullScreenData.length;e++)1==this.fullScreenData[e].dynamicType&&this.fullScreenData[e].dynamicIcon?t.push({icon:"",namelab:this.fullScreenData[e].title}):t.push({icon:this.fullScreenData[e].iconImg,namelab:this.fullScreenData[e].title});this.FullScreenList.array=t,this.FullScreenList.mouseHandler=new Laya.Handler(this,this.onItemClick),this.FullScreenList.renderHandler=new Laya.Handler(this,this.onListRender)}else console.log("全屏落地页无数据")},e.prototype.onListRender=function(t,e){0==this.fullScreenData[e].hotred&&(t.getChildByName("redhit").visible=!1);var n=t.getChildByName("iconAnima");(n.frames=[],1==this.fullScreenData[e].dynamicType&&this.fullScreenData[e].dynamicIcon)&&(n.scale(1.66,1.66),(new Ot).createAnimation(this.fullScreenData[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()})));this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.FullScreenUI.visible&&(this.fullScreenExposure[this.fullScreenData[t].appid]||(Lt.sendExposureLog(this.fullScreenData[t],Q),this.fullScreenExposure[this.fullScreenData[t].appid]=1))},e.prototype.showFullScreen=function(){this.fullScreenData.length<=0?console.log("全屏落地页无数据不展示"):this&&this.parent&&(this.zOrder=999,this.visible=!0,this.FullScreenUI.visible=!0,Laya.Tween.to(this,{scaleX:1,scaleY:1},500,Laya.Ease.quadIn,Laya.Handler.create(this,this.showActionFinsh)))},e.prototype.showActionFinsh=function(){this.checkExposure(),this.starFullListAction()},e.prototype.onCloseFullScreen=function(){this.stopFullListAcion(),Laya.Tween.to(this,{scaleX:0,scaleY:0},500,Laya.Ease.quadInOut,Laya.Handler.create(this,this.closeActionFinsh))},e.prototype.closeActionFinsh=function(){this.zOrder=0,this.visible=!1,this.FullScreenUI.visible=!1,this.fullScreenExposure={}},e.prototype.stopFullListAcion=function(){this.stopAction=!0},e.prototype.starFullListAction=function(){this.fullScreenListAutoScroll()},e.prototype.fullScreenListAutoScroll=function(){this.FullScreenUI.visible&&(this.fullScreenData.length<=15||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.FullScreenList.tweenTo(this.fullScreenData.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.FullScreenList.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.onItemClick=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的全屏落地页索引："+e);var n=this.fullScreenData[e];n.locationIndex=Q,Lt.startOtherGame(n,null)}else t.type},e.prototype.checkExposure=function(){if(this.FullScreenUI.visible)for(var t=0;t<this.fullScreenData.length;t++){var e=this.fullScreenData[t];if(this.fullScreenExposure[e.appid]||(this.fullScreenExposure[e.appid]=1,Lt.sendExposureLog(e,Q)),t>=this.breaki)break}},e}(Tt),Se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Le=function(t){function e(){var e=t.call(this)||this;return e.fullScreenData=[],e.fullScreenExposure={},e.hw=0,e.breaki=15,e.curFront=!0,e.curBack=!1,e.stopAction=!1,e.isClick=!1,e.dur=5e3,e.visible=!1,e.FullScreenUI.visible=!1,e.scaleX=0,e.scaleY=0,e.pivotX=e.width/2,e.pivotY=e.height/2,e.FullScreenList.hScrollBarSkin="",Laya.stage.width<Laya.stage.height?e.hw=Laya.Browser.height/Laya.Browser.width:e.hw=Laya.Browser.width/Laya.Browser.height,e.hw>1.9?(e.width=1500,e.FullScreenUI.width=1500,e.FullScreenList.width=1300,e.FullScreenList.repeatX=5,e.pos(Laya.stage.width/2-120,Laya.stage.height/2),e.breaki=15):e.pos(Laya.stage.width/2,Laya.stage.height/2),e}return Se(e,t),e.prototype.onEnable=function(){Lt._isDataLoaded?this.initShow():Lt._loadedCallBacks.push(this.initShow.bind(this))},e.prototype.initShow=function(){if(this.fullScreenData=Lt.fullMatrixScreenDatas,this.fullScreenData.length>0){this.dur=this.fullScreenData.length>12?5e3*(this.fullScreenData.length-12):5e3,this.closeFullScreen.on(Laya.Event.CLICK,this,this.onCloseFullScreen);for(var t=[],e=0;e<this.fullScreenData.length;e++)1==this.fullScreenData[e].dynamicType&&this.fullScreenData[e].dynamicIcon?t.push({icon:"",namelab:this.fullScreenData[e].title}):t.push({icon:this.fullScreenData[e].iconImg,namelab:this.fullScreenData[e].title});this.FullScreenList.array=t,this.FullScreenList.mouseHandler=new Laya.Handler(this,this.onItemClick),this.FullScreenList.renderHandler=new Laya.Handler(this,this.onListRender)}else console.log("全屏落地页无数据")},e.prototype.onListRender=function(t,e){0==this.fullScreenData[e].hotred&&(console.log("======>",e),t.getChildByName("redhit").visible=!1);var n=t.getChildByName("iconAnima");(n.frames=[],1==this.fullScreenData[e].dynamicType&&this.fullScreenData[e].dynamicIcon)&&(n.scale(1.66,1.66),(new Ot).createAnimation(this.fullScreenData[e].dynamicIcon,(function(t){n.frames=t.frames,n.interval=t.interval,n.play()})));this.checkSendExpsureLog(e)},e.prototype.checkSendExpsureLog=function(t){this.FullScreenUI.visible&&(this.fullScreenExposure[this.fullScreenData[t].appid]||(Lt.sendExposureLog(this.fullScreenData[t],Q),this.fullScreenExposure[this.fullScreenData[t].appid]=1))},e.prototype.showFullScreen=function(){this.fullScreenData.length<=0?console.log("全屏落地页无数据不展示"):this&&this.parent&&(this.zOrder=999,this.visible=!0,this.FullScreenUI.visible=!0,Laya.Tween.to(this,{scaleX:1,scaleY:1},500,Laya.Ease.quadIn,Laya.Handler.create(this,this.showActionFinsh)))},e.prototype.showActionFinsh=function(){this.checkExposure(),this.starFullListAction()},e.prototype.onCloseFullScreen=function(){this.stopFullListAcion(),Laya.Tween.to(this,{scaleX:0,scaleY:0},500,Laya.Ease.quadInOut,Laya.Handler.create(this,this.closeActionFinsh))},e.prototype.closeActionFinsh=function(){this.zOrder=0,this.visible=!1,this.FullScreenUI.visible=!1,this.fullScreenExposure={}},e.prototype.stopFullListAcion=function(){this.stopAction=!0},e.prototype.starFullListAction=function(){this.fullScreenListAutoScroll()},e.prototype.fullScreenListAutoScroll=function(){this.FullScreenUI.visible&&(this.fullScreenData.length<=15||(this.stopAction=!1,this.curFront&&!this.curBack?this.listTweenToEnd():!this.curFront&&this.curBack&&this.listTweenToStart()))},e.prototype.listTweenToEnd=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToStart,null,!0);this.FullScreenList.tweenTo(this.fullScreenData.length-1,this.dur,t)}this.curFront=!0,this.curBack=!1},e.prototype.listTweenToStart=function(){if(!this.stopAction){var t=new Laya.Handler(this,this.listTweenToEnd,null,!0);this.FullScreenList.tweenTo(0,this.dur,t)}this.curFront=!1,this.curBack=!0},e.prototype.onItemClick=function(t,e){if("mousedown"==t.type);else if("mouseup"==t.type){console.log("当前选择的全屏落地页索引："+e);var n=this.fullScreenData[e];n.locationIndex=Q,Lt.startOtherGame(n,null)}else t.type},e.prototype.checkExposure=function(){if(this.FullScreenUI.visible)for(var t=0;t<this.fullScreenData.length;t++){var e=this.fullScreenData[t];if(this.fullScreenExposure[e.appid]||(this.fullScreenExposure[e.appid]=1,Lt.sendExposureLog(e,Q)),t>=this.breaki)break}},e}(Et),Oe=2,xe=function(){function t(){this.navigateToMiniCallTemp=[],this.slideBtn=null,this.multiMainPushAmount=1,this.fullScreenMatrixNode=null,this.fullScreenMatrix=null,this.fullScreenMatrixH=null,this.vertical=!0,this.moreGameUI=null,this.slideWindowUI=null,this.slideWindowMask=null,this.moreGameUIH=null,this.slideWindowUIH=null,this.slideWindowMaskH=null}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.youziDebug=function(t){Lt.debug=t},t.prototype.initYouzi=function(t,e,n){Lt.init(t,e,n),Laya.stage.width>Laya.stage.height&&(this.vertical=!1)},t.prototype.registerNavigateToMiniCall=function(t){this.navigateToMiniCallTemp.push(t)},t.prototype.notifyNavigateToMini=function(t){this.navigateToMiniCallTemp.length>0&&this.navigateToMiniCallTemp.forEach((function(e){e(t)}))},t.prototype.offNavigateToMimiCall=function(){this.navigateToMiniCallTemp=null},t.prototype.createMoreGameButton=function(t,e,n){var i=null;e||(e={}),(i=e.hasOwnProperty("btnUrl")?new Laya.Button(e.btnUrl):new Laya.Button("youziTexture/btn-entrance-nogift.png")).mouseEnabled=!0,i.stateNum=1,i.width=e.hasOwnProperty("width")?e.width:119,i.height=e.hasOwnProperty("height")?e.height:119;var o=e.hasOwnProperty("x")?e.x:0,r=e.hasOwnProperty("y")?e.y:0;return i.pos(o,r),t.addChild(i),n&&i.on(Laya.Event.CLICK,this,this.showMoreGameUI),i},t.prototype.showMoreGameUI=function(){Laya.stage.width>Laya.stage.height?this.moreGameUIH&&this.moreGameUIH.showMoreGameUI():this.moreGameUI&&this.moreGameUI.showMoreGameUI()},t.prototype.createMoreGameUI=function(t,e,n){return this.moreGameUI=new te,this.moreGameUI.setUIStateCall(n),e&&this.moreGameUI.setYouziPosition(e.x,e.y),t.addChild(this.moreGameUI),this.moreGameUI},t.prototype.createMoreGameUIH=function(t,e,n){return this.moreGameUIH=new pe,this.moreGameUIH.setUIStateCall(n),e&&this.moreGameUIH.setYouziPosition(e.x,e.y),t.addChild(this.moreGameUIH),this.moreGameUIH},t.prototype.createSlideButton=function(t,e,n,i){this.slideBtn=new Laya.Button("youziTexture/btn_slide.png"),this.slideBtn.mouseEnabled=!0,this.slideBtn.stateNum=1,e||(e={}),this.slideBtn.width=e.width,this.slideBtn.height=e.height;var o=0,r=e.hasOwnProperty("y")?e.y:Laya.stage.height/2;return n?(this.slideBtn.scaleX=-1,o=e.hasOwnProperty("x")?e.x:this.slideBtn.width):o=e.hasOwnProperty("x")?e.x:Laya.stage.width-this.slideBtn.width,this.slideBtn.pos(o,r),t.addChild(this.slideBtn),i&&this.slideBtn.on(Laya.Event.CLICK,this,this.showSlideWindowUI),this.slideBtn},t.prototype.showSlideWindowUI=function(){Laya.stage.width>Laya.stage.height?this.slideWindowUIH&&this.slideWindowUIH.showSlideWindow():this.slideWindowUI&&this.slideWindowUI.showSlideWindow()},t.prototype.createSlideWindowUI=function(t,e,n,i){return this.slideWindowUI=new ne(n),this.slideWindowUI.setSlideButton(this.slideBtn),this.slideWindowUI.setSlideMask(this.createSlideWindowMask()),this.slideWindowUI.setUIStateCall(i),e&&this.slideWindowUI.setYouziPosition(e.y),t.addChild(this.createSlideWindowMask()),t.addChild(this.slideWindowUI),this.slideWindowUI},t.prototype.createSlideWindowMask=function(){return this.slideWindowMask?this.slideWindowMask:(this.slideWindowMask=new Laya.Button("youziTexture/blank.png"),this.slideWindowMask.width=1e3,this.slideWindowMask.height=1900,this.slideWindowMask.stateNum=1,this.slideWindowMask.centerX=0,this.slideWindowMask.centerY=0,this.slideWindowMask.visible=!1,this.slideWindowMask)},t.prototype.createSlideWindowUIH=function(t,e,n,i){return this.slideWindowUIH=new _e(n),this.slideWindowUIH.setSlideButton(this.slideBtn),this.slideWindowUIH.setSlideMask(this.createSlideWindowMaskH()),this.slideWindowUIH.setUIStateCall(i),e&&this.slideWindowUIH.setYouziPosition(e.y),t.addChild(this.createSlideWindowMaskH()),t.addChild(this.slideWindowUIH),this.slideWindowUIH},t.prototype.createSlideWindowMaskH=function(){return this.slideWindowMaskH?this.slideWindowMaskH:(this.slideWindowMaskH=new Laya.Button("youziTexture/blank.png"),this.slideWindowMaskH.width=1900,this.slideWindowMaskH.height=1e3,this.slideWindowMaskH.centerX=0,this.slideWindowMaskH.centerY=0,this.slideWindowMaskH.stateNum=1,this.slideWindowMaskH.visible=!1,this.slideWindowMaskH)},t.prototype.createBottomBanner=function(t,e,n){var i=new Xt(n);return e&&i.setYouziPosition(e.x,e.y),t.addChild(i),i},t.prototype.bottomBannerActionStopOrStart=function(t,e){e&&(t?e.stopBottomBannerAcion():e.starBottomBannerAction())},t.prototype.createGuessLike=function(t,e){var n=new oe;return e&&n.setYouziPosition(e.x,e.y),t.addChild(n),n},t.prototype.createGuessLikeH=function(t,e){var n=new ce;return e&&n.setYouziPosition(e.x,e.y),t.addChild(n),n},t.prototype.guessLikeListTweenStopOrStart=function(t,e,n){e&&(t?e.stopGuessLikeAcion():e.starGuessLikeAction()),n&&(t?n.stopGuessLikeHAcion():n.starGuessLikeHAction())},t.prototype.createMainPush=function(t,e){var n=new Vt;return e&&n.setYouziPosition(e.x,e.y),t.addChild(n),n},t.prototype.mainPushActionStopOrStart=function(t,e){t?e.clearTimerLoop():e.startTimerLoop()},t.prototype.createMultiMainPush=function(t){return new be(t)},t.prototype.stopOrStartMultiMainPush=function(t,e){e&&(t?e.stopChangeTimeLoop():e.startChangeTimeLoop())},t.prototype.createOffline=function(t,e,n){var i=new ue;return i.setUIStateCall(n),e&&i.setYouziPosition(e.x,e.y),t.addChild(i),i},t.prototype.createOfflineH=function(t,e,n){var i=new de;return i.setUIStateCall(n),e&&i.setYouziPosition(e.x,e.y),t.addChild(i),i},t.prototype.createYouzi_WechatBanner=function(t,e,n,i,o){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=!1),new Kt(t,e,n,i,o)},t.prototype.createYouzi_GameBanner=function(t,e,n){var i=new Zt(t,e);return n&&i.setYouziPosition(n.x,n.y),i},t.prototype.createYouziSmallWall=function(t,e){var n=new ae;return e&&n.setYouziPosition(e.x,e.y),t.addChild(n),n},t.prototype.smallWallActionStopOrStart=function(t,e){e&&(t?e.stopSmallWallAcion():e.starSmallWallAction())},t.prototype.createYouziSmallWallH=function(t,e){var n=new ve;return e&&n.setYouziPosition(e.x,e.y),t.addChild(n),n},t.prototype.smallWallHActionStopOrStart=function(t,e){e&&(t?e.stopSmallWallAcion():e.starSmallWallAction())},t.prototype.showFullScreenMatrix=function(){this.fullScreenMatrixNode?this.vertical?this.fullScreenMatrix.showFullScreen():this.fullScreenMatrixH.showFullScreen():this.vertical?(this.fullScreenMatrix=new Ce,this.fullScreenMatrixNode=Laya.stage.addChild(this.fullScreenMatrix),this.fullScreenMatrix.showFullScreen()):(this.fullScreenMatrixH=new Le,this.fullScreenMatrixNode=Laya.stage.addChild(this.fullScreenMatrixH),this.fullScreenMatrixH.showFullScreen())},t.instance=null,t}(),De=n(2),Ae=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Te=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},Ee=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Pe=function(t){function e(e){var n=t.call(this)||this;return n.youzi=null,n.appid="",n.bottom_banner_ad=null,n.fullscreen_ad=null,n.more_game_ad=null,n.slide_panel_ad=null,n.main_push_ad=null,n.appid=e,n}return Ae(e,t),e.prototype.initialize=function(){var t=this;return new Promise((function(e,n){Laya.AtlasInfoManager.enable("assets/youzi/fileconfig.json",Laya.Handler.create(null,(function(){Laya.loader.load(["assets/youzi/youziTexture.png","assets/youzi/youziTexture.atlas","assets/youzi/Youzi_GuessLike.scene","assets/youzi/Youzi_OffLine.scene","assets/youzi/Youzi_SmallWall.scene","assets/youzi/Youzi_BottomBanner.scene","assets/youzi/Youzi_GuessLikeH.scene","assets/youzi/Youzi_OffLineH.scene","assets/youzi/Youzi_SmallWallH.scene","assets/youzi/Youzi_FullScreen.scene","assets/youzi/Youzi_MainPush.scene","assets/youzi/Youzi_ScreenPage.scene","assets/youzi/Youzi_FullScreenH.scene","assets/youzi/Youzi_MoreGame.scene","assets/youzi/Youzi_SlideWindow.scene","assets/youzi/Youzi_GameBannerView.scene","assets/youzi/Youzi_MoreGameH.scene","assets/youzi/Youzi_SlideWindowH.scene"],Laya.Handler.create(null,(function(){t.youzi=xe.getInstance(),xe.getInstance().initYouzi(t.appid,"1.00.00",Oe),console.log("柚子SDK","初始化完毕"),t.bottom_banner_ad=new ke,t.fullscreen_ad=new Be,t.more_game_ad=new Re,t.slide_panel_ad=new Me,t.main_push_ad=new Ue,e()})))})))}))},e}(De.a),ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return Ae(e,t),e.prototype.instance=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.native_ad=xe.getInstance().createBottomBanner(Laya.stage,{x:Laya.stage.width/2-320,y:Laya.stage.height-170},!1),[2]}))}))},e.prototype.destrory=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.native_ad.destroy(),[2]}))}))},e.prototype.show=function(t){return Te(this,void 0,void 0,(function(){return Ee(this,(function(e){switch(e.label){case 0:return this.native_ad?[3,2]:[4,this.instance()];case 1:e.sent(),e.label=2;case 2:return this.native_ad&&(t&&this.native_ad.pos(t.x,t.y),this.native_ad.visible=!0),[2]}}))}))},e.prototype.hide=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.native_ad&&(this.native_ad.visible=!1),[2]}))}))},e}(G.a),Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ae(e,t),e.prototype.show=function(t){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return xe.getInstance().showFullScreenMatrix(),[2]}))}))},e}(G.a),Ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return Ae(e,t),e.prototype.instance=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.native_ad=xe.getInstance().createMainPush(Laya.stage,null),[2]}))}))},e.prototype.show=function(t){return Te(this,void 0,void 0,(function(){return Ee(this,(function(e){switch(e.label){case 0:return this.native_ad?[3,2]:[4,this.instance()];case 1:e.sent(),e.label=2;case 2:return this.native_ad&&(this.native_ad.removeSelf(),t&&this.native_ad.pos(t.x,t.y),Laya.stage.addChild(this.native_ad)),[2]}}))}))},e.prototype.hide=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.native_ad&&this.native_ad.removeSelf(),[2]}))}))},e}(G.a),Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.moreGameUI=null,e}return Ae(e,t),e.prototype.instance=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.button=xe.getInstance().createMoreGameButton(Laya.stage,null,!0),this.moreGameUI=xe.getInstance().createMoreGameUI(Laya.stage,null),this.button.removeSelf(),[2]}))}))},e.prototype.show=function(t){return Te(this,void 0,void 0,(function(){return Ee(this,(function(e){switch(e.label){case 0:return this.button?[3,2]:[4,this.instance()];case 1:e.sent(),e.label=2;case 2:return this.button&&(this.button.removeSelf(),t&&this.button.pos(t.x,t.y),Laya.stage.addChild(this.button)),[2]}}))}))},e.prototype.hide=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.button&&this.button.removeSelf(),[2]}))}))},e}(G.a),Me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.panel=null,e}return Ae(e,t),e.prototype.instance=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.button=xe.getInstance().createSlideButton(Laya.stage,{x:60,y:Laya.stage.height/2-40,width:60,height:80},!0,!0),this.panel=xe.getInstance().createSlideWindowUI(Laya.stage,null,!0),this.button.removeSelf(),[2]}))}))},e.prototype.show=function(t){return Te(this,void 0,void 0,(function(){return Ee(this,(function(e){switch(e.label){case 0:return this.button?[3,2]:[4,this.instance()];case 1:e.sent(),e.label=2;case 2:return this.button&&(this.button.removeSelf(),t&&this.button.pos(t.x+this.button.width,t.y),Laya.stage.addChild(this.button)),[2]}}))}))},e.prototype.hide=function(){return Te(this,void 0,void 0,(function(){return Ee(this,(function(t){return this.button&&this.button.removeSelf(),[2]}))}))},e}(G.a),Ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),je=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},Ne=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},He={APPID:"",BANNER_AD_UNIT_ID:"",REWARD_AD_UNIT_ID:"",INTERSTITIAL_AD_UNIT_ID:"",NATIVE_AD_UNIT_ID:""},ze=function(t){function e(){var e=t.call(this)||this;return e.youzi=null,e.banner=null,e.video=null,e.interstitial=null,e.native_banner=null,qg.initAdService({appId:He.APPID,isDebug:!0,success:function(){console.log("oppo广告","初始化广告服务成功",He.APPID),e.create_ads()},fail:function(){console.error("oppo广告","初始化广告服务失败")}}),e.youzi=new Pe("30208842"),e}return Ge(e,t),e.prototype.create_ads=function(){He.BANNER_AD_UNIT_ID&&(this.banner=new We(He.BANNER_AD_UNIT_ID)),He.REWARD_AD_UNIT_ID&&(this.video=new Ve(He.REWARD_AD_UNIT_ID)),He.INTERSTITIAL_AD_UNIT_ID&&(this.interstitial=new qe(He.INTERSTITIAL_AD_UNIT_ID)),He.NATIVE_AD_UNIT_ID&&(this.native_banner=new Xe(He.NATIVE_AD_UNIT_ID))},e.prototype.initialize=function(){return je(this,void 0,void 0,(function(){var t,e,n,i;return Ne(this,(function(o){switch(o.label){case 0:if(console.log("OPPO广告","初始化广告管理器",He),!this.banner)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.banner.instance()];case 2:return o.sent(),[3,4];case 3:return t=o.sent(),console.error("OPPO广告:","创建Banner广告失败",t),[3,4];case 4:if(!this.video)return[3,8];o.label=5;case 5:return o.trys.push([5,7,,8]),[4,this.video.instance()];case 6:return o.sent(),[3,8];case 7:return e=o.sent(),console.error("OPPO广告:","创建视频广告失败",e),[3,8];case 8:if(!this.interstitial)return[3,12];o.label=9;case 9:return o.trys.push([9,11,,12]),[4,this.interstitial.instance()];case 10:return o.sent(),[3,12];case 11:return n=o.sent(),console.error("OPPO广告:","创建插页广告失败",n),[3,12];case 12:if(!this.native_banner)return[3,16];o.label=13;case 13:return o.trys.push([13,15,,16]),[4,this.native_banner.instance()];case 14:return o.sent(),[3,16];case 15:return i=o.sent(),console.error("OPPO广告:","创建原生广告失败",i),[3,16];case 16:return[4,this.youzi.initialize()];case 17:return o.sent(),[2]}}))}))},e.prototype.show_banner=function(t){var e=this;return console.log("OPPO广告: 尝试展示Banner"),new Promise((function(n,i){e.banner?e.banner.show(t).then((function(){return n()})).catch((function(){return i()})):i()}))},e.prototype.hide_banner=function(){var t=this;return console.log("OPPO广告: 尝试隐藏Banner"),new Promise((function(e,n){t.banner?(t.banner.hide(),e()):n()}))},e.prototype.show_reward_video=function(){var t=this;return new Promise((function(e,n){t.video?t.video.show().then((function(){return e()})).catch((function(t){return n(t)})):n(k.b.CONFIGURATION_ERROR)}))},e.prototype.show_intersitial=function(){var t=this;return new Promise((function(e,n){t.interstitial?t.banner.show().then((function(){return e()})).catch((function(){return n()})):n()}))},e.prototype.show_native_ad=function(t,e){void 0===e&&(e=1),this.native_banner&&this.native_banner.show(t,e)},e.prototype.hide_native_ad=function(){this.native_banner&&this.native_banner.hide()},e}(G.b),We=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refresh_interval=30,e.native_ad=null,e.screen_size=null,e.is_visiable=!1,e}return Ge(e,t),e.prototype.instance=function(){var t=this;return new Promise((function(e,n){if(t.native_ad)e();else{var i=qg.getSystemInfoSync();t.screen_size=new j.a(i.screenWidth,i.screenHeight);var o=i.screenWidth,r=qg.createBannerAd({posId:t.id,adIntervals:t.refresh_interval,style:{left:(i.windowWidth-o)/2,top:i.windowHeight-100,width:o,height:100}}),a=function(){Laya.timer.once(1e3,null,(function(){r.style.top=i.windowHeight-100,r.style.left=(i.windowWidth-r.style.width)/2})),r.offResize(a)};r.onResize(a),r.onLoad((function(){console.log("OPPO广告:","Banner加载成功",t.id),t.native_ad=r,t.is_visiable||t.native_ad.hide(),e()})),r.onError((function(e){console.error("OPPO广告:","Banner加载失败",t.id,e),r.offResize(a),n()})),t.native_ad=r,e()}}))},e.prototype.destrory=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.native_ad&&(this.native_ad.destroy(),this.native_ad=null),this.is_visiable=!1,[2]}))}))},e.prototype.show=function(t){return je(this,void 0,void 0,(function(){return Ne(this,(function(e){return this.native_ad&&(this.set_position(t),this.native_ad.show()),this.is_visiable=!0,[2]}))}))},e.prototype.hide=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.native_ad&&this.native_ad.hide(),this.is_visiable=!1,[2]}))}))},e.prototype.set_position=function(t){if(this.native_ad){var e=qg.getSystemInfoSync();this.native_ad.style.top=e.windowHeight-100}},e}(G.a);!function(t){t.VIDEO_PLAY_DONE="VIDEO_PLAY_DONE",t.VIDEO_PLAY_CANCLED="VIDEO_PLAY_CANCLED"}(Ft||(Ft={}));var Fe,Ye,Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return Ge(e,t),e.prototype.instance=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.native_ad||(this.native_ad=this.create_reward_video()),[2]}))}))},e.prototype.destrory=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.native_ad&&(this.native_ad.destroy(),this.native_ad=null),[2]}))}))},e.prototype.show=function(t){var e=this;return new Promise((function(t,n){e.native_ad?(e.offAll(Ft.VIDEO_PLAY_DONE),e.offAll(Ft.VIDEO_PLAY_CANCLED),e.on(Ft.VIDEO_PLAY_DONE,null,(function(){return t()})),e.on(Ft.VIDEO_PLAY_CANCLED,null,(function(){return n(k.b.WATCH_CANCELED)})),e.native_ad.show()):n(k.b.CONFIGURATION_ERROR)}))},e.prototype.hide=function(){return new Promise((function(t,e){e()}))},e.prototype.create_reward_video=function(){var t=this,e=this.id;if(e){var n=qg.createRewardedVideoAd({posId:e});return n.onLoad((function(){console.log("OPPO广告:","激励视频加载成功",e)})),n.onError((function(t){console.error("OPPO广告:","激励视频加载失败",e,t)})),n.onClose((function(e){console.log("OPPO广告:","激励视频关闭",e),e&&e.isEnded||void 0===e?t.event(Ft.VIDEO_PLAY_DONE):t.event(Ft.VIDEO_PLAY_CANCLED),n.load()})),n.load(),n}return null},e}(G.a),qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.native_ad=null,e}return Ge(e,t),e.prototype.instance=function(){return je(this,void 0,void 0,(function(){var t=this;return Ne(this,(function(e){return this.native_ad||(this.native_ad=qg.createInsertAd({posId:this.id}),this.native_ad.load(),this.native_ad.onLoad((function(){console.log("OPPO广告","加载插页广告完成")})),this.native_ad.onError((function(t){console.error("OPPO广告","加载插页广告失败",t)})),this.native_ad.onClose((function(){t.native_ad.load()}))),[2]}))}))},e.prototype.show=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){switch(t.label){case 0:return this.native_ad?[4,this.native_ad.show()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e}(G.a),Xe=function(t){function e(e){var n=t.call(this,e)||this;return n.native_ad=null,n.ad_list=[],n.current_ad=null,n.view=new fairygui.GComponent,n.image=new fairygui.GLoader,n.tag=new fairygui.GLoader,n.on_load=function(t){console.log("OPPO广告:","加载原生广告完成",t),n.ad_list=t.adList,n.switch_ad()},n.on_error=function(t){n.ad_list=[],console.error("OPPO广告:","加载原生广告出错",t),Laya.timer.once(5e3,n.native_ad,n.native_ad.load)},n.view.addChild(n.image),n.view.onClick(null,(function(){n.current_ad&&n.report_click(n.current_ad)})),n.image.autoSize=!0,n.tag.autoSize=!0,n.view.addChild(n.tag),n.view.setPivot(.5,.5,!0),n}return Ge(e,t),e.prototype.instance=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.native_ad=qg.createNativeAd({posId:this.id}),this.native_ad.onLoad(this.on_load),this.native_ad.onError(this.on_error),this.native_ad.load(),[2]}))}))},e.prototype.destrory=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.view.removeFromParent(),this.native_ad&&(this.native_ad.offLoad(this.on_load),this.native_ad.offError(this.on_error),this.native_ad.destroy(),this.native_ad=null,this.current_ad=null),[2]}))}))},e.prototype.show=function(t,e){return void 0===e&&(e=1),je(this,void 0,void 0,(function(){return Ne(this,(function(n){return this.native_ad&&(this.view.removeFromParent(),this.current_ad&&(this.current_ad.show_reported||this.report_show(this.current_ad),this.view.setSize(this.image.width,this.image.height),fairygui.GRoot.inst.addChild(this.view),t&&this.view.setXY(t.x,t.y),this.tag.setXY(this.image.width-this.tag.width,this.image.height-this.tag.height),this.view.setScale(e,e))),[2]}))}))},e.prototype.hide=function(){return je(this,void 0,void 0,(function(){return Ne(this,(function(t){return this.view.removeFromParent(),[2]}))}))},e.prototype.switch_ad=function(){return je(this,void 0,void 0,(function(){var t;return Ne(this,(function(e){switch(e.label){case 0:return(t=this.ad_list.indexOf(this.current_ad))<this.ad_list.length-1&&this.ad_list.length?(this.current_ad=this.ad_list[t+1],this.current_ad.imgUrlList&&this.current_ad.imgUrlList.length&&(this.image.url=this.current_ad.imgUrlList[0]),this.tag.url=this.current_ad.logoUrl,console.log("OPPO广告:","切换展示的广告",this.current_ad),[3,4]):[3,1];case 1:return console.log("OPPO广告:","重新拉取原生广告"),[4,this.destrory()];case 2:return e.sent(),[4,this.instance()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},e.prototype.report_show=function(t){this.native_ad&&(this.native_ad.reportAdShow({adId:t.adId}),t.show_reported=!0,console.log("OPPO广告:","上报广告展示",t))},e.prototype.report_click=function(t){this.native_ad&&(this.native_ad.reportAdClick({adId:t.adId}),console.log("OPPO广告:","上报广告点击",t),this.switch_ad())},e}(G.a),Je=n(26),Ke=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qe=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},Ze=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},$e=function(t){function e(){var e=t.call(this)||this;return e.oppo_user_info=null,e.ad_manager=e.create_ad_manager(),console.log("Oppo平台","创建"),qg.onHide(e.create_shortcut.bind(e)),Laya.MiniAdpter.nativefiles=Je.a.concat([]),e}return Ke(e,t),e.prototype.create_ad_manager=function(){return He.APPID=o.c.appid,He.BANNER_AD_UNIT_ID="139793",He.REWARD_AD_UNIT_ID="139795",He.NATIVE_AD_UNIT_ID="139809",He.INTERSTITIAL_AD_UNIT_ID="139803",new ze},e.prototype.initialize=function(){var t=this;Laya.timer.once(1e3,null,(function(){t.admanager.initialize()}))},e.prototype.login=function(){return Qe(this,void 0,void 0,(function(){var t=this;return Ze(this,(function(e){return[2,new Promise((function(e,n){qg.login({success:function(n){console.error("OPPO平台","登陆成功",n),t.oppo_user_info=n,e({uuid:n.data.token,name:"Hero",avatar:n.data.avatar,location:"China"})},fail:function(t){n(t),console.error("OPPO平台","登陆失败",t)}})}))]}))}))},e.prototype.get_user_info=function(){return Qe(this,void 0,void 0,(function(){return Ze(this,(function(t){return this.oppo_user_info?[2,{uuid:"",avatar:this.oppo_user_info.data.avatar,name:this.oppo_user_info.nickName}]:[2,{uuid:"82d7268b-2707-412b-b4c4-65baf63e9b43",name:"Hero",avatar:"",location:"China"}]}))}))},e.prototype.create_shortcut=function(){return new Promise((function(t,e){qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){t()},fail:function(t){e()},complete:function(){}}):t()},fail:function(t){e()},complete:function(){}})}))},e.prototype.alert=function(t){qg.showModal({content:t,showCancel:!1})},e}(k.c);!function(t){t[t.FREE=0]="FREE",t[t.SHARE=1]="SHARE",t[t.REWARD_VIDEO=2]="REWARD_VIDEO",t[t.PURCHURS=3]="PURCHURS"}(Fe||(Fe={})),function(t){t.RELIVE="RELIVE",t.DOUBLE_REWARD="DOUBLE_REWARD",t.TRY_BOOST_MODE="TRY_BOOST_MODE",t.ADD_CUSTOMER="ADD_CUSTOMER"}(Ye||(Ye={}));var tn={};function en(t){return tn[t]||Fe.FREE}var nn,on=n(37),rn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),an=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},sn=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},un=function(t){function e(){var e=t.call(this)||this;return e.timeout=10,e}return rn(e,t),e.prototype.get=function(t,e){var n=this;return new Promise((function(e,i){var o=new Laya.HttpRequest;o.http.timeout=1e3*n.timeout;var r={completeHandler:function(t){"string"==typeof t&&(t.startsWith("{")||t.startsWith("["))?e(JSON.parse(t)):e(t)},errorHandler:function(t){i(t)}};o.once(Laya.Event.COMPLETE,r,r.completeHandler),o.once(Laya.Event.ERROR,r,r.errorHandler),o.send(t)}))},e.prototype.post=function(t,e,n){return void 0===n&&(n=["Content-Type","application/json"]),an(this,void 0,void 0,(function(){var i=this;return sn(this,(function(o){return[2,new Promise((function(o,r){var a=new Laya.HttpRequest;a.http.timeout=1e3*i.timeout;var s={completeHandler:function(t){o(t)},errorHandler:function(t){r(t)}};a.once(Laya.Event.COMPLETE,s,s.completeHandler),a.once(Laya.Event.ERROR,s,s.errorHandler);var u="object"==typeof e?JSON.stringify(e):e;a.send(t,u,"post","json",n)}))]}))}))},e}(De.a),ln=(nn=null,"undefined"!=typeof Laya&&(nn=new un),nn),cn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hn=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},pn=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},fn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dn=function(t){function e(e){var n=t.call(this)||this;return n.user_info=null,n.float_ads=[],n.share_info=null,n.gameid=e,n}return cn(e,t),e.prototype.initialize=function(){return hn(this,void 0,void 0,(function(){return pn(this,(function(t){return[2]}))}))},e.prototype.login=function(t){return hn(this,void 0,void 0,(function(){return pn(this,(function(t){return[2,null]}))}))},e.prototype.get_user_info=function(){return this.user_info},e.prototype.request=function(t,e,n){return hn(this,void 0,void 0,(function(){var i,o,r;return pn(this,(function(a){switch(a.label){case 0:switch(i=e.startsWith("http://")||e.startsWith("https://")?e:this.base_url+e,o=void 0,t){case"post":return[3,1];case"get":return[3,3]}return[3,3];case 1:return[4,ln.post(i,n)];case 2:return o=a.sent(),[3,5];case 3:return r=on.stringify(n),i+=r?"?"+r:"",[4,ln.get(i)];case 4:o=a.sent(),a.label=5;case 5:return[2,this.parse_request_response(t,e,i,o)]}}))}))},e.prototype.parse_request_response=function(t,e,n,i){return i},e.prototype.get_float_ads=function(t,e){var n,i,o=[];try{for(var r=fn(this.float_ads),a=r.next();!a.done;a=r.next()){var s=a.value;s.location_flg==t&&s.location_id==e&&o.push(s)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o},e.prototype.click_float_ad_item=function(t){return hn(this,void 0,void 0,(function(){return pn(this,(function(t){return[2]}))}))},e.prototype.share_callback=function(t){return hn(this,void 0,void 0,(function(){return pn(this,(function(t){return[2]}))}))},e}(De.a);var yn,_n,mn=mn||function(t,e){var n={},i=n.lib={},o=function(){},r=i.Base={extend:function(t){o.prototype=this;var e=new o;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var o=0;o<t;o++)e[i+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(i+o)%4*8;else if(65535<n.length)for(o=0;o<t;o+=4)e[i+o>>>2]=n[o>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new a.init(n,e)}}),s=n.enc={},u=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new a.init(n,e/2)}},l=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new a.init(n,e)}},c=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,s=o/(4*r);if(e=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,o=t.min(4*e,o),e){for(var u=0;u<e;u+=r)this._doProcessBlock(i,u);u=i.splice(0,e),n.sigBytes-=o}return new a.init(u,o)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=h.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=n.algo={};return n}(Math);!function(t){for(var e=mn,n=(o=e.lib).WordArray,i=o.Hasher,o=e.algo,r=[],a=[],s=function(t){return 4294967296*(t-(0|t))|0},u=2,l=0;64>l;){var c;t:{c=u;for(var h=t.sqrt(c),p=2;p<=h;p++)if(!(c%p)){c=!1;break t}c=!0}c&&(8>l&&(r[l]=s(t.pow(u,.5))),a[l]=s(t.pow(u,1/3)),l++),u++}var f=[];o=o.SHA256=i.extend({_doReset:function(){this._hash=new n.init(r.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],r=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],p=0;64>p;p++){if(16>p)f[p]=0|t[e+p];else{var d=f[p-15],y=f[p-2];f[p]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+f[p-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+f[p-16]}d=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+a[p]+f[p],y=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&o^i&r^o&r),h=c,c=l,l=u,u=s+d|0,s=r,r=o,o=i,i=d+y|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+r|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(o),e.HmacSHA256=i._createHmacHelper(o)}(Math),_n=(yn=mn).enc.Utf8,yn.algo.HMAC=yn.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=_n.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),r=this._iKey=e.clone(),a=o.words,s=r.words,u=0;u<n;u++)a[u]^=1549556828,s[u]^=909522486;o.sigBytes=r.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}});var vn=mn,gn=0,wn=8;function bn(t){return Tn(In(An(t),t.length*wn))}function In(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,i=-271733879,o=-1732584194,r=271733878,a=0;a<t.length;a+=16){var s=n,u=i,l=o,c=r;n=Sn(n,i,o,r,t[a+0],7,-680876936),r=Sn(r,n,i,o,t[a+1],12,-389564586),o=Sn(o,r,n,i,t[a+2],17,606105819),i=Sn(i,o,r,n,t[a+3],22,-1044525330),n=Sn(n,i,o,r,t[a+4],7,-176418897),r=Sn(r,n,i,o,t[a+5],12,1200080426),o=Sn(o,r,n,i,t[a+6],17,-1473231341),i=Sn(i,o,r,n,t[a+7],22,-45705983),n=Sn(n,i,o,r,t[a+8],7,1770035416),r=Sn(r,n,i,o,t[a+9],12,-1958414417),o=Sn(o,r,n,i,t[a+10],17,-42063),i=Sn(i,o,r,n,t[a+11],22,-1990404162),n=Sn(n,i,o,r,t[a+12],7,1804603682),r=Sn(r,n,i,o,t[a+13],12,-40341101),o=Sn(o,r,n,i,t[a+14],17,-1502002290),n=Ln(n,i=Sn(i,o,r,n,t[a+15],22,1236535329),o,r,t[a+1],5,-165796510),r=Ln(r,n,i,o,t[a+6],9,-1069501632),o=Ln(o,r,n,i,t[a+11],14,643717713),i=Ln(i,o,r,n,t[a+0],20,-373897302),n=Ln(n,i,o,r,t[a+5],5,-701558691),r=Ln(r,n,i,o,t[a+10],9,38016083),o=Ln(o,r,n,i,t[a+15],14,-660478335),i=Ln(i,o,r,n,t[a+4],20,-405537848),n=Ln(n,i,o,r,t[a+9],5,568446438),r=Ln(r,n,i,o,t[a+14],9,-1019803690),o=Ln(o,r,n,i,t[a+3],14,-187363961),i=Ln(i,o,r,n,t[a+8],20,1163531501),n=Ln(n,i,o,r,t[a+13],5,-1444681467),r=Ln(r,n,i,o,t[a+2],9,-51403784),o=Ln(o,r,n,i,t[a+7],14,1735328473),n=On(n,i=Ln(i,o,r,n,t[a+12],20,-1926607734),o,r,t[a+5],4,-378558),r=On(r,n,i,o,t[a+8],11,-2022574463),o=On(o,r,n,i,t[a+11],16,1839030562),i=On(i,o,r,n,t[a+14],23,-35309556),n=On(n,i,o,r,t[a+1],4,-1530992060),r=On(r,n,i,o,t[a+4],11,1272893353),o=On(o,r,n,i,t[a+7],16,-155497632),i=On(i,o,r,n,t[a+10],23,-1094730640),n=On(n,i,o,r,t[a+13],4,681279174),r=On(r,n,i,o,t[a+0],11,-358537222),o=On(o,r,n,i,t[a+3],16,-722521979),i=On(i,o,r,n,t[a+6],23,76029189),n=On(n,i,o,r,t[a+9],4,-640364487),r=On(r,n,i,o,t[a+12],11,-421815835),o=On(o,r,n,i,t[a+15],16,530742520),n=xn(n,i=On(i,o,r,n,t[a+2],23,-995338651),o,r,t[a+0],6,-198630844),r=xn(r,n,i,o,t[a+7],10,1126891415),o=xn(o,r,n,i,t[a+14],15,-1416354905),i=xn(i,o,r,n,t[a+5],21,-57434055),n=xn(n,i,o,r,t[a+12],6,1700485571),r=xn(r,n,i,o,t[a+3],10,-1894986606),o=xn(o,r,n,i,t[a+10],15,-1051523),i=xn(i,o,r,n,t[a+1],21,-2054922799),n=xn(n,i,o,r,t[a+8],6,1873313359),r=xn(r,n,i,o,t[a+15],10,-30611744),o=xn(o,r,n,i,t[a+6],15,-1560198380),i=xn(i,o,r,n,t[a+13],21,1309151649),n=xn(n,i,o,r,t[a+4],6,-145523070),r=xn(r,n,i,o,t[a+11],10,-1120210379),o=xn(o,r,n,i,t[a+2],15,718787259),i=xn(i,o,r,n,t[a+9],21,-343485551),n=Dn(n,s),i=Dn(i,u),o=Dn(o,l),r=Dn(r,c)}return Array(n,i,o,r)}function Cn(t,e,n,i,o,r){return Dn((a=Dn(Dn(e,t),Dn(i,r)))<<(s=o)|a>>>32-s,n);var a,s}function Sn(t,e,n,i,o,r,a){return Cn(e&n|~e&i,t,e,o,r,a)}function Ln(t,e,n,i,o,r,a){return Cn(e&i|n&~i,t,e,o,r,a)}function On(t,e,n,i,o,r,a){return Cn(e^n^i,t,e,o,r,a)}function xn(t,e,n,i,o,r,a){return Cn(n^(e|~i),t,e,o,r,a)}function Dn(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function An(t){for(var e=Array(),n=(1<<wn)-1,i=0;i<t.length*wn;i+=wn)e[i>>5]|=(t.charCodeAt(i/wn)&n)<<i%32;return e}function Tn(t){for(var e=gn?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*t.length;i++)n+=e.charAt(t[i>>2]>>i%4*8+4&15)+e.charAt(t[i>>2]>>i%4*8&15);return n}var En,Pn={hex_md5:bn},kn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bn=function(){return(Bn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Un=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Rn=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},Mn=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Gn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jn=function(t){function e(e){var n=t.call(this,"qgdzz")||this;return n.base_url="https://api.yz061.com/",n.channel="own",n.from_appid="",n.openid="",n.floadAds=[],n.yunquConfigs=[],n.shareSeed=null,n.floatAdsSeed=[],n.exposure=new Map,n}var n;return kn(e,t),e.prototype.initialize=function(){return Rn(this,void 0,void 0,(function(){var e,n,i,r,a,s,l,c,h,p,f,d,y,_,m,v,g,w,b,I,C,S,L,O=this;return Mn(this,(function(x){switch(x.label){case 0:return o.b.WECHAT==o.c.platform&&(this.channel="own",(e=u.c.inst.get_module(k.c).get_launch_option()).query&&e.query.channel&&(this.channel=e.query.channel),e.referrerInfo&&e.referrerInfo.appId&&(this.from_appid=e.referrerInfo.appId)),console.log("云趣API","开始初始化"),n=this,[4,this.get_app_config()];case 1:if(n.yunquConfigs=x.sent(),this.yunquConfigs&&this.yunquConfigs.length)try{for(i=Gn(this.yunquConfigs),r=i.next();!r.done;r=i.next())1==(v=r.value).matter_type?this.floatAdsSeed.push(v):2==v.matter_type&&(this.shareSeed=v)}catch(t){w={error:t}}finally{try{r&&!r.done&&(b=i.return)&&b.call(i)}finally{if(w)throw w.error}}return console.log("云趣API","拉取云趣配置成功",this.yunquConfigs),[4,u.c.inst.get_module(k.c).login()];case 2:return a=x.sent(),console.log("云趣API","平台登录成功",a),[4,this.login(a.uuid)];case 3:return x.sent(),[4,u.c.inst.get_module(k.c).get_user_info()];case 4:if(a=x.sent(),console.log("云趣API","用户登录成功",a),s=this.openid?this.openid:"undefined",!this.floatAdsSeed.length)return[3,13];x.label=5;case 5:x.trys.push([5,10,11,12]),l=Gn(this.floatAdsSeed),c=l.next(),x.label=6;case 6:return c.done?[3,9]:(h=c.value,[4,t.prototype.request.call(this,"get",h.url+"&uid="+s)]);case 7:p=x.sent();try{for(S=void 0,f=Gn(p),d=f.next();!d.done;d=f.next())y=d.value,this.float_ads.push({id:y.ad_appid,title:y.ad_name,icon:y.ad_img,url:y.ad_path,data:y,location_id:h.location_id,location_flg:h.location_flg})}catch(t){S={error:t}}finally{try{d&&!d.done&&(L=f.return)&&L.call(f)}finally{if(S)throw S.error}}x.label=8;case 8:return c=l.next(),[3,6];case 9:return[3,12];case 10:return _=x.sent(),I={error:_},[3,12];case 11:try{c&&!c.done&&(C=l.return)&&C.call(l)}finally{if(I)throw I.error}return[7];case 12:console.log("云趣API","拉取广告配置完成",this.float_ads),"undefined"!=typeof wx&&wx.onHide(this.report_ad_exposure.bind(this)),x.label=13;case 13:return this.shareSeed?[4,t.prototype.request.call(this,"get",this.shareSeed.url+"&uid="+s)]:[3,15];case 14:(m=x.sent())&&m.length&&(v=m[0],this.share_info={title:v.share_title,message:v.share_title,url:v.share_path,image_url:v.share_img,data:v},(g=u.c.inst.get_module(k.c))instanceof P.a&&g.set_share_config(this.share_info)),console.log("云趣API","拉取分享配置完成",this.share_info),x.label=15;case 15:return u.c.inst.modules.commerce.on("PAY_DONE",null,(function(t,e){console.log("云趣API","上报计费事件"),O.report_pay_action(e)})),[2]}}))}))},e.prototype.login=function(t){return Rn(this,void 0,void 0,(function(){var e,n;return Mn(this,(function(i){switch(i.label){case 0:return[4,u.c.inst.get_module(k.c).get_user_info()];case 1:return e=i.sent(),[4,this.request("get","auth",{code:t})];case 2:return n=i.sent(),this.openid=n.openid||"undefined",this.openid&&(e.uuid=this.openid),[4,this.request("get","daily",{uid:n.openid})];case 3:return i.sent(),this.user_info=e,[2,e]}}))}))},e.prototype.request=function(e,n,i,o){return void 0===o&&(o=!1),Rn(this,void 0,void 0,(function(){var r,a,s;return Mn(this,(function(u){switch(u.label){case 0:return r={flg:this.gameid,channel:this.channel,appid:this.from_appid},"object"==typeof i&&((r=Bn(Bn({},r),i)).uid=this.openid),o&&(a=this.generate_sign(r),n+="?sign="+a),[4,t.prototype.request.call(this,e,n,r)];case 1:return s=u.sent(),console.log("云趣API","请求日志",n,r,s),[2,s]}}))}))},e.prototype.get_app_config=function(){return this.request("get","game/"+this.gameid)},e.prototype.parse_request_response=function(t,e,n,i){return i.result?i.result:i},e.prototype.click_float_ad_item=function(t){return Rn(this,void 0,void 0,(function(){var e,n;return Mn(this,(function(i){switch(i.label){case 0:e="",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,u.c.inst.get_module(k.c).navigate_to_app(t.id,t.url)];case 2:return i.sent(),e="cb",[3,4];case 3:return n=i.sent(),console.warn("跳转到APP失败",n),[3,4];case 4:if(this.request("post","reportad",{status:e,gflg:this.gameid,ad_id:t.data.ad_id,location_id:t.location_id,channel:this.channel}),console.log("云趣API","上报广告点击事件完成"),!e)throw"跳转失败";return[2]}}))}))},e.prototype.report_ad_exposure=function(){return Rn(this,void 0,void 0,(function(){var t,e,n,i,o,r,a,s,u,l,c;return Mn(this,(function(h){switch(h.label){case 0:if(!this.exposure.size)return[2];t=[];try{for(e=Gn(this.exposure.values()),n=e.next();!n.done;n=e.next()){i=n.value;try{for(l=void 0,o=Gn(i.values()),r=o.next();!r.done;r=o.next())a=r.value,t.push(a)}catch(t){l={error:t}}finally{try{r&&!r.done&&(c=o.return)&&c.call(o)}finally{if(l)throw l.error}}}}catch(t){s={error:t}}finally{try{n&&!n.done&&(u=e.return)&&u.call(e)}finally{if(s)throw s.error}}return[4,this.request("post","exposure",{data:t,gflg:this.gameid,channel:this.channel})];case 1:return h.sent(),this.exposure.clear(),console.log("云趣API","上报广告曝光完成"),[2]}}))}))},e.prototype.count_exposure=function(t){var e,n;try{for(var i=Gn(t),o=i.next();!o.done;o=i.next()){var r=o.value,a=this.exposure.get(r.location_id)||new Map,s=a.get(r.ad_id)||{ad_id:r.ad_id,location_id:r.location_id,num:0};s.num+=1,a.set(r.ad_id,s),this.exposure.set(r.location_id,a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.report_pay_action=function(t){return Rn(this,void 0,void 0,(function(){var e;return Mn(this,(function(n){switch(n.label){case 0:return e="",t==Fe.SHARE?e="share":t==Fe.REWARD_VIDEO&&(e="video"),e?[4,this.request("post","stat",{loc:e},!0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.generate_sign=function(t){var e,n,i=Object.keys(t).sort(),o=[];try{for(var r=Gn(i),a=r.next();!a.done;a=r.next()){var s=a.value;o.push(s+"="+t[s])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}var u=o.join("&");return vn.HmacSHA256(u,Pn.hex_md5(this.openid+this.gameid)).toString()},e=Un([(n="yunqu",function(t){t.prototype.uid=n})],e)}(dn),Nn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hn=function(){return(Hn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},zn=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Wn=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},Fn=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};!function(t){t.PAY_DONE="PAY_DONE"}(En||(En={}));var Yn=function(t){function e(){var e=t.call(this)||this;e.providers={},e.gameid="",e.gameid=o.c.appid;var n={};switch(o.c.platform){case o.b.QQ:n[Ye.DOUBLE_REWARD]=Fe.REWARD_VIDEO,n[Ye.RELIVE]=Fe.REWARD_VIDEO,n[Ye.TRY_BOOST_MODE]=Fe.REWARD_VIDEO;break;case o.b.WECHAT:default:n[Ye.DOUBLE_REWARD]=Fe.REWARD_VIDEO,n[Ye.RELIVE]=Fe.REWARD_VIDEO,n[Ye.TRY_BOOST_MODE]=Fe.REWARD_VIDEO}return function(t){for(var e in t)tn[e]=t[e]}(n),e}return Nn(e,t),e.prototype.initialize=function(){for(var t in this.providers)this.providers[t].initialize()},Object.defineProperty(e.prototype,"provider",{get:function(){switch(o.c.platform){case o.b.QQ:break;case o.b.WECHAT:default:return this.get_provider(jn)}return null},enumerable:!0,configurable:!0}),e.prototype.get_provider=function(t){return this.providers[t.prototype.uid]},e.prototype.register_provider=function(t){this.providers[t.prototype.uid]=new t(this.gameid)},e.prototype.pay=function(t){return Wn(this,void 0,void 0,(function(){return Fn(this,(function(e){switch(e.label){case 0:return this.send_event("pay",{point:t}),[4,this.pay_with_type(en(t))];case 1:return e.sent(),this.send_event("pay_done",{point:t}),this.event(En.PAY_DONE,[t,en(t)]),[2]}}))}))},e.prototype.pay_with_type=function(t){return Wn(this,void 0,void 0,(function(){return Fn(this,(function(e){switch(e.label){case 0:switch(t){case Fe.REWARD_VIDEO:return[3,1];case Fe.SHARE:return[3,3];case Fe.FREE:case Fe.PURCHURS:return[3,5]}return[3,5];case 1:return[4,u.c.inst.get_module(k.c).play_reward_video()];case 2:return e.sent(),[3,6];case 3:return[4,u.c.inst.get_module(k.c).share()];case 4:return e.sent(),[3,6];case 5:return[3,6];case 6:return[2]}}))}))},e.prototype.send_event=function(t,e){return Wn(this,void 0,void 0,(function(){return Fn(this,(function(n){return"undefined"!=typeof wx&&(wx.aldSendEvent,1)&&("object"==typeof e?wx.aldSendEvent(t,Hn({},e)):wx.aldSendEvent(t,e+"")),[2]}))}))},e=zn([Object(b.b)("commerce")],e)}(b.a),Vn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qn=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Xn=function(t){function e(){return t.call(this)||this}return Vn(e,t),e=qn([Object(b.b)("platform")],e)}(P.a),Jn=n(28),Kn=n(1),Qn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zn=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},$n=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},ti={Splash:{name:"Splash",package:{name:"Splash",data_file:"assets/ui/Splash.bin",atlas:"assets/ui/Splash_atlas0.png",comToClass:{}},scene_class:r.a},Main:{name:"Main",package:{name:"Main",data_file:"assets/ui/Main.bin",atlas:"assets/ui/Main_atlas0.png",comToClass:{}},scene_class:a.a,load_dependences:function(){return Zn(this,void 0,void 0,(function(){return $n(this,(function(t){switch(t.label){case 0:return s.a.inst.fairygui_helper.is_package_loaded("Common")?[3,2]:[4,s.a.inst.fairygui_helper.load_package("Common","assets/ui/Common.bin","assets/ui/Common_atlas0.png")];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}}};window.SCENES=ti;var ei=function(t){function e(e){var n=t.call(this,e)||this;n.game=null,n.scene_manager.register_scene(ti.Splash,!0,!0),n.scene_manager.register_scene(ti.Main,!0);var i=null;switch(o.c.platform){case o.b.WECHAT:i=P.a;break;case o.b.QQ:Laya.MiniAdpter=Laya.QQMiniAdapter,i=R;break;case o.b.BAIDU:Laya.MiniAdpter=Laya.BMiniAdapter,i=M.a;break;case o.b.OPPO:Laya.MiniAdpter=Laya.QGMiniAdapter,i=$e;break;case o.b.BYTEDANCE:i=Xn;break;case o.b.WEB:default:i=k.c}return n.game=new u.c({modules:[i,L,E,Yn,Jn.a,Kn.b],storage:new w,options:{}}),n}return Qn(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.game.once(u.b.LOGIC_STARTED,null,(function(){e.game.timer.loop(60,e.game.query_save.bind(e.game))}))},e.prototype.main_loop=function(){var e=t.prototype.main_loop.call(this);return this.game.update(e),e},e}(s.a);!function(){Zn(this,void 0,void 0,(function(){var t;return $n(this,(function(e){return o.c.init(),(t=new ei(o.c.backend_stage)).start(),t.game.get_module(L).add_daily_task(O.a.create(null,(function(){console.log("Daily task"),Laya.Loader.MESH}))),[2]}))}))}()}]);